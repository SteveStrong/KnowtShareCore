webpackJsonp([1],{"/cYh":function(t,e,n){"use strict";function r(t){this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(f.isEncoding===p||!p(t)))throw new Error("Unknown encoding: "+t);return e||t}(t);var e;switch(this.encoding){case"utf16le":this.text=a,this.end=s,e=4;break;case"utf8":this.fillLast=o,e=4;break;case"base64":this.text=u,this.end=l,e=3;break;default:return this.write=c,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=f.allocUnsafe(e)}function i(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:-1}function o(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"\ufffd".repeat(n);if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"\ufffd".repeat(n+1);if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"\ufffd".repeat(n+2)}}(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function a(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function s(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):e}function u(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function c(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}var f=n("zOKz").Buffer,p=f.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};e.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd".repeat(this.lastTotal-this.lastNeed):e},r.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var o=i(e[r]);return o>=0?(o>0&&(t.lastNeed=o-1),o):--r<n?0:(o=i(e[r]))>=0?(o>0&&(t.lastNeed=o-2),o):--r<n?0:(o=i(e[r]))>=0?(o>0&&(2===o?o=0:t.lastNeed=o-3),o):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},"/kLR":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("LMZF"),i=n("CQHW"),o=n("t6g9"),a=n("x+2D"),s=n("TO51");e.ToastsManager=function(){function t(t,e,n,r){this.componentFactoryResolver=t,this.ngZone=e,this.appRef=n,this.options=r,this.index=0,this.toastClicked=new s.Subject}return t.prototype.setRootViewContainerRef=function(t){this._rootViewContainerRef=t},t.prototype.onClickToast=function(){return this.toastClicked.asObservable()},t.prototype.show=function(t,e){var n=this;return new Promise(function(a,s){if(!n.container){if(!n._rootViewContainerRef)try{n._rootViewContainerRef=n.appRef._rootComponents[0]._hostElement.vcRef}catch(t){s(new Error("Please set root ViewContainerRef using setRootViewContainerRef(vRef: ViewContainerRef) method."))}var u=r.ReflectiveInjector.resolve([{provide:o.ToastOptions,useValue:n.options}]),l=n.componentFactoryResolver.resolveComponentFactory(i.ToastContainer),c=r.ReflectiveInjector.fromResolvedProviders(u,n._rootViewContainerRef.parentInjector);n.container=n._rootViewContainerRef.createComponent(l,n._rootViewContainerRef.length,c),n.container.instance.onToastClicked=function(t){n._onToastClicked(t)},n.container.instance.onExit().subscribe(function(){n.dispose()})}a(n.setupToast(t,e))})},t.prototype.createTimeout=function(t){var e,n=this;return this.ngZone.runOutsideAngular(function(){e=setTimeout(function(){return n.ngZone.run(function(){return n.clearToast(t)})},t.config.toastLife)}),e.toString()},t.prototype.setupToast=function(t,e){t.id=++this.index,e&&e.hasOwnProperty("toastLife")&&(e.dismiss="auto");var n=Object.assign({},this.options,e||{});return Object.keys(t.config).forEach(function(e){n.hasOwnProperty(e)&&(t.config[e]=n[e])}),"auto"===t.config.dismiss&&(t.timeoutId=this.createTimeout(t)),this.container.instance.addToast(t),t},t.prototype._onToastClicked=function(t){this.toastClicked.next(t),"click"===t.config.dismiss&&this.clearToast(t)},t.prototype.dismissToast=function(t){this.clearToast(t)},t.prototype.clearToast=function(t){this.container&&this.container.instance.removeToast(t)},t.prototype.clearAllToasts=function(){this.container&&(this.container.instance.removeAllToasts(),this.dispose())},t.prototype.dispose=function(){this.container&&(this.container.destroy(),this.container=null)},t.prototype.error=function(t,e,n){var r=new a.Toast("error",t,e,n&&n.data?n.data:null);return this.show(r,n)},t.prototype.info=function(t,e,n){var r=new a.Toast("info",t,e,n&&n.data?n.data:null);return this.show(r,n)},t.prototype.success=function(t,e,n){var r=new a.Toast("success",t,e,n&&n.data?n.data:null);return this.show(r,n)},t.prototype.warning=function(t,e,n){var r=new a.Toast("warning",t,e,n&&n.data?n.data:null);return this.show(r,n)},t.prototype.custom=function(t,e,n){var r=new a.Toast("custom",t,e,n&&n.data?n.data:null);return this.show(r,n)},t.decorators=[{type:r.Injectable}],t}()},0:function(t,e,n){t.exports=n("cDNt")},1:function(t,e){},"1Rb4":function(t,e,n){"use strict";(function(e){t.exports=!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}:e.nextTick}).call(e,n("1WNV"))},"1WNV":function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(){d&&f&&(d=!1,f.length?p=f.concat(p):m=-1,p.length&&a())}function a(){if(!d){var t=i(o);d=!0;for(var e=p.length;e;){for(f=p,p=[];++m<e;)f&&f[m].run();m=-1,e=p.length}f=null,d=!1,function(t){if(c===clearTimeout)return clearTimeout(t);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}(t)}}function s(t,e){this.fun=t,this.array=e}function u(){}var l,c,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(t){c=r}}();var f,p=[],d=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new s(t,e)),1!==p.length||d||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},"1j/l":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},"2iE6":function(t,e,n){(function(e){function r(t){if(!(this instanceof r))return new r(t);if(this._bufs=[],this.length=0,"function"==typeof t){this._callback=t;var e=(function(t){this._callback&&(this._callback(t),this._callback=null)}).bind(this);this.on("pipe",function(t){t.on("error",e)}),this.on("unpipe",function(t){t.removeListener("error",e)})}else this.append(t);i.call(this)}var i=n("XvLI");n("N+n4").inherits(r,i),r.prototype._offset=function(t){var e,n=0,r=0;if(0===t)return[0,0];for(;r<this._bufs.length;r++){if(e=n+this._bufs[r].length,t<e||r==this._bufs.length-1)return[r,t-n];n=e}},r.prototype.append=function(t){var n=0;if(e.isBuffer(t))this._appendBuffer(t);else if(Array.isArray(t))for(;n<t.length;n++)this.append(t[n]);else if(t instanceof r)for(;n<t._bufs.length;n++)this.append(t._bufs[n]);else null!=t&&("number"==typeof t&&(t=t.toString()),this._appendBuffer(new e(t)));return this},r.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},r.prototype._write=function(t,e,n){this._appendBuffer(t),"function"==typeof n&&n()},r.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},r.prototype.end=function(t){i.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},r.prototype.get=function(t){return this.slice(t,t+1)[0]},r.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},r.prototype.copy=function(t,n,r,i){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof i||i>this.length)&&(i=this.length),r>=this.length)return t||new e(0);if(i<=0)return t||new e(0);var o,a,s=!!t,u=this._offset(r),l=i-r,c=l,h=s&&n||0,f=u[1];if(0===r&&i==this.length){if(!s)return 1===this._bufs.length?this._bufs[0]:e.concat(this._bufs,this.length);for(a=0;a<this._bufs.length;a++)this._bufs[a].copy(t,h),h+=this._bufs[a].length;return t}if(c<=this._bufs[u[0]].length-f)return s?this._bufs[u[0]].copy(t,n,f,f+c):this._bufs[u[0]].slice(f,f+c);for(s||(t=new e(l)),a=u[0];a<this._bufs.length;a++){if(o=this._bufs[a].length-f,!(c>o)){this._bufs[a].copy(t,h,f,f+c);break}this._bufs[a].copy(t,h,f),h+=o,c-=o,f&&(f=0)}return t},r.prototype.shallowSlice=function(t,e){t=t||0,e=e||this.length,t<0&&(t+=this.length),e<0&&(e+=this.length);var n=this._offset(t),i=this._offset(e),o=this._bufs.slice(n[0],i[0]+1);return 0==i[1]?o.pop():o[o.length-1]=o[o.length-1].slice(0,i[1]),0!=n[1]&&(o[0]=o[0].slice(n[1])),new r(o)},r.prototype.toString=function(t,e,n){return this.slice(e,n).toString(t)},r.prototype.consume=function(t){for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},r.prototype.duplicate=function(){for(var t=0,e=new r;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},r.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var e in t)!function(e){r.prototype[e]=function(n){return this.slice(n,n+t[e])[e](0)}}(e)}(),t.exports=r}).call(e,n("v0OU").Buffer)},"2kLc":function(t,e,n){"use strict";e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,s=null,u=t[t.length-1];return Object(o.a)(u)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof r.a?t[0]:Object(a.a)(n)(new i.a(t,s))};var r=n("AP4T"),i=n("Oryw"),o=n("3iOE"),a=n("bywS")},"3Rms":function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("wEtH")),r(n("y9Z8")),r(n("vXqd")),r(n("MJpX")),r(n("mgOm")),r(n("ZfGB"))},"3iOE":function(t,e,n){"use strict";e.a=function(t){return t&&"function"==typeof t.schedule}},"5E84":function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}t.exports=r;var i=n("C7jF"),o=n("VIKU");o.inherits=n("lDCR"),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},"5dsq":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("AP4T"),i=n("l+DM");r.a.prototype.first=i.a},"6QZ3":function(t,e,n){"use strict";(function(e,r){function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(void 0),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}function o(){}function a(t,e){m=m||n("dJzE"),this.objectMode=!!(t=t||{}).objectMode,e instanceof m&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark;this.highWaterMark=r||0===r?r:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(d(i,r),d(p,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),p(t,e))}(t,n,r,e,i);else{var o=h(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||c(t,n),r?g(l,t,n,o,i):l(t,n,o,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function s(t){if(m=m||n("dJzE"),!(T.call(s,this)||this instanceof m))return new s(t);this._writableState=new a(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),_.call(this)}function u(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function l(t,e,n,r){n||function(t,n){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t),e.pendingcb--,r(),p(t,e)}function c(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,o=new Array(r),a=e.corkedRequestsFree;a.entry=n;for(var s=0,l=!0;n;)o[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;o.allBuffers=l,u(t,e,!0,e.length,o,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new i(e)}else{for(;n;){var c=n.chunk;if(u(t,e,!1,e.objectMode?1:c.length,c,n.encoding,n.callback),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function h(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function f(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),p(t,e)})}function p(t,e){var n=h(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,d(f,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}var d=n("1Rb4");t.exports=s;var m,g=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?setImmediate:d;s.WritableState=a;var y=n("VIKU");y.inherits=n("lDCR");var v={deprecate:n("7RTT")},_=n("wHgO"),b=n("zOKz").Buffer,w=r.Uint8Array||function(){},x=n("iAGO");y.inherits(s,_),a.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(a.prototype,"buffer",{get:v.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}();var T;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(T=Function.prototype[Symbol.hasInstance],Object.defineProperty(s,Symbol.hasInstance,{value:function(t){return!!T.call(this,t)||t&&t._writableState instanceof a}})):T=function(t){return t instanceof this},s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},s.prototype.write=function(t,e,n){var r=this._writableState,i=!1,a=function(t){return b.isBuffer(t)||t instanceof w}(t)&&!r.objectMode;return a&&!b.isBuffer(t)&&(t=b.from(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=o),r.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),d(e,n)}(this,n):(a||function(t,e,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),d(r,o),i=!1),i}(this,r,t,n))&&(r.pendingcb++,i=function(t,e,n,r,i,o){if(!n){var a=function(t,n,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof n||(n=b.from(n,i)),n}(0,r);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else u(t,e,!1,s,r,i,o);return l}(this,r,a,t,e,n)),i},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||c(this,t))},s.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},s.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},s.prototype._writev=null,s.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,p(t,e),n&&(e.finished?d(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(s.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),s.prototype.destroy=x.destroy,s.prototype._undestroy=x.undestroy,s.prototype._destroy=function(t,e){this.end(),e(t)}}).call(e,n("1WNV"),n("fRUx"))},"6Xbx":function(t,e,n){"use strict";e.b=function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"a",function(){return i});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},"7RTT":function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(e,n("fRUx"))},"7WRt":function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=l}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*u-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+p]=255&a,p+=d,a/=256,l-=8);t[n+p-d]|=128*m}},"8Ut3":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6Xbx"),i=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return Object(r.b)(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.value,n=t.subscriber;t.done?n.complete():(n.next(e),n.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(n("AP4T").a)},"8bfK":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("LMZF"),i=n("Un6q"),o=n("CQHW"),a=n("/kLR"),s=n("t6g9");e.ToastModule=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[a.ToastsManager,s.ToastOptions]}},t.decorators=[{type:r.NgModule,args:[{imports:[i.CommonModule],declarations:[o.ToastContainer],exports:[o.ToastContainer],entryComponents:[o.ToastContainer]}]}],t}()},"8ofh":function(t,e,n){"use strict";e.a=function(t){return r=t,function(){try{return r.apply(this,arguments)}catch(t){return i.a.e=t,i.a}}};var r,i=n("NePw")},"99WV":function(t,e,n){function r(t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=t||"unable to decode"}var i=n("2iE6");n("N+n4").inherits(r,Error),t.exports=function(t){function e(t,e,n){return e>=n+t}function n(t,e){return{value:t,bytesConsumed:e}}function o(t,r){var i=t.length-(r=void 0===r?0:r);if(i<=0)return null;var o,c,h,f=t.readUInt8(r),p=0;if(!function(t,e){var n=function(e){switch(t){case 196:return 2;case 197:return 3;case 198:return 5;case 199:return 3;case 200:return 4;case 201:return 6;case 202:return 5;case 203:return 9;case 204:return 2;case 205:return 3;case 206:return 5;case 207:return 9;case 208:return 2;case 209:return 3;case 210:return 5;case 211:return 9;case 212:return 3;case 213:return 4;case 214:return 6;case 215:return 10;case 216:return 18;case 217:return 2;case 218:return 3;case 219:return 5;case 222:return 3;default:return-1}}();return!(-1!==n&&e<n)}(f,i))return null;switch(f){case 192:return n(null,1);case 194:return n(!1,1);case 195:return n(!0,1);case 204:return p=t.readUInt8(r+1),n(p,2);case 205:return p=t.readUInt16BE(r+1),n(p,3);case 206:return p=t.readUInt32BE(r+1),n(p,5);case 207:for(h=7;h>=0;h--)p+=t.readUInt8(r+h+1)*Math.pow(2,8*(7-h));return n(p,9);case 208:return p=t.readInt8(r+1),n(p,2);case 209:return p=t.readInt16BE(r+1),n(p,3);case 210:return p=t.readInt32BE(r+1),n(p,5);case 211:return p=function(t,e){var n=128==(128&t[0]);if(n)for(var r=1,i=7;i>=0;i--){var o=(255^t[i])+r;t[i]=255&o,r=o>>8}return(4294967296*t.readUInt32BE(0)+t.readUInt32BE(4))*(n?-1:1)}(t.slice(r+1,r+9)),n(p,9);case 202:return p=t.readFloatBE(r+1),n(p,5);case 203:return p=t.readDoubleBE(r+1),n(p,9);case 217:return o=t.readUInt8(r+1),e(o,i,2)?(p=t.toString("utf8",r+2,r+2+o),n(p,2+o)):null;case 218:return o=t.readUInt16BE(r+1),e(o,i,3)?(p=t.toString("utf8",r+3,r+3+o),n(p,3+o)):null;case 219:return o=t.readUInt32BE(r+1),e(o,i,5)?(p=t.toString("utf8",r+5,r+5+o),n(p,5+o)):null;case 196:return o=t.readUInt8(r+1),e(o,i,2)?(p=t.slice(r+2,r+2+o),n(p,2+o)):null;case 197:return o=t.readUInt16BE(r+1),e(o,i,3)?(p=t.slice(r+3,r+3+o),n(p,3+o)):null;case 198:return o=t.readUInt32BE(r+1),e(o,i,5)?(p=t.slice(r+5,r+5+o),n(p,5+o)):null;case 220:return i<3?null:(o=t.readUInt16BE(r+1),a(t,r,o,3));case 221:return i<5?null:(o=t.readUInt32BE(r+1),a(t,r,o,5));case 222:return o=t.readUInt16BE(r+1),s(t,r,o,3);case 223:throw new Error("map too big to decode in JS");case 212:return u(t,r,1);case 213:return u(t,r,2);case 214:return u(t,r,4);case 215:return u(t,r,8);case 216:return u(t,r,16);case 199:return o=t.readUInt8(r+1),c=t.readUInt8(r+2),e(o,i,3)?l(t,r,c,o,3):null;case 200:return o=t.readUInt16BE(r+1),c=t.readUInt8(r+3),e(o,i,4)?l(t,r,c,o,4):null;case 201:return o=t.readUInt32BE(r+1),c=t.readUInt8(r+5),e(o,i,6)?l(t,r,c,o,6):null}if(144==(240&f))return o=15&f,a(t,r,o,1);if(128==(240&f))return o=15&f,s(t,r,o,1);if(160==(224&f))return o=31&f,e(o,i,1)?(p=t.toString("utf8",r+1,r+o+1),n(p,o+1)):null;if(f>=224)return p=f-256,n(p,1);if(f<128)return n(f,1);throw new Error("not implemented yet")}function a(t,e,r,i){var a,s=[],u=0;for(e+=i,a=0;a<r;a++){var l=o(t,e);if(!l)return null;s.push(l.value),e+=l.bytesConsumed,u+=l.bytesConsumed}return n(s,i+u)}function s(t,e,r,i){var a,s={},u=0;for(e+=i,a=0;a<r;a++){var l=o(t,e);if(!l)return null;var c=o(t,e+=l.bytesConsumed);if(!c)return null;s[l.value]=c.value,e+=c.bytesConsumed,u+=l.bytesConsumed+c.bytesConsumed}return n(s,i+u)}function u(t,e,n){return l(t,e,t.readUInt8(e+1),n,2)}function l(e,r,i,o,a){var s,u;for(r+=a,s=0;s<t.length;s++)if(i===t[s].type)return u=e.slice(r,r+o),n(t[s].decode(u),a+o);throw new Error("unable to find ext type "+i)}return function(t){t instanceof i||(t=i().append(t));var e=o(t);if(e)return t.consume(e.bytesConsumed),e.value;throw new r}},t.exports.IncompleteBufferError=r},A8hP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Subject=class{constructor(){this.observers=[]}next(t){for(let e of this.observers)e.next(t)}error(t){for(let e of this.observers)e.error(t)}complete(){for(let t of this.observers)t.complete()}subscribe(t){this.observers.push(t)}}},AP4T:function(t,e,n){"use strict";var r=n("xIGM"),i=n("E9/g"),o=n("V7AE"),a=n("grVA"),s=n("mz3w"),u=n("ExCY");n.d(e,"a",function(){return l});var l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(r?r.call(s,this.source):s.add(this.source?this._subscribe(s):this._trySubscribe(s)),s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?e=r.a.Rx.config.Promise:r.a.Promise&&(e=r.a.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var i;i=n.subscribe(function(e){if(i)try{t(e)}catch(t){r(t),i.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[s.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:Object(u.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(r.a.Rx&&r.a.Rx.config&&r.a.Rx.config.Promise?t=r.a.Rx.config.Promise:r.a.Promise&&(t=r.a.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}()},B1iP:function(t,e,n){"use strict";e.a=function(t){return"function"==typeof t}},C7jF:function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);o.call(this,t),this._transformState=new function(t){this.afterTransform=function(e,n){return function(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&t.push(n),i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t,n){i(e,t,n)}):i(e)})}function i(t,e,n){if(e)return t.emit("error",e);null!==n&&void 0!==n&&t.push(n);var r=t._transformState;if(t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=r;var o=n("dJzE"),a=n("VIKU");a.inherits=n("lDCR"),a.inherits(r,o),r.prototype.push=function(t,e){return this._transformState.needTransform=!1,o.prototype.push.call(this,t,e)},r.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},r.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},r.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},r.prototype._destroy=function(t,e){var n=this;o.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},CDvF:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},CQHW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("LMZF");n("t6g9"),n("RyBE"),n("5dsq");var i=n("TO51");e.ToastContainer=function(){function t(t,e,n,r){this.sanitizer=t,this.cdr=e,this._zone=n,this.position="fixed",this.toasts=[],this._fresh=!0,this._onEnter=new i.Subject,this._onExit=new i.Subject,Object.assign(this,r)}return t.prototype.onEnter=function(){return this._onEnter.asObservable()},t.prototype.onExit=function(){return this._onExit.asObservable()},t.prototype.addToast=function(t){if(this.positionClass.indexOf("top")>0){if(this.newestOnTop?this.toasts.unshift(t):this.toasts.push(t),this.toasts.length>this.maxShown){var e=this.toasts.length-this.maxShown;this.newestOnTop?this.toasts.splice(this.maxShown):this.toasts.splice(0,e)}}else this.toasts.unshift(t),this.toasts.length>this.maxShown&&this.toasts.splice(this.maxShown);null===this.animate&&this._fresh&&(this._fresh=!1,this._onEnter.next(),this._onEnter.complete()),this.cdr.detectChanges()},t.prototype.removeToast=function(t){t.timeoutId&&(clearTimeout(t.timeoutId),t.timeoutId=null),this.toasts=this.toasts.filter(function(e){return e.id!==t.id})},t.prototype.removeAllToasts=function(){this.toasts=[]},t.prototype.clicked=function(t){this.onToastClicked&&this.onToastClicked(t)},t.prototype.anyToast=function(){return this.toasts.length>0},t.prototype.findToast=function(t){for(var e=0,n=this.toasts;e<n.length;e++){var r=n[e];if(r.id===t)return r}return null},t.prototype.onAnimationEnd=function(t){var e=this;"void"!==t.toState||this.anyToast()?this._fresh&&"void"===t.fromState&&(this._fresh=!1,this._zone.run(function(){e._onEnter.next(),e._onEnter.complete()})):this._ngExit()},t.prototype._ngExit=function(){var t=this;this._zone.onMicrotaskEmpty.first().subscribe(function(){t._onExit.next(),t._onExit.complete()})},t.prototype.ngOnDestroy=function(){this._ngExit()},t.decorators=[{type:r.Component,args:[{selector:"toast-container",template:'\n    <div #toastContainer id="toast-container" [style.position]="position" class="{{positionClass}}">\n      <div *ngFor="let toast of toasts" [@inOut]="animate" (@inOut.done)="onAnimationEnd($event)" class="toast toast-{{toast.type}}" \n      (click)="clicked(toast)">\n        <div class="toast-close-button" *ngIf="toast.config.showCloseButton" (click)="removeToast(toast)">&times;\n        </div> \n        <div *ngIf="toast.title" class="{{toast.config.titleClass || titleClass}}">{{toast.title}}</div>\n        <div [ngSwitch]="toast.config.enableHTML">\n          <span *ngSwitchCase="true" class="{{toast.config.messageClass || messageClass}}" [innerHTML]="sanitizer.bypassSecurityTrustHtml(toast.message)"></span>\n          <span *ngSwitchDefault class="{{toast.config.messageClass || messageClass}}">{{toast.message}}</span>\n        </div>             \n      </div>\n    </div>\n    ',animations:[r.trigger("inOut",[r.state("flyRight, flyLeft",r.style({opacity:1,transform:"translateX(0)"})),r.state("fade",r.style({opacity:1})),r.state("slideDown, slideUp",r.style({opacity:1,transform:"translateY(0)"})),r.transition("void => flyRight",[r.style({opacity:0,transform:"translateX(100%)"}),r.animate("0.2s ease-in")]),r.transition("flyRight => void",[r.animate("0.2s 10ms ease-out",r.style({opacity:0,transform:"translateX(100%)"}))]),r.transition("void => flyLeft",[r.style({opacity:0,transform:"translateX(-100%)"}),r.animate("0.2s ease-in")]),r.transition("flyLeft => void",[r.animate("0.2s 10ms ease-out",r.style({opacity:0,transform:"translateX(-100%)"}))]),r.transition("void => fade",[r.style({opacity:0}),r.animate("0.3s ease-in")]),r.transition("fade => void",[r.animate("0.3s 10ms ease-out",r.style({opacity:0}))]),r.transition("void => slideDown",[r.style({opacity:0,transform:"translateY(-200%)"}),r.animate("0.3s ease-in")]),r.transition("slideDown => void",[r.animate("0.3s 10ms ease-out",r.style({opacity:0,transform:"translateY(-200%)"}))]),r.transition("void => slideUp",[r.style({opacity:0,transform:"translateY(200%)"}),r.animate("0.3s ease-in")]),r.transition("slideUp => void",[r.animate("0.3s 10ms ease-out",r.style({opacity:0,transform:"translateY(200%)"}))])])]}]}],t}()},"E9/g":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("6Xbx"),i=n("B1iP"),o=n("qLnt"),a=n("grVA"),s=n("V7AE"),u=function(t){function e(n,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.a;break;case 1:if(!n){this.destination=a.a;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,n,r,i)}}return Object(r.b)(e,t),e.prototype[s.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(o.a),l=function(t){function e(e,n,r,o){t.call(this),this._parentSubscriber=e;var s,u=this;Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,o=n.complete,n!==a.a&&(u=Object.create(n),Object(i.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=r,this._complete=o}return Object(r.b)(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(u)},"Ecq+":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6Xbx"),i=function(t){function e(e){t.call(this),this.scheduler=e}return Object(r.b)(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(n("AP4T").a)},ExCY:function(t,e,n){"use strict";function r(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:function(){}}e.a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r(t)},e.b=r},HF6y:function(t,e,n){"use strict";function r(t){(t=t||{}).objectMode=!0,t.highWaterMark=16,a.call(this,t),this._msgpack=t.msgpack}function i(t){if(!(this instanceof i))return t=t||{},t.msgpack=this,new i(t);r.call(this,t)}function o(t){if(!(this instanceof o))return t=t||{},t.msgpack=this,new o(t);r.call(this,t),this._chunks=u()}var a=n("Osec").Transform,s=n("lDCR"),u=n("2iE6");s(r,a),s(i,r),i.prototype._transform=function(t,e,n){var r=null;try{r=this._msgpack.encode(t).slice(0)}catch(t){return this.emit("error",t),n()}this.push(r),n()},s(o,r),o.prototype._transform=function(t,e,n){t&&this._chunks.append(t);try{var r=this._msgpack.decode(this._chunks);this.push(r)}catch(t){return void(t instanceof this._msgpack.IncompleteBufferError?n():this.emit("error",t))}this._chunks.length>0?this._transform(null,e,n):n()},t.exports.decoder=o,t.exports.encoder=i},INGy:function(t,e,n){"use strict";(function(e,r){function i(t,e){w=w||n("dJzE"),this.objectMode=!!(t=t||{}).objectMode,e instanceof w&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark;this.highWaterMark=r||0===r?r:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new O,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(R||(R=n("/cYh").StringDecoder),this.decoder=new R(t.encoding),this.encoding=t.encoding)}function o(t){if(w=w||n("dJzE"),!(this instanceof o))return new o(t);this._readableState=new i(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),S.call(this)}function a(t,e,n,r,i){var o=t._readableState;if(null===e)o.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,l(t)}}(t,o);else{var a;i||(a=function(t,e){var n;return function(t){return E.isBuffer(t)||t instanceof M}(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(o,e)),a?t.emit("error",a):o.objectMode||e&&e.length>0?("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===E.prototype||(e=E.from(e)),r?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):s(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(e=o.decoder.write(e),o.objectMode||0!==e.length?s(t,o,e,!1):h(t,o)):s(t,o,e,!1))):r||(o.reading=!1)}return!o.ended&&(o.needReadable||o.length<o.highWaterMark||0===o.length)}function s(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&l(t)),h(t,e)}function u(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=N?t=N:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function l(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(P("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?b(c,t):c(t))}function c(t){P("emit readable"),t.emit("readable"),m(t)}function h(t,e){e.readingMore||(e.readingMore=!0,b(f,t,e))}function f(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(P("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function p(t){P("readable nexttick read 0"),t.read(0)}function d(t,e){e.reading||(P("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),m(t),e.flowing&&!e.reading&&t.read(0)}function m(t){var e=t._readableState;for(P("flow",e.flowing);e.flowing&&null!==t.read(););}function g(t,e){if(0===e.length)return null;var n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(i+=a===o.length?o:o.slice(0,t),0==(t-=a)){a===o.length?(++r,e.head=n.next?n.next:e.tail=null):(e.head=n,n.data=o.slice(a));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=E.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0==(t-=a)){a===o.length?(++i,e.head=r.next?r.next:e.tail=null):(e.head=r,r.data=o.slice(a));break}++i}return e.length-=i,n}(t,e),r}(t,e.buffer,e.decoder),n}function y(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,b(v,e,t))}function v(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function _(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}var b=n("1Rb4");t.exports=o;var w,x=n("CDvF");o.ReadableState=i,n("rOzH");var T=function(t,e){return t.listeners(e).length},S=n("wHgO"),E=n("zOKz").Buffer,M=e.Uint8Array||function(){},A=n("VIKU");A.inherits=n("lDCR");var C=n(1),P=void 0;P=C&&C.debuglog?C.debuglog("stream"):function(){};var R,O=n("yY5i"),L=n("iAGO");A.inherits(o,S);var k=["error","close","destroy","pause","resume"];Object.defineProperty(o.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),o.prototype.destroy=L.destroy,o.prototype._undestroy=L.undestroy,o.prototype._destroy=function(t,e){this.push(null),e(t)},o.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=E.from(t,e),e=""),n=!0),a(this,t,e,!1,n)},o.prototype.unshift=function(t){return a(this,t,null,!0,!1)},o.prototype.isPaused=function(){return!1===this._readableState.flowing},o.prototype.setEncoding=function(t){return R||(R=n("/cYh").StringDecoder),this._readableState.decoder=new R(t),this._readableState.encoding=t,this};var N=8388608;o.prototype.read=function(t){P("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return P("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?y(this):l(this),null;if(0===(t=u(t,e))&&e.ended)return 0===e.length&&y(this),null;var r=e.needReadable;P("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&P("length less than watermark",r=!0),e.ended||e.reading?P("reading or ended",r=!1):r&&(P("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=u(n,e)));var i;return null===(i=t>0?g(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&y(this)),null!==i&&this.emit("data",i),i},o.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},o.prototype.pipe=function(t,e){function n(e,r){P("onunpipe"),e===c&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,P("cleanup"),t.removeListener("close",s),t.removeListener("finish",u),t.removeListener("drain",p),t.removeListener("error",a),t.removeListener("unpipe",n),c.removeListener("end",i),c.removeListener("end",l),c.removeListener("data",o),d=!0,!h.awaitDrain||t._writableState&&!t._writableState.needDrain||p())}function i(){P("onend"),t.end()}function o(e){P("ondata"),g=!1,!1!==t.write(e)||g||((1===h.pipesCount&&h.pipes===t||h.pipesCount>1&&-1!==_(h.pipes,t))&&!d&&(P("false write response, pause",c._readableState.awaitDrain),c._readableState.awaitDrain++,g=!0),c.pause())}function a(e){P("onerror",e),l(),t.removeListener("error",a),0===T(t,"error")&&t.emit("error",e)}function s(){t.removeListener("finish",u),l()}function u(){P("onfinish"),t.removeListener("close",s),l()}function l(){P("unpipe"),c.unpipe(t)}var c=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=t;break;case 1:h.pipes=[h.pipes,t];break;default:h.pipes.push(t)}h.pipesCount+=1,P("pipe count=%d opts=%j",h.pipesCount,e);var f=e&&!1===e.end||t===r.stdout||t===r.stderr?l:i;h.endEmitted?b(f):c.once("end",f),t.on("unpipe",n);var p=function(t){return function(){var e=t._readableState;P("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&T(t,"data")&&(e.flowing=!0,m(t))}}(c);t.on("drain",p);var d=!1,g=!1;return c.on("data",o),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener("error",n);t._events&&t._events.error?x(t._events.error)?t._events.error.unshift(n):t._events.error=[n,t._events.error]:t.on("error",n)}(t,0,a),t.once("close",s),t.once("finish",u),t.emit("pipe",c),h.flowing||(P("pipe resume"),c.resume()),t},o.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=_(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},o.prototype.addListener=o.prototype.on=function(t,e){var n=S.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&l(this):b(p,this))}return n},o.prototype.resume=function(){var t=this._readableState;return t.flowing||(P("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,b(d,t,e))}(this,t)),this},o.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(P("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){P("wrapped data"),e.decoder&&(i=e.decoder.write(i)),(!e.objectMode||null!==i&&void 0!==i)&&(e.objectMode||i&&i.length)&&(r.push(i)||(n=!0,t.pause()))});for(var i in t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<k.length;o++)t.on(k[o],r.emit.bind(r,k[o]));return r._read=function(e){P("wrapped _read",e),n&&(n=!1,t.resume())},r},o._fromList=g}).call(e,n("fRUx"),n("1WNV"))},LMZF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(function(t){function r(t,e,n,r){function o(t){if(this instanceof o)return a.call(this,t),this;var e=new o(t),n=function(t){return(t.hasOwnProperty(_r)?t[_r]:Object.defineProperty(t,_r,{value:[]})[_r]).push(e),t};return r&&r(n),n}var a=i(e);return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}function i(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,e);for(var i in r)this[i]=r[i]}}}function o(t,e,n){function r(){function t(t,e,n){for(var r=t.hasOwnProperty(br)?t[br]:Object.defineProperty(t,br,{value:[]})[br];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(i),t}for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof r)return o.apply(this,e),this;var i=new((a=r).bind.apply(a,[void 0].concat(e)));return t.annotation=i,t;var a}var o=i(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}function a(t,e,n){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof r)return o.apply(this,t),this;var n=new((i=r).bind.apply(i,[void 0].concat(t)));return function(t,e){var r=t.constructor,i=r.hasOwnProperty(wr)?r[wr]:Object.defineProperty(r,wr,{value:{}})[wr];i[e]=i.hasOwnProperty(e)&&i[e]||[],i[e].unshift(n)};var i}var o=i(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}function s(t){return null==t||t===Pr.Default}function u(){if(!$r){var t=Jr.Symbol;if(t&&t.iterator)$r=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&($r=r)}}return $r}function l(t){Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function c(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function h(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(h).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f(t){return t.__forward_ref__=f,t.toString=function(){return h(this())},t}function p(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===f?t():t}function d(t){return v("Cannot mix multi providers and regular providers",t)}function m(t,e){if(e)if((e=p(e))instanceof Array)for(var n=0;n<e.length;n++)m(t,e[n]);else{if("function"==typeof e)throw v("Function/Class not supported",e);if(!e||"object"!=typeof e||!e.provide)throw v("Unexpected provider",e);var r=p(e.provide),i=function(t){var e=function(t){var e=oi,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((u=p(n[r]))instanceof Array)for(var o=0,a=u;o<a.length;o++){var s=a[o];s instanceof Wr||s==Wr?i|=1:s instanceof Yr||s==Yr?i&=-3:s instanceof qr||s==qr?i&=-5:u=s instanceof Hr?s.token:p(s)}e.push({token:u,options:i})}}else if(t.useExisting){var u;e=[{token:u=p(t.useExisting),options:6}]}else if(!(n||ci in t))throw v("'deps' required",t);return e}(t),n=ii,r=oi,i=!1,o=p(t.provide);if(ci in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=p(t.useClass);else{if("function"!=typeof o)throw v("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(e);if(!0===e.multi){var o=t.get(r);if(o){if(o.fn!==si)throw d(r)}else t.set(r,o={token:e.provide,deps:[],useNew:!1,fn:si,value:oi});o.deps.push({token:r=e,options:6})}var a=t.get(r);if(a&&a.fn==si)throw d(r);t.set(r,i)}}function g(t,e,n,r,i){try{return function(t,e,n,r,i){var o;if(e){if((o=e.value)==ai)throw Error(di+"Circular dependency");if(o===oi){e.value=ai;var a=e.useNew,s=e.fn,u=e.deps,l=oi;if(u.length){l=[];for(var c=0;c<u.length;c++){var h=u[c],f=h.options,p=2&f?n.get(h.token):void 0;l.push(g(h.token,p,n,p||4&f?r:fi,1&f?null:ri.THROW_IF_NOT_FOUND))}}e.value=o=a?new((d=s).bind.apply(d,[void 0].concat(l))):s.apply(void 0,l)}}else o=r.get(t,i);return o;var d}(t,e,n,r,i)}catch(n){throw n instanceof Error||(n=new Error(n)),(n[hi]=n[hi]||[]).unshift(t),e&&e.value==ai&&(e.value=oi),n}}function y(t,e){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==di?t.substr(2):t;var n=h(e);if(e instanceof Array)n=e.map(h).join(" -> ");else if("object"==typeof e){var r=[];for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];r.push(i+":"+("string"==typeof o?JSON.stringify(o):h(o)))}n="{"+r.join(", ")+"}"}return"StaticInjectorError["+n+"]: "+t.replace(pi,"\n  ")}function v(t,e){return new Error(y(t,e))}function _(t){return t[gi]}function b(t){return t[yi]}function w(t){return t.length>1?" ("+function(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(function(t){return h(t.token)}).join(" -> ")+")":""}function x(t,e,n,r){var i=[e],o=n(i),a=r?function(t,e){var n=o+" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[yi]=e,r}(0,r):Error(o);return a.addKey=T,a.keys=i,a.injectors=[t],a.constructResolvingMessage=n,a[yi]=r,a}function T(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function S(t,e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];n.push(o&&0!=o.length?o.map(h).join(" "):"?")}return Error("Cannot resolve all parameters for '"+h(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+h(t)+"' is decorated with Injectable.")}function E(t,e){return Error("Cannot mix multi providers and regular providers, got: "+t+" "+e)}function M(t){return"function"==typeof t}function A(t){return t?t.map(function(t){var e=t.type.annotationCls;return new(e.bind.apply(e,[void 0].concat(t.args?t.args:[])))}):[]}function C(t){var e=Object.getPrototypeOf(t.prototype);return(e?e.constructor:null)||Object}function P(t){return new Ci(bi.get(t.provide),[function(t){var e,n;if(t.useClass){var r=p(t.useClass);e=Ei.factory(r),n=L(r)}else t.useExisting?(e=function(t){return t},n=[Mi.fromKey(bi.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return k(t,e,n)})}return L(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=Ai);return new Pi(e,n)}(t)],t.multi||!1)}function R(t){var e=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw E(i,r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else e.set(r.key.id,r)}else{var a=void 0;a=r.multiProvider?new Ci(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,a)}}return e}(O(t,[]).map(P),new Map);return Array.from(e.values())}function O(t,e){return t.forEach(function(t){if(t instanceof xi)e.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)e.push(t);else{if(!(t instanceof Array))throw function(t){return Error("Invalid provider - only instances of Provider and Type are allowed, got: "+t)}(t);O(t,e)}}),e}function L(t){var e=Ei.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw S(t,e);return e.map(function(n){return k(t,n,e)})}function k(t,e,n){var r=null,i=!1;if(!Array.isArray(e))return e instanceof Hr?N(e.token,i,null):N(e,i,null);for(var o=null,a=0;a<e.length;++a){var s=e[a];s instanceof xi?r=s:s instanceof Hr?r=s.token:s instanceof Wr?i=!0:s instanceof qr||s instanceof Yr?o=s:s instanceof vr&&(r=s)}if(null!=(r=p(r)))return N(r,i,o);throw S(t,n)}function N(t,e,n){return new Mi(bi.get(t),e,n)}function I(t){return!!t&&"function"==typeof t.then}function D(t){return!!t&&"function"==typeof t.subscribe}function U(){return""+F()+F()+F()}function F(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function j(){throw new Error("Runtime compiler is not loaded")}function B(t){var e=Error("No component factory found for "+h(t)+". Did you add it to @NgModule.entryComponents?");return e[Yi]=t,e}function z(){var t=Jr.wtf;return!(!t||!(sr=t.trace)||(ur=sr.events,0))}function V(t,e){return void 0===e&&(e=null),ur.createScope(t,e)}function G(t,e){return sr.leaveScope(t,e),e}function H(t,e){return sr.beginTimeRange(t,e)}function W(t){sr.endTimeRange(t)}function X(t,e){return null}function q(){}function Y(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Z(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function K(t){t._nesting--,Y(t)}function Q(t){fo=t}function J(){if(mo)throw new Error("Cannot enable prod mode after platform setup.");po=!1}function $(){return mo=!0,po}function tt(t){if(lr&&!lr.destroyed&&!lr.injector.get(go,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");lr=t.get(vo);var e=t.get(Ui,null);return e&&e.forEach(function(t){return t()}),lr}function et(t,e,n){void 0===n&&(n=[]);var r=new vr("Platform: "+e);return function(e){void 0===e&&(e=[]);var i=it();return i&&!i.injector.get(go,!1)||(t?t(n.concat(e).concat({provide:r,useValue:!0})):tt(ri.create(n.concat(e).concat({provide:r,useValue:!0})))),nt(r)}}function nt(t){var e=it();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function rt(){lr&&!lr.destroyed&&lr.destroy()}function it(){return lr&&!lr.destroyed?lr:null}function ot(t,e){return t=Array.isArray(e)?e.reduce(ot,t):Object(pr.a)({},t,e)}function at(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function st(t,e){var n=Po.get(t);if(n)throw new Error("Duplicate module registered for "+t+" - "+n.moduleType.name+" vs "+e.moduleType.name);Po.set(t,e)}function ut(t){var e=Po.get(t);if(!e)throw new Error("No module with ID "+t+" loaded");return e}function lt(t){return t.reduce(function(t,e){var n=Array.isArray(e)?lt(e):e;return t.concat(n)},[])}function ct(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}function ht(t){return t.map(function(t){return t.nativeElement})}function ft(t,e,n){t.childNodes.forEach(function(t){t instanceof Bo&&(e(t)&&n.push(t),ft(t,e,n))})}function pt(t,e,n){t instanceof Bo&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof Bo&&pt(t,e,n)})}function dt(t){return zo.get(t)||null}function mt(t){zo.set(t.nativeNode,t)}function gt(t,e){var n=yt(t),r=yt(e);return n&&r?function(e,n,r){for(var i=t[u()](),o=n[u()]();;){var a=i.next(),s=o.next();if(a.done&&s.done)return!0;if(a.done||s.done)return!1;if(!r(a.value,s.value))return!1}}(0,e,gt):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||c(t,e)}function yt(t){return!!vt(t)&&(Array.isArray(t)||!(t instanceof Map)&&u()in t)}function vt(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function _t(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function bt(){return ra}function wt(){return ia}function xt(t){return t||"en-US"}function Tt(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function St(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Et(t,e){return t.nodes[e]}function Mt(t,e){return t.nodes[e]}function At(t,e){return t.nodes[e]}function Ct(t,e){return t.nodes[e]}function Pt(t,e){return t.nodes[e]}function Rt(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Ot(n,e),n}(i,t)}function Ot(t,e){t[gi]=e,t[vi]=e.logError.bind(e)}function Lt(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function kt(t){var e=ga.get(t);return e||(e=h(t)+"_"+ga.size,ga.set(t,e)),e}function Nt(t,e,n,r){if(r instanceof Vo){r=r.wrapped;var i=t.def.nodes[e].bindingIndex+n,o=t.oldValues[i];o instanceof Vo&&(o=o.wrapped),t.oldValues[i]=new Vo(o)}return r}function It(t){return{id:ya,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}function Dt(t,e,n,r){return!(!(2&t.state)&&c(t.oldValues[e.bindingIndex+n],r))}function Ut(t,e,n,r){return!!Dt(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Ft(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!gt(i,r))throw Rt(da.createDebugContext(t,e.nodeIndex),i,r,0!=(1&t.state))}function jt(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Bt(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function zt(t,e,n,r){try{return jt(33554432&t.def.nodes[e].flags?Mt(t,e).componentView:t),da.handleEvent(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}function Vt(t){return t.parent?Mt(t.parent,t.parentNodeDef.nodeIndex):null}function Gt(t){return t.parent?t.parentNodeDef.parent:null}function Ht(t,e){switch(201347067&e.flags){case 1:return Mt(t,e.nodeIndex).renderElement;case 2:return Et(t,e.nodeIndex).renderText}}function Wt(t,e){return t?t+":"+e:e}function Xt(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function qt(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Yt(t){return 1<<t%32}function Zt(t){var e={},n=0,r={};return t&&t.forEach(function(t){var i=t[0],o=t[1];"number"==typeof i?(e[i]=o,n|=Yt(i)):r[i]=o}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Kt(t){return t.map(function(t){var e,n;return Array.isArray(t)?(n=t[0],e=t[1]):(n=0,e=t),{flags:n,token:e,tokenKey:kt(e)}})}function Qt(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===zr.Native?Mt(t,n.renderParent.nodeIndex).renderElement:void 0:e}function Jt(t){var e=ba.get(t);return e||((e=t(function(){return ma})).factory=t,ba.set(t,e)),e}function $t(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Ht(t,t.def.lastRenderRootNode))),te(t,e,0,t.def.nodes.length-1,n,r,i)}function te(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&ne(t,u,e,i,o,a),s+=u.childCount}}function ee(t,e,n,r,i,o){for(var a=t;a&&!Xt(a);)a=a.parent;for(var s=a.parent,u=Gt(a),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=s.def.nodes[c];h.ngContentIndex===e&&ne(s,h,n,r,i,o),c+=h.childCount}if(!s.parent){var f=t.root.projectableNodes[e];if(f)for(c=0;c<f.length;c++)re(t,f[c],n,r,i,o)}}function ne(t,e,n,r,i,o){if(8&e.flags)ee(t,e.ngContent.index,n,r,i,o);else{var a=Ht(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&re(t,a,n,r,i,o),32&e.bindingFlags&&re(Mt(t,e.nodeIndex).componentView,a,n,r,i,o)):re(t,a,n,r,i,o),16777216&e.flags)for(var s=Mt(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)$t(s[u],n,r,i,o);1&e.flags&&!e.element.name&&te(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function re(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}function ie(t){if(":"===t[0]){var e=t.match(wa);return[e[1],e[2]]}return["",t]}function oe(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function ae(t,e){for(var n="",r=0;r<2*t;r+=2)n=n+e[r]+ue(e[r+1]);return n+e[2*t]}function se(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,m,g,y,v,_){switch(t){case 1:return e+ue(n)+r;case 2:return e+ue(n)+r+ue(i)+o;case 3:return e+ue(n)+r+ue(i)+o+ue(a)+s;case 4:return e+ue(n)+r+ue(i)+o+ue(a)+s+ue(u)+l;case 5:return e+ue(n)+r+ue(i)+o+ue(a)+s+ue(u)+l+ue(c)+h;case 6:return e+ue(n)+r+ue(i)+o+ue(a)+s+ue(u)+l+ue(c)+h+ue(f)+p;case 7:return e+ue(n)+r+ue(i)+o+ue(a)+s+ue(u)+l+ue(c)+h+ue(f)+p+ue(d)+m;case 8:return e+ue(n)+r+ue(i)+o+ue(a)+s+ue(u)+l+ue(c)+h+ue(f)+p+ue(d)+m+ue(g)+y;case 9:return e+ue(n)+r+ue(i)+o+ue(a)+s+ue(u)+l+ue(c)+h+ue(f)+p+ue(d)+m+ue(g)+y+ue(v)+_;default:throw new Error("Does not support more than 9 expressions")}}function ue(t){return null!=t?t.toString():""}function le(t,e,n,r,i,o){t|=1;var a=Zt(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Jt(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||ma},provider:null,text:null,query:null,ngContent:null}}function ce(t,e,n,r,i,o,a,s,u,l,c,h){void 0===a&&(a=[]),l||(l=ma);var f=Zt(n),p=f.matchedQueries,d=f.references,m=f.matchedQueryIds,g=null,y=null;o&&(g=(R=ie(o))[0],y=R[1]),s=s||[];for(var v=new Array(s.length),_=0;_<s.length;_++){var b=s[_],w=b[0],x=b[2],T=ie(b[1]),S=T[1],E=void 0,M=void 0;switch(15&w){case 4:M=x;break;case 1:case 8:E=x}v[_]={flags:w,ns:T[0],name:S,nonMinifiedName:S,securityContext:E,suffix:M}}u=u||[];var A=new Array(u.length);for(_=0;_<u.length;_++){var C=u[_];A[_]={type:0,target:C[0],eventName:C[1],propName:null}}var P=(a=a||[]).map(function(t){var e=t[1],n=ie(t[0]);return[n[0],n[1],e]});return h=function(t){if(t&&t.id===ya){var e=null!=t.encapsulation&&t.encapsulation!==zr.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+_a++:va}return t&&t.id===va&&(t=null),t||null}(h),c&&(e|=33554432),e|=1,{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:m,references:d,ngContentIndex:r,childCount:i,bindings:v,bindingFlags:oe(v),outputs:A,element:{ns:g,name:y,attrs:P,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:l||ma},provider:null,text:null,query:null,ngContent:null};var R}function he(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,a=t.renderer;if(t.parent||!o){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=Qt(t,e,n);s&&a.appendChild(s,r)}else r=a.selectRootElement(o);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var l=i.attrs[u];a.setAttribute(r,l[1],l[2],l[0])}return r}function fe(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=function(t,e,n){return function(r){return zt(t,e,n,r)}}(t,n.nodeIndex,Wt(o.target,o.eventName)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var l=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=l}}function pe(t,e,n,r){if(!Ut(t,e,n,r))return!1;var i=e.bindings[n],o=Mt(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,o,a){var s=i.securityContext,u=s?t.root.sanitizer.sanitize(s,a):a;u=null!=u?u.toString():null;var l=t.renderer;null!=a?l.setAttribute(n,o,u,r):l.removeAttribute(n,o,r)}(t,0,a,i.ns,s,r);break;case 2:!function(e,n,i,o){var a=t.renderer;r?a.addClass(n,i):a.removeClass(n,i)}(0,a,s);break;case 4:!function(t,e,n,i,o){var a=t.root.sanitizer.sanitize(ha.STYLE,r);if(null!=a){a=a.toString();var s=e.suffix;null!=s&&(a+=s)}else a=null;var u=t.renderer;null!=a?u.setStyle(n,i,a):u.removeStyle(n,i)}(t,i,a,s);break;case 8:!function(t,e,n,r,o){var a=i.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,0,a,s,r)}return!0}function de(t,e,n,r){return n=p(n),{index:-1,deps:Kt(r),flags:t,token:e,value:n}}function me(t){for(var e={},n=0;n<t.length;n++){var r=t[n];r.index=n,e[kt(r.token)]=r}return{factory:null,providersByKey:e,providers:t}}function ge(t,e,n){if(void 0===n&&(n=ri.THROW_IF_NOT_FOUND),8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var r=e.tokenKey;switch(r){case Ea:case Ma:return t}var i=t._def.providersByKey[r];if(i){var o=t._providers[i.index];return void 0===o&&(o=t._providers[i.index]=ye(t,i)),o===Sa?void 0:o}return t._parent.get(e.token,n)}function ye(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(ge(t,n[0]));case 2:return new e(ge(t,n[0]),ge(t,n[1]));case 3:return new e(ge(t,n[0]),ge(t,n[1]),ge(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=ge(t,n[o]);return new(e.bind.apply(e,[void 0].concat(i)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(ge(t,n[0]));case 2:return e(ge(t,n[0]),ge(t,n[1]));case 3:return e(ge(t,n[0]),ge(t,n[1]),ge(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=ge(t,n[o]);return e.apply(void 0,i)}}(t,e.value,e.deps);break;case 2048:n=ge(t,e.deps[0]);break;case 256:n=e.value}return void 0===n?Sa:n}function ve(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,xe(n,e),da.dirtyParentQueries(r),be(r),r}function _e(t,e,n){var r=e?Ht(e,e.def.lastRenderRootNode):t.renderElement;$t(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function be(t){$t(t,3,null,null,void 0)}function we(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function xe(t,e){e>=t.length-1?t.pop():t.splice(e,1)}function Te(t,e,n,r,i,o){return new Ca(t,e,n,r,i,o)}function Se(t){return t.viewDefFactory}function Ee(t,e,n){return new Ra(t,e,n)}function Me(t){return new Oa(t)}function Ae(t,e){return new La(t,e)}function Ce(t,e){return new ka(t,e)}function Pe(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=Mt(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Et(t,n.nodeIndex).renderText;if(20240&n.flags)return At(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function Re(t){return new Na(t.renderer)}function Oe(t,e,n,r){return new Ia(t,e,n,r)}function Le(t,e,n,r,i,o,a,s){var u=[];if(a)for(var l in a){var c=a[l];u[c[0]]={flags:8,name:l,nonMinifiedName:c[1],ns:null,securityContext:null,suffix:null}}var h=[];if(s)for(var f in s)h.push({type:1,propName:f,target:null,eventName:s[f]});return e|=16384,Ie(t,e,n,r,i,i,o,u,h)}function ke(t,e,n){return t|=16,Ie(-1,t,null,0,e,e,n)}function Ne(t,e,n,r,i){return Ie(-1,t,e,0,n,r,i)}function Ie(t,e,n,r,i,o,a,s,u){var l=Zt(n),c=l.matchedQueries,h=l.references,f=l.matchedQueryIds;u||(u=[]),s||(s=[]),o=p(o);var d=Kt(a);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:oe(s),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function De(t,e){return je(t,e)}function Ue(t,e){for(var n=t;n.parent&&!Xt(n);)n=n.parent;return Be(n.parent,Gt(n),!0,e.provider.value,e.provider.deps)}function Fe(t,e){var n=Be(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName].subscribe(function(t,e,n){return function(r){return zt(t,e,n,r)}}(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=o.unsubscribe.bind(o)}return n}function je(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Be(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(ze(t,e,n,i[0]));case 2:return r(ze(t,e,n,i[0]),ze(t,e,n,i[1]));case 3:return r(ze(t,e,n,i[0]),ze(t,e,n,i[1]),ze(t,e,n,i[2]));default:for(var a=Array(o),s=0;s<o;s++)a[s]=ze(t,e,n,i[s]);return r.apply(void 0,a)}}(t,e.parent,n,r.value,r.deps);case 2048:return ze(t,e.parent,n,r.deps[0]);case 256:return r.value}}function Be(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(ze(t,e,n,i[0]));case 2:return new r(ze(t,e,n,i[0]),ze(t,e,n,i[1]));case 3:return new r(ze(t,e,n,i[0]),ze(t,e,n,i[1]),ze(t,e,n,i[2]));default:for(var a=new Array(o),s=0;s<o;s++)a[s]=ze(t,e,n,i[s]);return new(r.bind.apply(r,[void 0].concat(a)))}}function ze(t,e,n,r,i){if(void 0===i&&(i=ri.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;for(a===za&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);t;){if(e)switch(a){case Da:return Re(Ve(t,e,n));case Ua:return Ve(t,e,n).renderer;case Fa:return new Ao(Mt(t,e.nodeIndex).renderElement);case ja:return Mt(t,e.nodeIndex).viewContainer;case Ba:if(e.element.template)return Mt(t,e.nodeIndex).template;break;case za:return Me(Ve(t,e,n));case Va:return Ce(t,e);default:var s=(n?e.element.allProviders:e.element.publicProviders)[a];if(s){var u=At(t,s.nodeIndex);return u||(u={instance:je(t,s)},t.nodes[s.nodeIndex]=u),u.instance}}n=Xt(t),e=Gt(t),t=t.parent}var l=o.root.injector.get(r.token,Ga);return l!==Ga||i===Ga?l:o.root.ngModule.injector.get(r.token,i)}function Ve(t,e,n){var r;if(n)r=Mt(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Xt(r);)r=r.parent;return r}function Ge(t,e,n,r,i,o){if(32768&n.flags){var a=Mt(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=t.oldValues[n.bindingIndex+r];s instanceof Vo&&(s=s.wrapped),o[n.bindings[r].nonMinifiedName]=new Ho(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function He(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&We(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=function(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&We(t,i,o.flags&n,r++),i+=o.childCount}return r}(t,a,e,r)),a=a.parent}}function We(t,e,n,r){var i=At(t,e);if(i){var o=i.instance;o&&(da.setCurrentNode(t,e),1048576&n&&St(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&St(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function Xe(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Yt(e),bindings:r},ngContent:null}}function qe(){return new Ro}function Ye(t){for(var e=t.def.nodeMatchedQueries;t.parent&&qt(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Pt(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&Pt(t,i).setDirty(),i+=o.childCount}}function Ze(t,e){var n=Pt(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=Ke(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=At(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Ke(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[l.propName]=c}s&&n.notifyOnChanges()}}function Ke(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(Qe(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Mt(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(Ke(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],f=Vt(h);f&&f===u&&Ke(h,0,h.def.nodes.length-1,r,i)}var p=u.template._projectedViews;if(p)for(c=0;c<p.length;c++){var d=p[c];Ke(d,0,d.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function Qe(t,e,n){if(null!=n)switch(n){case 1:return Mt(t,e.nodeIndex).renderElement;case 0:return new Ao(Mt(t,e.nodeIndex).renderElement);case 2:return Mt(t,e.nodeIndex).template;case 3:return Mt(t,e.nodeIndex).viewContainer;case 4:return At(t,e.nodeIndex).instance}}function Je(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function $e(t,e,n){var r=Qt(t,e,n);r&&ee(t,n.ngContent.index,1,r,null,void 0)}function tn(t,e){return rn(128,t,new Array(e+1))}function en(t,e){return rn(32,t,new Array(e))}function nn(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return rn(64,t,i)}function rn(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:oe(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function on(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function an(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=Qt(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function sn(t,e){return(null!=t?t.toString():"")+e.suffix}function un(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,l=null,c=null,h=!1,f=!1,p=null,d=0;d<e.length;d++){var m=e[d];if(m.nodeIndex=d,m.parent=l,m.bindingIndex=i,m.outputIndex=o,m.renderParent=c,a|=m.flags,u|=m.matchedQueryIds,m.element){var g=m.element;g.publicProviders=l?l.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,h=!1,f=!1,m.element.template&&(u|=m.element.template.nodeMatchedQueries)}if(function(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}(l,m,e.length),i+=m.bindings.length,o+=m.outputs.length,!c&&3&m.flags&&(p=m),20224&m.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var y=0!=(32768&m.flags);0==(8192&m.flags)||y?l.element.publicProviders[kt(m.provider.token)]=m:(f||(f=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[kt(m.provider.token)]=m),y&&(l.element.componentProvider=m)}if(l?(l.childFlags|=m.flags,l.directChildFlags|=m.flags,l.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(l.childMatchedQueries|=m.element.template.nodeMatchedQueries)):s|=m.flags,m.childCount>0)l=m,ln(m)||(c=m);else for(;l&&d===l.nodeIndex+l.childCount;){var v=l.parent;v&&(v.childFlags|=l.childFlags,v.childMatchedQueries|=l.childMatchedQueries),c=(l=v)&&ln(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||ma,updateRenderer:r||ma,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:p}}function ln(t){return 0!=(1&t.flags)&&null===t.element.name}function cn(t,e,n,r){var i=pn(t.root,t.renderer,t,e,n);return dn(i,t.component,r),mn(i),i}function hn(t,e,n){var r=pn(t,t.renderer,null,null,e);return dn(r,n,n),mn(r),r}function fn(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,pn(t.root,i,t,e.element.componentProvider,n)}function pn(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function dn(t,e,n){t.component=e,t.context=n}function mn(t){var e;Xt(t)&&(e=Mt(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];da.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var s=he(t,e,o),u=void 0;if(33554432&o.flags){var l=Jt(o.element.componentView);u=da.createComponentView(t,o,l,s)}fe(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?Ae(t,o):void 0},16777216&o.flags&&(a.viewContainer=Ee(t,o,a));break;case 2:a=an(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:De(t,o)});break;case 16:a={instance:Ue(t,o)};break;case 16384:(a=r[i])||(a={instance:Fe(t,o)}),32768&o.flags&&dn(Mt(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=qe();break;case 8:$e(t,e,o),a=void 0}r[i]=a}Tn(t,Ha.CreateViewNodes),An(t,201326592,268435456,0)}function gn(t){_n(t),da.updateDirectives(t,1),Sn(t,Ha.CheckNoChanges),da.updateRenderer(t,1),Tn(t,Ha.CheckNoChanges),t.state&=-97}function yn(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Tt(t,0,256),_n(t),da.updateDirectives(t,0),Sn(t,Ha.CheckAndUpdate),An(t,67108864,536870912,0);var e=Tt(t,256,512);He(t,2097152|(e?1048576:0)),da.updateRenderer(t,0),Tn(t,Ha.CheckAndUpdate),An(t,134217728,536870912,0),He(t,8388608|((e=Tt(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Tt(t,768,1024)}function vn(t,e,n,r,i,o,a,s,u,l,c,h,f){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,r,i,o,a,s,u,l,c,h,f){var p=e.bindings.length,d=!1;return p>0&&pe(t,e,0,n)&&(d=!0),p>1&&pe(t,e,1,i)&&(d=!0),p>2&&pe(t,e,2,o)&&(d=!0),p>3&&pe(t,e,3,a)&&(d=!0),p>4&&pe(t,e,4,s)&&(d=!0),p>5&&pe(t,e,5,u)&&(d=!0),p>6&&pe(t,e,6,l)&&(d=!0),p>7&&pe(t,e,7,c)&&(d=!0),p>8&&pe(t,e,8,h)&&(d=!0),p>9&&pe(t,e,9,f)&&(d=!0),d}(t,e,0,r,i,o,a,s,u,l,c,h);case 2:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=!1,p=e.bindings,d=p.length;if(d>0&&Ut(t,e,0,n)&&(f=!0),d>1&&Ut(t,e,1,r)&&(f=!0),d>2&&Ut(t,e,2,i)&&(f=!0),d>3&&Ut(t,e,3,o)&&(f=!0),d>4&&Ut(t,e,4,a)&&(f=!0),d>5&&Ut(t,e,5,s)&&(f=!0),d>6&&Ut(t,e,6,u)&&(f=!0),d>7&&Ut(t,e,7,l)&&(f=!0),d>8&&Ut(t,e,8,c)&&(f=!0),d>9&&Ut(t,e,9,h)&&(f=!0),f){var m=e.text.prefix;d>0&&(m+=sn(n,p[0])),d>1&&(m+=sn(r,p[1])),d>2&&(m+=sn(i,p[2])),d>3&&(m+=sn(o,p[3])),d>4&&(m+=sn(a,p[4])),d>5&&(m+=sn(s,p[5])),d>6&&(m+=sn(u,p[6])),d>7&&(m+=sn(l,p[7])),d>8&&(m+=sn(c,p[8])),d>9&&(m+=sn(h,p[9]));var g=Et(t,e.nodeIndex).renderText;t.renderer.setValue(g,m)}return f}(t,e,n,r,i,o,a,s,u,l,c,h);case 16384:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=At(t,e.nodeIndex),p=f.instance,d=!1,m=void 0,g=e.bindings.length;return g>0&&Dt(t,e,0,n)&&(d=!0,m=Ge(t,f,e,0,n,m)),g>1&&Dt(t,e,1,r)&&(d=!0,m=Ge(t,f,e,1,r,m)),g>2&&Dt(t,e,2,i)&&(d=!0,m=Ge(t,f,e,2,i,m)),g>3&&Dt(t,e,3,o)&&(d=!0,m=Ge(t,f,e,3,o,m)),g>4&&Dt(t,e,4,a)&&(d=!0,m=Ge(t,f,e,4,a,m)),g>5&&Dt(t,e,5,s)&&(d=!0,m=Ge(t,f,e,5,s,m)),g>6&&Dt(t,e,6,u)&&(d=!0,m=Ge(t,f,e,6,u,m)),g>7&&Dt(t,e,7,l)&&(d=!0,m=Ge(t,f,e,7,l,m)),g>8&&Dt(t,e,8,c)&&(d=!0,m=Ge(t,f,e,8,c,m)),g>9&&Dt(t,e,9,h)&&(d=!0,m=Ge(t,f,e,9,h,m)),m&&p.ngOnChanges(m),65536&e.flags&&St(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),d}(t,e,n,r,i,o,a,s,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=e.bindings,p=!1,d=f.length;if(d>0&&Ut(t,e,0,n)&&(p=!0),d>1&&Ut(t,e,1,r)&&(p=!0),d>2&&Ut(t,e,2,i)&&(p=!0),d>3&&Ut(t,e,3,o)&&(p=!0),d>4&&Ut(t,e,4,a)&&(p=!0),d>5&&Ut(t,e,5,s)&&(p=!0),d>6&&Ut(t,e,6,u)&&(p=!0),d>7&&Ut(t,e,7,l)&&(p=!0),d>8&&Ut(t,e,8,c)&&(p=!0),d>9&&Ut(t,e,9,h)&&(p=!0),p){var m=Ct(t,e.nodeIndex),g=void 0;switch(201347067&e.flags){case 32:g=new Array(f.length),d>0&&(g[0]=n),d>1&&(g[1]=r),d>2&&(g[2]=i),d>3&&(g[3]=o),d>4&&(g[4]=a),d>5&&(g[5]=s),d>6&&(g[6]=u),d>7&&(g[7]=l),d>8&&(g[8]=c),d>9&&(g[9]=h);break;case 64:g={},d>0&&(g[f[0].name]=n),d>1&&(g[f[1].name]=r),d>2&&(g[f[2].name]=i),d>3&&(g[f[3].name]=o),d>4&&(g[f[4].name]=a),d>5&&(g[f[5].name]=s),d>6&&(g[f[6].name]=u),d>7&&(g[f[7].name]=l),d>8&&(g[f[8].name]=c),d>9&&(g[f[9].name]=h);break;case 128:var y=n;switch(d){case 1:g=y.transform(n);break;case 2:g=y.transform(r);break;case 3:g=y.transform(r,i);break;case 4:g=y.transform(r,i,o);break;case 5:g=y.transform(r,i,o,a);break;case 6:g=y.transform(r,i,o,a,s);break;case 7:g=y.transform(r,i,o,a,s,u);break;case 8:g=y.transform(r,i,o,a,s,u,l);break;case 9:g=y.transform(r,i,o,a,s,u,l,c);break;case 10:g=y.transform(r,i,o,a,s,u,l,c,h)}}m.value=g}return p}(t,e,n,r,i,o,a,s,u,l,c,h);default:throw"unreachable"}}(t,e,r,i,o,a,s,u,l,c,h,f):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)pe(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Ut(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=sn(n[o],r[o]);a=e.text.prefix+a;var s=Et(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=At(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)Dt(t,e,s,n[s])&&(o=!0,a=Ge(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&St(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Ut(t,e,o,n[o])&&(i=!0);if(i){var a=Ct(t,e.nodeIndex),s=void 0;switch(201347067&e.flags){case 32:s=n;break;case 64:for(s={},o=0;o<n.length;o++)s[r[o].name]=n[o];break;case 128:var u=n[0],l=n.slice(1);s=u.transform.apply(u,l)}a.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function _n(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=Mt(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,Bt(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function bn(t,e,n,r,i,o,a,s,u,l,c,h,f){return 0===n?function(t,e,n,i,o,a,s,u,l,c,h,f){var p=e.bindings.length;p>0&&Ft(t,e,0,r),p>1&&Ft(t,e,1,i),p>2&&Ft(t,e,2,o),p>3&&Ft(t,e,3,a),p>4&&Ft(t,e,4,s),p>5&&Ft(t,e,5,u),p>6&&Ft(t,e,6,l),p>7&&Ft(t,e,7,c),p>8&&Ft(t,e,8,h),p>9&&Ft(t,e,9,f)}(t,e,0,i,o,a,s,u,l,c,h,f):function(t,e,n){for(var r=0;r<n.length;r++)Ft(t,e,r,n[r])}(t,e,r),!1}function wn(t,e){if(Pt(t,e.nodeIndex).dirty)throw Rt(da.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function xn(t){if(!(128&t.state)){if(Sn(t,Ha.Destroy),Tn(t,Ha.Destroy),He(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Vt(t);if(e){var n=e.template._projectedViews;n&&(xe(n,n.indexOf(t)),da.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Mt(t,n).renderElement):2&r.flags?t.renderer.destroyNode(Et(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&Pt(t,n).destroy()}}(t),Xt(t)&&t.renderer.destroy(),t.state|=128}}function Tn(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?En(Mt(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Sn(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Mt(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)En(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function En(t,e){var n=t.state;switch(e){case Ha.CheckNoChanges:0==(128&n)&&(12==(12&n)?gn(t):64&n&&Mn(t,Ha.CheckNoChangesProjectedViews));break;case Ha.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?gn(t):64&n&&Mn(t,e));break;case Ha.CheckAndUpdate:0==(128&n)&&(12==(12&n)?yn(t):64&n&&Mn(t,Ha.CheckAndUpdateProjectedViews));break;case Ha.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?yn(t):64&n&&Mn(t,e));break;case Ha.Destroy:xn(t);break;case Ha.CreateViewNodes:mn(t)}}function Mn(t,e){Sn(t,e),Tn(t,e)}function An(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(da.setCurrentNode(t,a.nodeIndex),r){case 0:Ze(t,a);break;case 1:wn(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}function Cn(){if(!Wa){Wa=!0;var t=$()?{setCurrentNode:kn,createRootView:function(t,e,n,r,i,o){var a=i.injector.get(So),s=Pn(t,i,new Qa(a),e,n),u=Rn(r);return jn(Ya.create,hn,null,[s,u,o])},createEmbeddedView:function(t,e,n,r){var i=Rn(n);return jn(Ya.create,cn,null,[t,e,i,r])},createComponentView:function(t,e,n,r){return n=qa.get(e.element.componentProvider.provider.token)||Rn(n),jn(Ya.create,fn,null,[t,e,n,r])},createNgModuleRef:function(t,e,n,r){return Oe(t,e,n,function(t){var e=function(e){var n=!1,r=!1;return 0===Xa.size?{hasOverrides:n,hasDeprecatedOverrides:r}:(t.providers.forEach(function(t){var e=Xa.get(t.token);3840&t.flags&&e&&(n=!0,r=r||e.deprecatedBehavior)}),{hasOverrides:n,hasDeprecatedOverrides:r})}(),n=e.hasDeprecatedOverrides;return e.hasOverrides?(t=t.factory(function(){return ma}),function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=Xa.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Kt(i.deps),r.value=i.value)}}(t),t):t}(r))},overrideProvider:function(t){Xa.set(t.token,t)},overrideComponentView:function(t,e){var n=Jt(Jt(Se(e)).nodes[0].element.componentView);qa.set(t,n)},clearOverrides:function(){Xa.clear(),qa.clear()},checkAndUpdateView:function(t){return jn(Ya.detectChanges,yn,null,[t])},checkNoChangesView:function(t){return jn(Ya.checkNoChanges,gn,null,[t])},destroyView:function(t){return jn(Ya.destroy,xn,null,[t])},createDebugContext:function(t,e){return new Ka(t,e)},handleEvent:function(t,e,n,r){return kn(t,e),jn(Ya.handleEvent,t.def.handleEvent,null,[t,e,n,r])},updateDirectives:function(t,e){if(128&t.state)throw Lt(Ya[cr]);return kn(t,Dn(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Nn(t,a,r,i):In(t,a,r,i),16384&a.flags&&kn(t,Dn(t,n)),224&a.flags?Ct(t,a.nodeIndex).value:void 0},t)},updateRenderer:function(t,e){if(128&t.state)throw Lt(Ya[cr]);return kn(t,Un(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Nn(t,a,r,i):In(t,a,r,i),3&a.flags&&kn(t,Un(t,n)),224&a.flags?Ct(t,a.nodeIndex).value:void 0},t)}}:{setCurrentNode:function(){},createRootView:function(t,e,n,r,i,o){return hn(Pn(t,i,i.injector.get(So),e,n),r,o)},createEmbeddedView:cn,createComponentView:fn,createNgModuleRef:Oe,overrideProvider:ma,overrideComponentView:ma,clearOverrides:ma,checkAndUpdateView:yn,checkNoChangesView:gn,destroyView:xn,createDebugContext:function(t,e){return new Ka(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?On:Ln,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?On:Ln,t)}};da.setCurrentNode=t.setCurrentNode,da.createRootView=t.createRootView,da.createEmbeddedView=t.createEmbeddedView,da.createComponentView=t.createComponentView,da.createNgModuleRef=t.createNgModuleRef,da.overrideProvider=t.overrideProvider,da.overrideComponentView=t.overrideComponentView,da.clearOverrides=t.clearOverrides,da.checkAndUpdateView=t.checkAndUpdateView,da.checkNoChangesView=t.checkNoChangesView,da.destroyView=t.destroyView,da.resolveDep=ze,da.createDebugContext=t.createDebugContext,da.handleEvent=t.handleEvent,da.updateDirectives=t.updateDirectives,da.updateRenderer=t.updateRenderer,da.dirtyParentQueries=Ye}}function Pn(t,e,n,r,i){var o=e.injector.get(fa),a=e.injector.get(_i);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:a}}function Rn(t){if(0===Xa.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Xa.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return ma});for(var n=0;n<e.length;n++)!function(t,r){for(var i=e[n]+1;i<t.nodes.length;i++){var o=t.nodes[i];if(1&o.flags)return;if(3840&o.flags){var a=o.provider,s=Xa.get(a.token);s&&(o.flags=-3841&o.flags|s.flags,a.deps=Kt(s.deps),a.value=s.value)}}}(t);return t}function On(t,e,n,r,i,o,a,s,u,l,c,h,f){var p=t.def.nodes[e];return vn(t,p,n,r,i,o,a,s,u,l,c,h,f),224&p.flags?Ct(t,e).value:void 0}function Ln(t,e,n,r,i,o,a,s,u,l,c,h,f){var p=t.def.nodes[e];return bn(t,p,n,r,i,o,a,s,u,l,c,h,f),224&p.flags?Ct(t,e).value:void 0}function kn(t,e){hr=t,fr=e}function Nn(t,e,n,r){if(vn.apply(void 0,[t,e,n].concat(r))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},a=0;a<e.bindings.length;a++){var s=e.bindings[a],u=i[a];8&s.flags&&(o[function(t){return"ng-reflect-"+(t=t.replace(/[$@]/g,"_").replace(Za,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))}(s.nonMinifiedName)]=function(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}(u))}var l=e.parent,c=Mt(t,l.nodeIndex).renderElement;if(l.element.name)for(var h in o)null!=(u=o[h])?t.renderer.setAttribute(c,h,u):t.renderer.removeAttribute(c,h);else t.renderer.setValue(c,"bindings="+JSON.stringify(o,null,2))}}}function In(t,e,n,r){bn.apply(void 0,[t,e,n].concat(r))}function Dn(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Un(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Fn(t,e,n){for(var r in e.references)n[r]=Qe(t,e,e.references[r])}function jn(t,e,n,r){var i=cr,o=hr,a=fr;try{cr=t;var s=e.apply(n,r);return hr=o,fr=a,cr=i,s}catch(t){if(_(t)||!hr)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Ot(t,e),t}(t,Bn())}}function Bn(){return hr?new Ka(hr,fr):null}function zn(t){return Cn(),da.overrideProvider(t)}function Vn(t,e){return Cn(),da.overrideComponentView(t,e)}function Gn(){return Cn(),da.clearOverrides()}function Hn(t,e,n){return new $a(t,e,n)}function Wn(t,e){return{type:7,name:t,definitions:e,options:{}}}function Xn(t,e){return void 0===e&&(e=null),{type:4,styles:e,timings:t}}function qn(t,e){return void 0===e&&(e=null),{type:3,steps:t,options:e}}function Yn(t,e){return void 0===e&&(e=null),{type:2,steps:t,options:e}}function Zn(t){return{type:6,styles:t,offset:null}}function Kn(t,e,n){return{type:0,name:t,styles:e,options:n}}function Qn(t){return{type:5,steps:t}}function Jn(t,e,n){return void 0===n&&(n=null),{type:1,expr:t,animation:e,options:n}}function $n(t,e){return Wn(t,e)}function tr(t,e){return Xn(t,e)}function er(t){return qn(t)}function nr(t){return Yn(t)}function rr(t){return Zn(t)}function ir(t,e){return Kn(t,e)}function or(t){return Qn(t)}function ar(t,e){return Jn(t,e)}n.d(e,"createPlatform",function(){return tt}),n.d(e,"assertPlatform",function(){return nt}),n.d(e,"destroyPlatform",function(){return rt}),n.d(e,"getPlatform",function(){return it}),n.d(e,"PlatformRef",function(){return vo}),n.d(e,"ApplicationRef",function(){return _o}),n.d(e,"enableProdMode",function(){return J}),n.d(e,"isDevMode",function(){return $}),n.d(e,"createPlatformFactory",function(){return et}),n.d(e,"NgProbeToken",function(){return yo}),n.d(e,"APP_ID",function(){return Ii}),n.d(e,"PACKAGE_ROOT_URL",function(){return Bi}),n.d(e,"PLATFORM_INITIALIZER",function(){return Ui}),n.d(e,"PLATFORM_ID",function(){return Fi}),n.d(e,"APP_BOOTSTRAP_LISTENER",function(){return ji}),n.d(e,"APP_INITIALIZER",function(){return ki}),n.d(e,"ApplicationInitStatus",function(){return Ni}),n.d(e,"DebugElement",function(){return Bo}),n.d(e,"DebugNode",function(){return jo}),n.d(e,"asNativeElements",function(){return ht}),n.d(e,"getDebugNode",function(){return dt}),n.d(e,"Testability",function(){return co}),n.d(e,"TestabilityRegistry",function(){return ho}),n.d(e,"setTestabilityGetter",function(){return Q}),n.d(e,"TRANSLATIONS",function(){return sa}),n.d(e,"TRANSLATIONS_FORMAT",function(){return ua}),n.d(e,"LOCALE_ID",function(){return aa}),n.d(e,"MissingTranslationStrategy",function(){return la}),n.d(e,"ApplicationModule",function(){return ca}),n.d(e,"wtfCreateScope",function(){return no}),n.d(e,"wtfLeave",function(){return ro}),n.d(e,"wtfStartTimeRange",function(){return io}),n.d(e,"wtfEndTimeRange",function(){return oo}),n.d(e,"Type",function(){return xi}),n.d(e,"EventEmitter",function(){return ao}),n.d(e,"ErrorHandler",function(){return _i}),n.d(e,"Sanitizer",function(){return fa}),n.d(e,"SecurityContext",function(){return ha}),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return xr}),n.d(e,"Attribute",function(){return Tr}),n.d(e,"ContentChild",function(){return Mr}),n.d(e,"ContentChildren",function(){return Er}),n.d(e,"Query",function(){return Sr}),n.d(e,"ViewChild",function(){return Cr}),n.d(e,"ViewChildren",function(){return Ar}),n.d(e,"Component",function(){return Lr}),n.d(e,"Directive",function(){return Or}),n.d(e,"HostBinding",function(){return Dr}),n.d(e,"HostListener",function(){return Ur}),n.d(e,"Input",function(){return Nr}),n.d(e,"Output",function(){return Ir}),n.d(e,"Pipe",function(){return kr}),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",function(){return Fr}),n.d(e,"NO_ERRORS_SCHEMA",function(){return jr}),n.d(e,"NgModule",function(){return Br}),n.d(e,"ViewEncapsulation",function(){return zr}),n.d(e,"Version",function(){return Vr}),n.d(e,"VERSION",function(){return Gr}),n.d(e,"forwardRef",function(){return f}),n.d(e,"resolveForwardRef",function(){return p}),n.d(e,"Injector",function(){return ri}),n.d(e,"ReflectiveInjector",function(){return Oi}),n.d(e,"ResolvedReflectiveFactory",function(){return Pi}),n.d(e,"ReflectiveKey",function(){return bi}),n.d(e,"InjectionToken",function(){return vr}),n.d(e,"Inject",function(){return Hr}),n.d(e,"Optional",function(){return Wr}),n.d(e,"Injectable",function(){return Xr}),n.d(e,"Self",function(){return qr}),n.d(e,"SkipSelf",function(){return Yr}),n.d(e,"Host",function(){return Zr}),n.d(e,"NgZone",function(){return so}),n.d(e,"RenderComponentType",function(){return bo}),n.d(e,"Renderer",function(){return xo}),n.d(e,"Renderer2",function(){return Mo}),n.d(e,"RendererFactory2",function(){return So}),n.d(e,"RendererStyleFlags2",function(){return Eo}),n.d(e,"RootRenderer",function(){return To}),n.d(e,"COMPILER_OPTIONS",function(){return Hi}),n.d(e,"Compiler",function(){return Gi}),n.d(e,"CompilerFactory",function(){return Wi}),n.d(e,"ModuleWithComponentFactories",function(){return Vi}),n.d(e,"ComponentFactory",function(){return qi}),n.d(e,"ComponentRef",function(){return Xi}),n.d(e,"ComponentFactoryResolver",function(){return Ki}),n.d(e,"ElementRef",function(){return Ao}),n.d(e,"NgModuleFactory",function(){return to}),n.d(e,"NgModuleRef",function(){return $i}),n.d(e,"NgModuleFactoryLoader",function(){return Co}),n.d(e,"getModuleFactory",function(){return ut}),n.d(e,"QueryList",function(){return Ro}),n.d(e,"SystemJsNgModuleLoader",function(){return ko}),n.d(e,"SystemJsNgModuleLoaderConfig",function(){return Oo}),n.d(e,"TemplateRef",function(){return No}),n.d(e,"ViewContainerRef",function(){return Io}),n.d(e,"EmbeddedViewRef",function(){return Fo}),n.d(e,"ViewRef",function(){return Uo}),n.d(e,"ChangeDetectionStrategy",function(){return Pr}),n.d(e,"ChangeDetectorRef",function(){return Do}),n.d(e,"DefaultIterableDiffer",function(){return qo}),n.d(e,"IterableDiffers",function(){return ta}),n.d(e,"KeyValueDiffers",function(){return ea}),n.d(e,"SimpleChange",function(){return Ho}),n.d(e,"WrappedValue",function(){return Vo}),n.d(e,"platformCore",function(){return oa}),n.d(e,"\u0275ALLOW_MULTIPLE_PLATFORMS",function(){return go}),n.d(e,"\u0275APP_ID_RANDOM_PROVIDER",function(){return Di}),n.d(e,"\u0275ValueUnwrapper",function(){return Go}),n.d(e,"\u0275devModeEqual",function(){return gt}),n.d(e,"\u0275isListLikeIterable",function(){return yt}),n.d(e,"\u0275ChangeDetectorStatus",function(){return Rr}),n.d(e,"\u0275isDefaultChangeDetectionStrategy",function(){return s}),n.d(e,"\u0275Console",function(){return zi}),n.d(e,"\u0275ComponentFactory",function(){return qi}),n.d(e,"\u0275CodegenComponentFactoryResolver",function(){return Qi}),n.d(e,"\u0275ReflectionCapabilities",function(){return Si}),n.d(e,"\u0275RenderDebugInfo",function(){return wo}),n.d(e,"\u0275global",function(){return Jr}),n.d(e,"\u0275looseIdentical",function(){return c}),n.d(e,"\u0275stringify",function(){return h}),n.d(e,"\u0275makeDecorator",function(){return r}),n.d(e,"\u0275isObservable",function(){return D}),n.d(e,"\u0275isPromise",function(){return I}),n.d(e,"\u0275clearOverrides",function(){return Gn}),n.d(e,"\u0275overrideComponentView",function(){return Vn}),n.d(e,"\u0275overrideProvider",function(){return zn}),n.d(e,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return Ga}),n.d(e,"\u0275registerModuleFactory",function(){return st}),n.d(e,"\u0275EMPTY_ARRAY",function(){return xa}),n.d(e,"\u0275EMPTY_MAP",function(){return Ta}),n.d(e,"\u0275and",function(){return le}),n.d(e,"\u0275ccf",function(){return Te}),n.d(e,"\u0275cmf",function(){return Hn}),n.d(e,"\u0275crt",function(){return It}),n.d(e,"\u0275did",function(){return Le}),n.d(e,"\u0275eld",function(){return ce}),n.d(e,"\u0275elementEventFullName",function(){return Wt}),n.d(e,"\u0275getComponentViewDefinitionFactory",function(){return Se}),n.d(e,"\u0275inlineInterpolate",function(){return se}),n.d(e,"\u0275interpolate",function(){return ae}),n.d(e,"\u0275mod",function(){return me}),n.d(e,"\u0275mpd",function(){return de}),n.d(e,"\u0275ncd",function(){return Je}),n.d(e,"\u0275nov",function(){return Pe}),n.d(e,"\u0275pid",function(){return ke}),n.d(e,"\u0275prd",function(){return Ne}),n.d(e,"\u0275pad",function(){return en}),n.d(e,"\u0275pod",function(){return nn}),n.d(e,"\u0275ppd",function(){return tn}),n.d(e,"\u0275qud",function(){return Xe}),n.d(e,"\u0275ted",function(){return on}),n.d(e,"\u0275unv",function(){return Nt}),n.d(e,"\u0275vid",function(){return un}),n.d(e,"AUTO_STYLE",function(){return ts}),n.d(e,"trigger",function(){return $n}),n.d(e,"animate",function(){return tr}),n.d(e,"group",function(){return er}),n.d(e,"sequence",function(){return nr}),n.d(e,"style",function(){return rr}),n.d(e,"state",function(){return ir}),n.d(e,"keyframes",function(){return or}),n.d(e,"transition",function(){return ar}),n.d(e,"\u0275x",function(){return Xn}),n.d(e,"\u0275y",function(){return qn}),n.d(e,"\u0275bc",function(){return Qn}),n.d(e,"\u0275z",function(){return Yn}),n.d(e,"\u0275bb",function(){return Kn}),n.d(e,"\u0275ba",function(){return Zn}),n.d(e,"\u0275bd",function(){return Jn}),n.d(e,"\u0275w",function(){return Wn}),n.d(e,"\u0275k",function(){return bt}),n.d(e,"\u0275l",function(){return wt}),n.d(e,"\u0275m",function(){return xt}),n.d(e,"\u0275f",function(){return U}),n.d(e,"\u0275g",function(){return ra}),n.d(e,"\u0275h",function(){return ia}),n.d(e,"\u0275i",function(){return Wo}),n.d(e,"\u0275j",function(){return Qo}),n.d(e,"\u0275b",function(){return mi}),n.d(e,"\u0275c",function(){return Li}),n.d(e,"\u0275d",function(){return Mi}),n.d(e,"\u0275e",function(){return R}),n.d(e,"\u0275n",function(){return eo}),n.d(e,"\u0275p",function(){return V}),n.d(e,"\u0275o",function(){return z}),n.d(e,"\u0275s",function(){return W}),n.d(e,"\u0275q",function(){return G}),n.d(e,"\u0275r",function(){return H}),n.d(e,"\u0275a",function(){return o}),n.d(e,"\u0275t",function(){return Ie}),n.d(e,"\u0275u",function(){return pa});var sr,ur,lr,cr,hr,fr,pr=n("6Xbx"),dr=n("AP4T"),mr=n("2kLc"),gr=n("URbD"),yr=n("TO51"),vr=function(){function t(t){this._desc=t,this.ngMetadataName="InjectionToken"}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),_r="__annotations__",br="__paramaters__",wr="__prop__metadata__",xr=new vr("AnalyzeForEntryComponents"),Tr=o("Attribute",function(t){return{attributeName:t}}),Sr=function(){},Er=a("ContentChildren",function(t,e){return void 0===e&&(e={}),Object(pr.a)({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)},Sr),Mr=a("ContentChild",function(t,e){return void 0===e&&(e={}),Object(pr.a)({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)},Sr),Ar=a("ViewChildren",function(t,e){return void 0===e&&(e={}),Object(pr.a)({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)},Sr),Cr=a("ViewChild",function(t,e){return Object(pr.a)({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)},Sr),Pr=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),Rr=function(){var t={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};return t[t.CheckOnce]="CheckOnce",t[t.Checked]="Checked",t[t.CheckAlways]="CheckAlways",t[t.Detached]="Detached",t[t.Errored]="Errored",t[t.Destroyed]="Destroyed",t}(),Or=r("Directive",function(t){return void 0===t&&(t={}),t}),Lr=r("Component",function(t){return void 0===t&&(t={}),Object(pr.a)({changeDetection:Pr.Default},t)},Or),kr=r("Pipe",function(t){return Object(pr.a)({pure:!0},t)}),Nr=a("Input",function(t){return{bindingPropertyName:t}}),Ir=a("Output",function(t){return{bindingPropertyName:t}}),Dr=a("HostBinding",function(t){return{hostPropertyName:t}}),Ur=a("HostListener",function(t,e){return{eventName:t,args:e}}),Fr={name:"custom-elements"},jr={name:"no-errors-schema"},Br=r("NgModule",function(t){return t}),zr=function(){var t={Emulated:0,Native:1,None:2};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t}(),Vr=function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Gr=new Vr("5.1.0"),Hr=o("Inject",function(t){return{token:t}}),Wr=o("Optional"),Xr=r("Injectable"),qr=o("Self"),Yr=o("SkipSelf"),Zr=o("Host"),Kr="undefined"!=typeof window&&window,Qr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Jr=Kr||"undefined"!=typeof t&&t||Qr,$r=null,ti=new Object,ei=ti,ni=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=ti),e===ti)throw new Error("NullInjectorError: No provider for "+h(t)+"!");return e},t}(),ri=function(){function t(){}return t.create=function(t,e){return new mi(t,e)},t.THROW_IF_NOT_FOUND=ti,t.NULL=new ni,t}(),ii=function(t){return t},oi=[],ai=ii,si=function(){return Array.prototype.slice.call(arguments)},ui={},li=ui,ci=function(t){for(var e in t)if(t[e]===ui)return e;throw Error("!prop")}({provide:String,useValue:li}),hi="ngTempTokenPath",fi=ri.NULL,pi=/\n/gm,di="\u0275",mi=function(){function t(t,e){void 0===e&&(e=fi),this.parent=e;var n=this._records=new Map;n.set(ri,{token:ri,fn:ii,deps:oi,value:this,useNew:!1}),m(n,t)}return t.prototype.get=function(t,e){var n=this._records.get(t);try{return g(t,n,this._records,this.parent,e)}catch(t){var r=t[hi];throw t.message=y("\n"+t.message,r),t.ngTokenPath=r,t[hi]=null,t}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(h(n))}),"StaticInjector["+t.join(", ")+"]"},t}(),gi="ngDebugContext",yi="ngOriginalError",vi="ngErrorLogger",_i=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=t[vi]||function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)};r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?_(t)?_(t):this._findContext(b(t)):null},t.prototype._findOriginalError=function(t){for(var e=b(t);e&&b(e);)e=b(e);return e},t}(),bi=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=h(this.token)}return t.get=function(t){return wi.get(p(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return wi.numberOfKeys},enumerable:!0,configurable:!0}),t}(),wi=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof bi)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new bi(t,bi.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}()),xi=Function,Ti=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Si=function(){function t(t){this._reflect=t||Jr.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,[void 0].concat(e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n="undefined"==typeof t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)n[r]="undefined"==typeof t?[]:t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){if(Ti.exec(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var n=t.ctorParameters;if(n&&n!==e.ctorParameters){var r="function"==typeof n?n():n,i=r.map(function(t){return t&&t.type}),o=r.map(function(t){return t&&A(t.decorators)});return this._zipTypesAndAnnotations(i,o)}var a=t.hasOwnProperty(br)&&t[br],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return s||a?this._zipTypesAndAnnotations(s,a):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!M(t))return[];var e=C(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?A(t.decorators):t.hasOwnProperty(_r)?t[_r]:null},t.prototype.annotations=function(t){if(!M(t))return[];var e=C(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,i={};return Object.keys(r).forEach(function(t){i[t]=A(r[t])}),i}return t.hasOwnProperty(wr)?t[wr]:null},t.prototype.propMetadata=function(t){if(!M(t))return{};var e=C(t),n={};if(e!==Object){var r=this.propMetadata(e);Object.keys(r).forEach(function(t){n[t]=r[t]})}var i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,n[t]),e.push.apply(e,i[t]),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof xi&&e in t.prototype},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){var e="if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);";return new Function("o","args",e)},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+h(t)},t.prototype.resourceUri=function(t){return"./"+h(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}(),Ei=new(function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}())(new Si),Mi=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),Ai=[],Ci=function(){function t(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n}return Object.defineProperty(t.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),t}(),Pi=function(t,e){this.factory=t,this.dependencies=e},Ri=new Object,Oi=function(){function t(){}return t.resolve=function(t){return R(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new Li(t,e)},t}(),Li=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=Ri}return t.prototype.get=function(t,e){return void 0===e&&(e=ei),this._getByKey(bi.get(t),null,e)},t.prototype.resolveAndCreateChild=function(t){var e=Oi.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n.parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(Oi.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(t){return Error("Index "+t+" is out-of-bounds.")}(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function(e,n){return x(e,t.key,function(t){return"Cannot instantiate cyclic dependency!"+w(t)})}(this);return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,r=this,i=e.factory;try{n=e.dependencies.map(function(t){return r._getByReflectiveDependency(t)})}catch(e){throw e.addKey&&e.addKey(this,t.key),e}var o;try{o=i.apply(void 0,n)}catch(e){throw function(e,n,r,i){return x(e,t.key,function(t){var e=h(t[0].token);return n.message+": Error during instantiation of "+e+"!"+w(t)+"."},n)}(this,e)}return o},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:ei)},t.prototype._getByKey=function(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof qr?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Ri&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Ri},t.prototype._throwOrNull=function(t,e){if(e!==ei)return e;throw function(e,n){return x(e,t,function(t){return"No provider for "+h(t[0].token)+"!"+w(t)})}(this)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==Ri?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var i;for(i=r instanceof Yr?this.parent:this;i instanceof t;){var o=i,a=o._getObjByKeyId(e.id);if(a!==Ri)return a;i=o.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=e(t.getProviderAtIndex(r));return n}(this,function(t){return' "'+t.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t.INJECTOR_KEY=bi.get(ri),t}(),ki=new vr("Application Initializer"),Ni=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();I(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),Ii=new vr("AppId"),Di={provide:Ii,useFactory:U,deps:[]},Ui=new vr("Platform Initializer"),Fi=new vr("Platform ID"),ji=new vr("appBootstrapListener"),Bi=new vr("Application Packages Root URL"),zi=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t.ctorParameters=function(){return[]},t}(),Vi=function(t,e){this.ngModuleFactory=t,this.componentFactories=e},Gi=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw j()},t.prototype.compileModuleAsync=function(t){throw j()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw j()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw j()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}(),Hi=new vr("compilerOptions"),Wi=function(){},Xi=function(){},qi=function(){},Yi="ngComponent",Zi=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw B(t)},t}(),Ki=function(){function t(){}return t.NULL=new Zi,t}(),Qi=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw B(t);return new Ji(e,this._ngModule)},t}(),Ji=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r}return Object(pr.b)(e,t),Object.defineProperty(e.prototype,"selector",{get:function(){return this.factory.selector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this.factory.componentType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngContentSelectors",{get:function(){return this.factory.ngContentSelectors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.factory.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this.factory.outputs},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(qi),$i=function(){},to=function(){},eo=z(),no=eo?V:function(t,e){return X},ro=eo?G:function(t,e){return e},io=eo?H:function(t,e){return null},oo=eo?W:function(t){return null},ao=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(pr.b)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},a=function(){return null};return e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),t.prototype.subscribe.call(this,i,o,a)},e}(yr.Subject),so=function(){function t(t){var e=t.enableLongStackTrace,n=void 0!==e&&e;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ao(!1),this.onMicrotaskEmpty=new ao(!1),this.onStable=new ao(!1),this.onError=new ao(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),function(t){t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,r,i,o,a){try{return Z(t),e.invokeTask(r,i,o,a)}finally{K(t)}},onInvoke:function(e,n,r,i,o,a,s){try{return Z(t),e.invoke(r,i,o,a,s)}finally{K(t)}},onHasTask:function(e,n,r,i){e.hasTask(r,i),n===r&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,Y(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,n,r,i){return e.handleError(r,i),t.runOutsideAngular(function(){return t.onError.emit(i)}),!1}})}(this)}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,uo,q,q);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}(),uo={},lo=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ao,this.onMicrotaskEmpty=new ao,this.onStable=new ao,this.onError=new ao}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),co=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){so.assertNotInAngularZone(),l(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?l(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),ho=function(){function t(){this._applications=new Map,fo.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),fo.findTestabilityInTree(this,t,e)},t.ctorParameters=function(){return[]},t}(),fo=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),po=!0,mo=!1,go=new vr("AllowMultipleToken"),yo=function(t,e){this.name=t,this.token=e},vo=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n=this,r=function(t){return"noop"===t?new lo:("zone.js"===t?void 0:t)||new so({enableLongStackTrace:$()})}(e?e.ngZone:void 0);return r.run(function(){var e=ri.create([{provide:so,useValue:r}],n.injector),i=t.create(e),o=i.injector.get(_i,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(function(){return at(n._modules,i)}),r.runOutsideAngular(function(){return r.onError.subscribe({next:function(t){o.handleError(t)}})}),function(t,e,r){try{var o=function(){var t=i.injector.get(Ni);return t.runInitializers(),t.donePromise.then(function(){return n._moduleDoBootstrap(i),i})}();return I(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}}(o,r)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=this.injector.get(Wi),i=ot({},e);return r.createCompiler([i]).compileModuleAsync(t).then(function(t){return n.bootstrapModuleFactory(t,i)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(_o);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+h(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}(),_o=function(){function t(t,e,n,r,i,o){var a=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=$(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new dr.a(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),u=new dr.a(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){so.assertNotInAngularZone(),l(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){so.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(mr.a)(s,gr.a.call(u))}return t.prototype.bootstrap=function(t,e){var n=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var r;r=t instanceof qi?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);var i=r instanceof Ji?null:this._injector.get($i),o=r.create(ri.NULL,[],e||r.selector,i);o.onDestroy(function(){n._unloadComponent(o)});var a=o.injector.get(co,null);return a&&o.injector.get(ho).registerApplication(o.location.nativeElement,a),this._loadComponent(o),$()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(t){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(t)})}finally{this._runningTick=!1,ro(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;at(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ji,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),at(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=no("ApplicationRef#tick()"),t}(),bo=function(t,e,n,r,i,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=i,this.animations=o},wo=function(){},xo=function(){},To=function(){},So=function(){},Eo=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),Mo=function(){},Ao=function(t){this.nativeElement=t},Co=function(){},Po=new Map,Ro=function(){function t(){this.dirty=!0,this._results=[],this.changes=new ao}return Object.defineProperty(t.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[u()]=function(){return this._results[u()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=lt(t),this.dirty=!1},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),Oo=function(){},Lo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},ko=function(){function t(t,e){this._compiler=t,this._config=e||Lo}return t.prototype.load=function(t){return this._compiler instanceof Gi?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=t.split("#"),i=r[0],o=r[1];return void 0===o&&(o="default"),n("YuZA")(i).then(function(t){return t[o]}).then(function(t){return ct(t,i,o)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split("#"),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("YuZA")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[i+o]}).then(function(t){return ct(t,r,i)})},t}(),No=function(){},Io=function(){},Do=function(){},Uo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pr.b)(e,t),e}(Do),Fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pr.b)(e,t),e}(Uo),jo=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof Bo?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),Bo=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(pr.b)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n=this,r=this.childNodes.indexOf(t);-1!==r&&((i=this.childNodes).splice.apply(i,[r+1,0].concat(e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=n}));var i},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return ft(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return pt(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(jo),zo=new Map,Vo=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t}(),Go=function(){function t(){this.hasWrappedValue=!1}return t.prototype.unwrap=function(t){return t instanceof Vo?(this.hasWrappedValue=!0,t.wrapped):t},t.prototype.reset=function(){this.hasWrappedValue=!1},t}(),Ho=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}(),Wo=function(){function t(){}return t.prototype.supports=function(t){return yt(t)},t.prototype.create=function(t){return new qo(t)},t}(),Xo=function(t,e){return e},qo=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Xo}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<_t(n,r,i)?e:n,a=_t(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;l<=f&&f<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!yt(t))throw new Error("Error trying to diff '"+h(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&c(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),c(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[u()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&c(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),c(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(c(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(c(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Yo(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ko),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ko),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),Yo=function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Zo=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&c(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Ko=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Zo,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}(),Qo=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||vt(t)},t.prototype.create=function(){return new Jo},t}(),Jo=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||vt(t)))throw new Error("Error trying to diff '"+h(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new $o(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){c(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),$o=function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},ta=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();return e=e.concat(r),new t(e)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Yr,new Wr]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(null!=e)return e;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+(t.name||typeof t)+"'")},t}(),ea=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Yr,new Wr]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),na=[new Qo],ra=new ta([new Wo]),ia=new ea(na),oa=et(null,"core",[{provide:Fi,useValue:"unknown"},{provide:vo,deps:[ri]},{provide:ho,deps:[]},{provide:zi,deps:[]}]),aa=new vr("LocaleId"),sa=new vr("Translations"),ua=new vr("TranslationsFormat"),la=function(){var t={Error:0,Warning:1,Ignore:2};return t[t.Error]="Error",t[t.Warning]="Warning",t[t.Ignore]="Ignore",t}(),ca=function(t){},ha=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),fa=function(){},pa=function(){},da={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},ma=function(){},ga=new Map,ya="$$undefined",va="$$empty",_a=0,ba=new WeakMap,wa=/^:([^:]+):(.+)$/,xa=[],Ta={},Sa=new Object,Ea=kt(ri),Ma=kt($i),Aa=new Object,Ca=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(pr.b)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=Jt(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=da.createRootView(t,e||[],n,i,r,Aa),s=At(a,o).instance;return n&&a.renderer.setAttribute(Mt(a,0).renderElement,"ng-version",Gr.full),new Pa(a,new Oa(a),s)},e}(qi),Pa=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(pr.b)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new Ao(Mt(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new ka(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Xi),Ra=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new Ao(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new ka(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Gt(t),t=t.parent;return t?new ka(t,e):new ka(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=ve(this._data,t);da.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Oa(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof Ji||(i=o.get($i));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=t;return function(t,e,n,r){var i=e.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=i.length),r.viewContainerParent=t,we(i,n,r),function(t,e){var n=Vt(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(e,r),da.dirtyParentQueries(r),_e(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n=this._embeddedViews.indexOf(t._view);return function(t,e,r){var i=t.viewContainer._embeddedViews,o=i[n];xe(i,n),null==r&&(r=i.length),we(i,r,o),da.dirtyParentQueries(o),be(o),_e(t,r>0?i[r-1]:null,o)}(this._data,0,e),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=ve(this._data,t);e&&da.destroyView(e)},t.prototype.detach=function(t){var e=ve(this._data,t);return e?new Oa(e):null},t}(),Oa=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return function(t){var e=[];return $t(t,0,void 0,void 0,e),e}(this._view)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){jt(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin(),da.checkAndUpdateView(this._view),t.end&&t.end()},t.prototype.checkNoChanges=function(){da.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),da.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,be(this._view),da.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}(),La=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(pr.b)(e,t),e.prototype.createEmbeddedView=function(t){return new Oa(da.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new Ao(Mt(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(No),ka=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=ri.THROW_IF_NOT_FOUND),da.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:kt(t)},e)},t}(),Na=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=ie(e),r=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,r),r},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=ie(e),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}(),Ia=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||(n[r]=ye(t,i))}}(this)}return t.prototype.get=function(t,e){return void 0===e&&(e=ri.THROW_IF_NOT_FOUND),ge(this,{token:t,tokenKey:kt(t),flags:0},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Ki)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+h(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){var i=t._providers[r];i&&i!==Sa&&i.ngOnDestroy()}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),Da=kt(xo),Ua=kt(Mo),Fa=kt(Ao),ja=kt(Io),Ba=kt(No),za=kt(Do),Va=kt(ri),Ga={},Ha=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}(),Wa=!1,Xa=new Map,qa=new Map,Ya=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}(),Za=/([A-Z])/g,Ka=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Gt(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Mt(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Ce(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Fn(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Fn(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!Xt(t);)t=t.parent;return t.parent?Mt(t.parent,Gt(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?Ht(this.view,this.nodeDef):Ht(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i;2&this.nodeDef.flags?(r=this.view.def,i=this.nodeDef.nodeIndex):(r=this.elView.def,i=this.elDef.nodeIndex);var o=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(r,i),a=-1;r.factory(function(){return++a===o?(n=t.error).bind.apply(n,[t].concat(e)):ma;var n}),a<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,e))},t}(),Qa=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Ja(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Ja=function(){function t(t){this.delegate=t}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroyNode=function(t){!function(t){zo.delete(t.nativeNode)}(dt(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=Bn();if(r){var i=new Bo(n,null,r);i.name=t,mt(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=Bn();return n&&mt(new jo(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=Bn();return n&&mt(new jo(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=dt(t),r=dt(e);n&&r&&n instanceof Bo&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=dt(t),i=dt(e),o=dt(n);r&&i&&r instanceof Bo&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=dt(t),r=dt(e);n&&r&&n instanceof Bo&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=Bn();return n&&mt(new Bo(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var i=dt(t);i&&i instanceof Bo&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=dt(t);r&&r instanceof Bo&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=dt(t);n&&n instanceof Bo&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=dt(t);n&&n instanceof Bo&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=dt(t);i&&i instanceof Bo&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=dt(t);r&&r instanceof Bo&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=dt(t);r&&r instanceof Bo&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=dt(t);r&&r.listeners.push(new function(t,e){this.name=t,this.callback=e}(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}(),$a=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(pr.b)(e,t),e.prototype.create=function(t){Cn();var e=Jt(this._ngModuleDefFactory);return da.createNgModuleRef(this.moduleType,t||ri.NULL,this._bootstrapComponents,e)},e}(to),ts="*"}).call(e,n("fRUx"))},MJpX:function(t,e,n){"use strict";function r(t,e,n){return i(this,void 0,void 0,function*(){yield t.post(e,n,s)})}var i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const o=n("nHik"),a=n("sxf2");!function(t){t[t.WebSockets=0]="WebSockets",t[t.ServerSentEvents=1]="ServerSentEvents",t[t.LongPolling=2]="LongPolling"}(e.TransportType||(e.TransportType={})),e.WebSocketTransport=class{constructor(t){this.logger=t}connect(t,e){return new Promise((n,r)=>{t=t.replace(/^http/,"ws");let i=new WebSocket(t);2==e&&(i.binaryType="arraybuffer"),i.onopen=(r=>{this.logger.log(a.LogLevel.Information,`WebSocket connected to ${t}`),this.webSocket=i,n(e)}),i.onerror=(t=>{r()}),i.onmessage=(t=>{this.logger.log(a.LogLevel.Trace,`(WebSockets transport) data received: ${t.data}`),this.onreceive&&this.onreceive(t.data)}),i.onclose=(t=>{this.onclose&&this.webSocket&&(!1===t.wasClean||1e3!==t.code?this.onclose(new Error(`Websocket closed with status code: ${t.code} (${t.reason})`)):this.onclose())})})}send(t){return this.webSocket&&this.webSocket.readyState===WebSocket.OPEN?(this.webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){this.webSocket&&(this.webSocket.close(),this.webSocket=null)}},e.ServerSentEventsTransport=class{constructor(t,e){this.httpClient=t,this.logger=e}connect(t,e){return"undefined"==typeof EventSource&&Promise.reject("EventSource not supported by the browser."),this.url=t,new Promise((t,e)=>{let n=new EventSource(this.url);try{n.onmessage=(t=>{if(this.onreceive)try{this.logger.log(a.LogLevel.Trace,`(SSE transport) data received: ${t.data}`),this.onreceive(t.data)}catch(t){return void(this.onclose&&this.onclose(t))}}),n.onerror=(t=>{e(),this.eventSource&&this.onclose&&this.onclose(new Error(t.message||"Error occurred"))}),n.onopen=(()=>{this.logger.log(a.LogLevel.Information,`SSE connected to ${this.url}`),this.eventSource=n,t(1)})}catch(t){return Promise.reject(t)}})}send(t){return i(this,void 0,void 0,function*(){return r(this.httpClient,this.url,t)})}stop(){this.eventSource&&(this.eventSource.close(),this.eventSource=null)}},e.LongPollingTransport=class{constructor(t,e){this.httpClient=t,this.logger=e}connect(t,e){if(this.url=t,this.shouldPoll=!0,2===e&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return this.poll(this.url,e),Promise.resolve(e)}poll(t,e){if(!this.shouldPoll)return;let n=new XMLHttpRequest;n.onload=(()=>{if(200==n.status){if(this.onreceive)try{let t=1===e?n.responseText:n.response;t?(this.logger.log(a.LogLevel.Trace,`(LongPolling transport) data received: ${t}`),this.onreceive(t)):this.logger.log(a.LogLevel.Information,"(LongPolling transport) timed out")}catch(t){return void(this.onclose&&this.onclose(t))}this.poll(t,e)}else 204==this.pollXhr.status?this.onclose&&this.onclose():this.onclose&&this.onclose(new o.HttpError(n.statusText,n.status))}),n.onerror=(()=>{this.onclose&&this.onclose(new Error("Sending HTTP request failed."))}),n.ontimeout=(()=>{this.poll(t,e)}),this.pollXhr=n,this.pollXhr.open("GET",`${t}&_=${Date.now()}`,!0),2===e&&(this.pollXhr.responseType="arraybuffer"),this.pollXhr.timeout=12e4,this.pollXhr.send()}send(t){return i(this,void 0,void 0,function*(){return r(this.httpClient,this.url,t)})}stop(){this.shouldPoll=!1,this.pollXhr&&(this.pollXhr.abort(),this.pollXhr=null)}};const s=new Map},"N+n4":function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&e._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),s(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"\x1b["+i.colors[n][0]+"m"+t+"\x1b["+i.colors[n][1]+"m":t}function a(t,e){return t}function s(t,n,r){if(t.customInspect&&n&&b(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return d(i)||(i=s(t,i,r)),i}var o=function(t,e){if(m(e))return t.stylize("undefined","undefined");if(d(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return p(e)?t.stylize(""+e,"number"):h(e)?t.stylize(""+e,"boolean"):f(e)?t.stylize("null","null"):void 0}(t,n);if(o)return o;var a=Object.keys(n),y=function(t){var e={};return a.forEach(function(t,n){e[t]=!0}),e}();if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),_(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return u(n);if(0===a.length){if(b(n))return t.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(g(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(v(n))return t.stylize(Date.prototype.toString.call(n),"date");if(_(n))return u(n)}var w="",x=!1,S=["{","}"];if(c(n)&&(x=!0,S=["[","]"]),b(n)&&(w=" [Function"+(n.name?": "+n.name:"")+"]"),g(n)&&(w=" "+RegExp.prototype.toString.call(n)),v(n)&&(w=" "+Date.prototype.toUTCString.call(n)),_(n)&&(w=" "+u(n)),0===a.length&&(!x||0==n.length))return S[0]+w+S[1];if(r<0)return g(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var E;return E=x?function(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)o.push(T(e,String(a))?l(t,e,n,r,String(a),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(l(t,e,n,r,i,!0))}),o}(t,n,r,y,a):a.map(function(e){return l(t,n,r,y,e,x)}),t.seen.pop(),function(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(E,w,S)}function u(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,n,r,i,o){var a,u,l;if((l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?u=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(u=t.stylize("[Setter]","special")),T(r,i)||(a="["+i+"]"),u||(t.seen.indexOf(l.value)<0?(u=f(n)?s(t,l.value,null):s(t,l.value,n-1)).indexOf("\n")>-1&&(u=o?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n")):u=t.stylize("[Circular]","special")),m(a)){if(o&&i.match(/^\d+$/))return u;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+u}function c(t){return Array.isArray(t)}function h(t){return"boolean"==typeof t}function f(t){return null===t}function p(t){return"number"==typeof t}function d(t){return"string"==typeof t}function m(t){return void 0===t}function g(t){return y(t)&&"[object RegExp]"===w(t)}function y(t){return"object"==typeof t&&null!==t}function v(t){return y(t)&&"[object Date]"===w(t)}function _(t){return y(t)&&("[object Error]"===w(t)||t instanceof Error)}function b(t){return"function"==typeof t}function w(t){return Object.prototype.toString.call(t)}function x(t){return t<10?"0"+t.toString(10):t.toString(10)}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var S=/%[sdj%]/g;e.format=function(t){if(!d(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(S,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])f(s)||!y(s)?a+=" "+s:a+=" "+i(s);return a},e.deprecate=function(n,i){if(m(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var E,M={};e.debuglog=function(t){if(m(E)&&(E=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!M[t])if(new RegExp("\\b"+t+"\\b","i").test(E)){var n=r.pid;M[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else M[t]=function(){};return M[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=c,e.isBoolean=h,e.isNull=f,e.isNullOrUndefined=function(t){return null==t},e.isNumber=p,e.isString=d,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=m,e.isRegExp=g,e.isObject=y,e.isDate=v,e.isError=_,e.isFunction=b,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t},e.isBuffer=n("PIb/");var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",function(){var t=new Date,e=[x(t.getHours()),x(t.getMinutes()),x(t.getSeconds())].join(":");return[t.getDate(),A[t.getMonth()],e].join(" ")}(),e.format.apply(e,arguments))},e.inherits=n("RC4L"),e._extend=function(t,e){if(!e||!y(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,n("fRUx"),n("1WNV"))},NGRF:function(t,e,n){"use strict";e.a=function(t){return null!=t&&"object"==typeof t}},NePw:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={e:{}}},OgJz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("XjJb");e.JsonHubProtocol=class{constructor(){this.name="json",this.type=1}parseMessages(t){if(!t)return[];let e=r.TextMessageFormat.parse(t),n=[];for(var i=0;i<e.length;++i)n.push(JSON.parse(e[i]));return n}writeMessage(t){return r.TextMessageFormat.write(JSON.stringify(t))}}},Oryw:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("6Xbx"),i=n("AP4T"),o=n("8Ut3"),a=n("Ecq+"),s=n("3iOE"),u=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return Object(r.b)(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];Object(s.a)(r)?t.pop():r=null;var i=t.length;return i>1?new e(t,r):1===i?new o.a(t[0],r):new a.a(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.subscriber;n>=t.count?r.complete():(r.next(e[n]),r.closed||(t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:n,index:0,count:r,subscriber:t});for(var o=0;o<r&&!t.closed;o++)t.next(n[o]);t.complete()},e}(i.a)},Osec:function(t,e,n){(e=t.exports=n("INGy")).Stream=e,e.Readable=e,e.Writable=n("6QZ3"),e.Duplex=n("dJzE"),e.Transform=n("C7jF"),e.PassThrough=n("5E84")},"PIb/":function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},PRno:function(t,e,n){(function(n){var r,i,o="undefined"!=typeof t&&t.exports&&"undefined"!=typeof n?n:this||window;(o._gsQueue||(o._gsQueue=[])).push(function(){"use strict";o._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,n){var r=function(t){var e,n=[],r=t.length;for(e=0;e!==r;n.push(t[e++]));return n},i=function(t,e,n){var r,i,o=t.cycle;for(r in o)t[r]="function"==typeof(i=o[r])?i(n,e[n]):i[n%i.length];delete t.cycle},o=function(t,e,r){n.call(this,t,e,r),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=o.prototype.render},a=n._internals,s=a.isSelector,u=a.isArray,l=o.prototype=n.to({},.1,{}),c=[];o.version="1.20.3",l.constructor=o,l.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=n.killTweensOf,o.getTweensOf=n.getTweensOf,o.lagSmoothing=n.lagSmoothing,o.ticker=n.ticker,o.render=n.render,l.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),n.prototype.invalidate.call(this)},l.updateTo=function(t,e){var r,i=this.ratio,o=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(r in t)this.vars[r]=t[r];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||o)for(var s,u=1/(1-i),l=this._firstPT;l;)s=l.s+l.c,l.c*=u,l.s=s-l.c,l=l._next;return this},l.render=function(t,e,r){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var i,o,s,u,l,c,h,f,p,d=this._dirty?this.totalDuration():this._totalDuration,m=this._time,g=this._totalTime,y=this._cycle,v=this._duration,_=this._rawPrevTime;if(t>=d-1e-7&&t>=0?(this._totalTime=d,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(i=!0,o="onComplete",r=r||this._timeline.autoRemoveChildren),0===v&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(t=0),(_<0||t<=0&&t>=-1e-7||1e-10===_&&"isPause"!==this.data)&&_!==t&&(r=!0,_>1e-10&&(o="onReverseComplete")),this._rawPrevTime=f=!e||t||_===t?t:1e-10)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==g||0===v&&_>0)&&(o="onReverseComplete",i=this._reversed),t<0&&(this._active=!1,0===v&&(this._initted||!this.vars.lazy||r)&&(_>=0&&(r=!0),this._rawPrevTime=f=!e||t||_===t?t:1e-10)),this._initted||(r=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(this._cycle=this._totalTime/(u=v+this._repeatDelay)>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&g<=t&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!=(1&this._cycle)&&(this._time=v-this._time,(p=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(this._yoyoEase=p=!0!==p||this._initted?!0===p?this._ease:p instanceof Ease?p:Ease.map[p]:(p=this.vars.ease)?p instanceof Ease?p:"function"==typeof p?new Ease(p,this.vars.easeParams):Ease.map[p]||n.defaultEase:n.defaultEase),this.ratio=p?1-p.getRatio((v-this._time)/v):0)),this._time>v?this._time=v:this._time<0&&(this._time=0)),this._easeType&&!p?(l=this._time/v,h=this._easePower,(1===(c=this._easeType)||3===c&&l>=.5)&&(l=1-l),3===c&&(l*=2),1===h?l*=l:2===h?l*=l*l:3===h?l*=l*l*l:4===h&&(l*=l*l*l*l),this.ratio=1===c?1-l:2===c?l:this._time/v<.5?l/2:1-l/2):p||(this.ratio=this._ease.getRatio(this._time/v))),m!==this._time||r||y!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=m,this._totalTime=g,this._rawPrevTime=_,this._cycle=y,a.lazyTweens.push(this),void(this._lazy=[t,e]);!this._time||i||p?i&&this._ease._calcEnd&&!p&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/v)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==m&&t>=0&&(this._active=!0),0===g&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,!0,r):o||(o="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==v||e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,!0,r),e||(this._totalTime!==g||o)&&this._callback("onUpdate")),this._cycle!==y&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),o&&(this._gc&&!r||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,!0,r),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o),0===v&&1e-10===this._rawPrevTime&&1e-10!==f&&(this._rawPrevTime=0)))}else g!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},o.to=function(t,e,n){return new o(t,e,n)},o.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new o(t,e,n)},o.fromTo=function(t,e,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new o(t,e,r)},o.staggerTo=o.allTo=function(t,e,a,l,h,f,p){l=l||0;var d,m,g,y,v=0,_=[],b=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),h.apply(p||a.callbackScope||this,f||c)},w=a.cycle,x=a.startAt&&a.startAt.cycle;for(u(t)||("string"==typeof t&&(t=n.selector(t)||t),s(t)&&(t=r(t))),t=t||[],l<0&&((t=r(t)).reverse(),l*=-1),d=t.length-1,g=0;g<=d;g++){m={};for(y in a)m[y]=a[y];if(w&&(i(m,t,g),null!=m.duration&&(e=m.duration,delete m.duration)),x){x=m.startAt={};for(y in a.startAt)x[y]=a.startAt[y];i(m.startAt,t,g)}m.delay=v+(m.delay||0),g===d&&h&&(m.onComplete=b),_[g]=new o(t[g],e,m),v+=l}return _},o.staggerFrom=o.allFrom=function(t,e,n,r,i,a,s){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,o.staggerTo(t,e,n,r,i,a,s)},o.staggerFromTo=o.allFromTo=function(t,e,n,r,i,a,s,u){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,o.staggerTo(t,e,r,i,a,s,u)},o.delayedCall=function(t,e,n,r,i){return new o(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:r,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,useFrames:i,overwrite:0})},o.set=function(t,e){return new o(t,0,e)},o.isTweening=function(t){return n.getTweensOf(t,!0).length>0};var h=function(t,e){for(var r=[],i=0,o=t._first;o;)o instanceof n?r[i++]=o:(e&&(r[i++]=o),i=(r=r.concat(h(o,e))).length),o=o._next;return r},f=o.getAllTweens=function(e){return h(t._rootTimeline,e).concat(h(t._rootFramesTimeline,e))};o.killAll=function(t,n,r,i){null==n&&(n=!0),null==r&&(r=!0);var o,a,s,u=f(0!=i),l=u.length,c=n&&r&&i;for(s=0;s<l;s++)a=u[s],(c||a instanceof e||(o=a.target===a.vars.onComplete)&&r||n&&!o)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},o.killChildTweensOf=function(t,e){if(null!=t){var i,l,c,h,f,p=a.tweenLookup;if("string"==typeof t&&(t=n.selector(t)||t),s(t)&&(t=r(t)),u(t))for(h=t.length;--h>-1;)o.killChildTweensOf(t[h],e);else{i=[];for(c in p)for(l=p[c].target.parentNode;l;)l===t&&(i=i.concat(p[c].tweens)),l=l.parentNode;for(f=i.length,h=0;h<f;h++)e&&i[h].totalTime(i[h].totalDuration()),i[h]._enabled(!1,!1)}}};var p=function(t,n,r,i){n=!1!==n,r=!1!==r;for(var o,a,s=f(i=!1!==i),u=n&&r&&i,l=s.length;--l>-1;)a=s[l],(u||a instanceof e||(o=a.target===a.vars.onComplete)&&r||n&&!o)&&a.paused(t)};return o.pauseAll=function(t,e,n){p(!0,t,e,n)},o.resumeAll=function(t,e,n){p(!1,t,e,n)},o.globalTimeScale=function(e){var r=t._rootTimeline,i=n.ticker.time;return arguments.length?(e=e||1e-10,r._startTime=i-(i-r._startTime)*r._timeScale/e,r=t._rootFramesTimeline,i=n.ticker.frame,r._startTime=i-(i-r._startTime)*r._timeScale/e,r._timeScale=t._rootTimeline._timeScale=e,e):r._timeScale},l.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},l.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},l.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o},!0),o._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,n){var r=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var n,r,i=this.vars;for(r in i)u(n=i[r])&&-1!==n.join("").indexOf("{self}")&&(i[r]=this._swapSelfInParams(n));u(i.tweens)&&this.add(i.tweens,0,i.align,i.stagger)},i=n._internals,a=r._internals={},s=i.isSelector,u=i.isArray,l=i.lazyTweens,c=i.lazyRender,h=o._gsDefine.globals,f=function(t){var e,n={};for(e in t)n[e]=t[e];return n},p=function(t,e,n){var r,i,o=t.cycle;for(r in o)t[r]="function"==typeof(i=o[r])?i(n,e[n]):i[n%i.length];delete t.cycle},d=a.pauseCallback=function(){},m=function(t){var e,n=[],r=t.length;for(e=0;e!==r;n.push(t[e++]));return n},g=r.prototype=new e;return r.version="1.20.3",g.constructor=r,g.kill()._gc=g._forcingPlayhead=g._hasPause=!1,g.to=function(t,e,r,i){return e?this.add(new(r.repeat&&h.TweenMax||n)(t,e,r),i):this.set(t,r,i)},g.from=function(t,e,r,i){return this.add((r.repeat&&h.TweenMax||n).from(t,e,r),i)},g.fromTo=function(t,e,r,i,o){return e?this.add((i.repeat&&h.TweenMax||n).fromTo(t,e,r,i),o):this.set(t,i,o)},g.staggerTo=function(t,e,i,o,a,u,l,c){var h,d,g=new r({onComplete:u,onCompleteParams:l,callbackScope:c,smoothChildTiming:this.smoothChildTiming}),y=i.cycle;for("string"==typeof t&&(t=n.selector(t)||t),s(t=t||[])&&(t=m(t)),(o=o||0)<0&&((t=m(t)).reverse(),o*=-1),d=0;d<t.length;d++)(h=f(i)).startAt&&(h.startAt=f(h.startAt),h.startAt.cycle&&p(h.startAt,t,d)),y&&(p(h,t,d),null!=h.duration&&(e=h.duration,delete h.duration)),g.to(t[d],e,h,d*o);return this.add(g,a)},g.staggerFrom=function(t,e,n,r,i,o,a,s){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(t,e,n,r,i,o,a,s)},g.staggerFromTo=function(t,e,n,r,i,o,a,s,u){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,this.staggerTo(t,e,r,i,o,a,s,u)},g.call=function(t,e,r,i){return this.add(n.delayedCall(0,t,e,r),i)},g.set=function(t,e,r){return r=this._parseTimeOrLabel(r,0,!0),null==e.immediateRender&&(e.immediateRender=r===this._time&&!this._paused),this.add(new n(t,0,e),r)},r.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var i,o,a,s,u=new r(t),l=u._timeline;for(null==e&&(e=!0),l._remove(u,!0),u._startTime=0,u._rawPrevTime=u._time=u._totalTime=l._time,a=l._first;a;)s=a._next,e&&a instanceof n&&a.target===a.vars.onComplete||((o=a._startTime-a._delay)<0&&(i=1),u.add(a,o)),a=s;return l.add(u,0),i&&u.totalDuration(),u},g.add=function(i,o,a,s){var l,c,h,f,p,d;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,i)),!(i instanceof t)){if(i instanceof Array||i&&i.push&&u(i)){for(a=a||"normal",s=s||0,l=o,c=i.length,h=0;h<c;h++)u(f=i[h])&&(f=new r({tweens:f})),this.add(f,l),"string"!=typeof f&&"function"!=typeof f&&("sequence"===a?l=f._startTime+f.totalDuration()/f._timeScale:"start"===a&&(f._startTime-=f.delay())),l+=s;return this._uncache(!0)}if("string"==typeof i)return this.addLabel(i,o);if("function"!=typeof i)throw"Cannot add "+i+" into the timeline; it is not a tween, timeline, function, or string.";i=n.delayedCall(0,i)}if(e.prototype.add.call(this,i,o),i._time&&i.render((this.rawTime()-i._startTime)*i._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=(p=this).rawTime()>i._startTime;p._timeline;)d&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},g.remove=function(e){if(e instanceof t){this._remove(e,!1);var n=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:n._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&u(e)){for(var r=e.length;--r>-1;)this.remove(e[r]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},g._remove=function(t,n){return e.prototype._remove.call(this,t,n),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},g.insert=g.insertMultiple=function(t,e,n,r){return this.add(t,e||0,n,r)},g.appendMultiple=function(t,e,n,r){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),n,r)},g.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},g.addPause=function(t,e,r,i){var o=n.delayedCall(0,d,r,i||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},g.removeLabel=function(t){return delete this._labels[t],this},g.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},g._parseTimeOrLabel=function(e,n,r,i){var o,a;if(i instanceof t&&i.timeline===this)this.remove(i);else if(i&&(i instanceof Array||i.push&&u(i)))for(a=i.length;--a>-1;)i[a]instanceof t&&i[a].timeline===this&&this.remove(i[a]);if(o="number"!=typeof e||n?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof n)return this._parseTimeOrLabel(n,r&&"number"==typeof e&&null==this._labels[n]?e-o:0,r);if(n=n||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=o);else{if(-1===(a=e.indexOf("=")))return null==this._labels[e]?r?this._labels[e]=o+n:n:this._labels[e]+n;n=parseInt(e.charAt(a-1)+"1",10)*Number(e.substr(a+1)),e=a>1?this._parseTimeOrLabel(e.substr(0,a-1),0,r):o}return Number(e)+n},g.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(t,e){return this.play(t,e)},g.gotoAndStop=function(t,e){return this.pause(t,e)},g.render=function(t,e,n){this._gc&&this._enabled(!0,!1);var r,i,o,a,s,u,h,f=this._time,p=this._dirty?this.totalDuration():this._totalDuration,d=this._startTime,m=this._timeScale,g=this._paused;if(f!==this._time&&(t+=this._time-f),t>=p-1e-7&&t>=0)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(i=!0,a="onComplete",s=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||this._rawPrevTime<0||1e-10===this._rawPrevTime)&&this._rawPrevTime!==t&&this._first&&(s=!0,this._rawPrevTime>1e-10&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,t=p+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==f||0===this._duration&&1e-10!==this._rawPrevTime&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(a="onReverseComplete",i=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(s=i=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(s=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&i)for(r=this._first;r&&0===r._startTime;)r._duration||(i=!1),r=r._next;t=0,this._initted||(s=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=f)for(r=this._first;r&&r._startTime<=t&&!u;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(u=r),r=r._next;else for(r=this._last;r&&r._startTime>=t&&!u;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(u=r),r=r._prev;u&&(this._time=t=u._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==f&&this._first||n||s||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==f&&t>0&&(this._active=!0),0===f&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),(h=this._time)>=f)for(r=this._first;r&&(o=r._next,h===this._time&&(!this._paused||g));)(r._active||r._startTime<=h&&!r._paused&&!r._gc)&&(u===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n)),r=o;else for(r=this._last;r&&(o=r._prev,h===this._time&&(!this._paused||g));){if(r._active||r._startTime<=f&&!r._paused&&!r._gc){if(u===r){for(u=r._prev;u&&u.endTime()>this._time;)u.render(u._reversed?u.totalDuration()-(t-u._startTime)*u._timeScale:(t-u._startTime)*u._timeScale,e,n),u=u._prev;u=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n)}r=o}this._onUpdate&&(e||(l.length&&c(),this._callback("onUpdate"))),a&&(this._gc||d!==this._startTime&&m===this._timeScale||(0===this._time||p>=this.totalDuration())&&(i&&(l.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this._callback(a)))}},g._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof r&&t._hasPausedChild())return!0;t=t._next}return!1},g.getChildren=function(t,e,r,i){i=i||-9999999999;for(var o=[],a=this._first,s=0;a;)a._startTime<i||(a instanceof n?!1!==e&&(o[s++]=a):(!1!==r&&(o[s++]=a),!1!==t&&(s=(o=o.concat(a.getChildren(!0,e,r))).length))),a=a._next;return o},g.getTweensOf=function(t,e){var r,i,o=this._gc,a=[],s=0;for(o&&this._enabled(!0,!0),i=(r=n.getTweensOf(t)).length;--i>-1;)(r[i].timeline===this||e&&this._contains(r[i]))&&(a[s++]=r[i]);return o&&this._enabled(!1,!0),a},g.recent=function(){return this._recent},g._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},g.shiftChildren=function(t,e,n){n=n||0;for(var r,i=this._first,o=this._labels;i;)i._startTime>=n&&(i._startTime+=t),i=i._next;if(e)for(r in o)o[r]>=n&&(o[r]+=t);return this._uncache(!0)},g._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var n=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),r=n.length,i=!1;--r>-1;)n[r]._kill(t,e)&&(i=!0);return i},g.clear=function(t){var e=this.getChildren(!1,!0,!0),n=e.length;for(this._time=this._totalTime=0;--n>-1;)e[n]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},g._enabled=function(t,n){if(t===this._gc)for(var r=this._first;r;)r._enabled(t,!0),r=r._next;return e.prototype._enabled.call(this,t,n)},g.totalTime=function(e,n,r){this._forcingPlayhead=!0;var i=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,i},g.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,n,r=0,i=this._last,o=999999999999;i;)e=i._prev,i._dirty&&i.totalDuration(),i._startTime>o&&this._sortChildren&&!i._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(i,i._startTime-i._delay),this._calculatingDuration=0):o=i._startTime,i._startTime<0&&!i._paused&&(r-=i._startTime,this._timeline.smoothChildTiming&&(this._startTime+=i._startTime/this._timeScale,this._time-=i._startTime,this._totalTime-=i._startTime,this._rawPrevTime-=i._startTime),this.shiftChildren(-i._startTime,!1,-9999999999),o=0),(n=i._startTime+i._totalDuration/i._timeScale)>r&&(r=n),i=e;this._duration=this._totalDuration=r,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},g.paused=function(e){if(!e)for(var n=this._first,r=this._time;n;)n._startTime===r&&"isPause"===n.data&&(n._rawPrevTime=0),n=n._next;return t.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},g.rawTime=function(t){return t&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},r},!0),o._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,n){var r=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},i=e._internals,a=i.lazyTweens,s=i.lazyRender,u=o._gsDefine.globals,l=new n(null,null,1,0),c=r.prototype=new t;return c.constructor=r,c.kill()._gc=!1,r.version="1.20.3",c.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},c.addCallback=function(t,n,r,i){return this.add(e.delayedCall(0,t,r,i),n)},c.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var n=this.getTweensOf(t,!1),r=n.length,i=this._parseTimeOrLabel(e);--r>-1;)n[r]._startTime===i&&n[r]._enabled(!1,!1);return this},c.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},c.tweenTo=function(t,n){n=n||{};var r,i,o,a={ease:l,useFrames:this.usesFrames(),immediateRender:!1},s=n.repeat&&u.TweenMax||e;for(i in n)a[i]=n[i];return a.time=this._parseTimeOrLabel(t),r=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,o=new s(this,r,a),a.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&r===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),n.onStart&&n.onStart.apply(n.onStartScope||n.callbackScope||o,n.onStartParams||[])},o},c.tweenFromTo=function(t,e,n){n=n||{},t=this._parseTimeOrLabel(t),n.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},n.immediateRender=!1!==n.immediateRender;var r=this.tweenTo(e,n);return r.duration(Math.abs(r.vars.time-t)/this._timeScale||.001)},c.render=function(t,e,n){this._gc&&this._enabled(!0,!1);var r,i,o,u,l,c,h,f,p=this._time,d=this._dirty?this.totalDuration():this._totalDuration,m=this._duration,g=this._totalTime,y=this._startTime,v=this._timeScale,_=this._rawPrevTime,b=this._paused,w=this._cycle;if(p!==this._time&&(t+=this._time-p),t>=d-1e-7&&t>=0)this._locked||(this._totalTime=d,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(i=!0,u="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||_<0||1e-10===_)&&_!==t&&this._first&&(l=!0,_>1e-10&&(u="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,this._yoyo&&0!=(1&this._cycle)?this._time=t=0:(this._time=m,t=m+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==p||0===m&&1e-10!==_&&(_>0||t<0&&_>=0)&&!this._locked)&&(u="onReverseComplete",i=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=i=!0,u="onReverseComplete"):_>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=m||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&i)for(r=this._first;r&&0===r._startTime;)r._duration||(i=!1),r=r._next;t=0,this._initted||(l=!0)}else if(0===m&&_<0&&(l=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(this._cycle=this._totalTime/(c=m+this._repeatDelay)>>0,0!==this._cycle&&this._cycle===this._totalTime/c&&g<=t&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&0!=(1&this._cycle)&&(this._time=m-this._time),this._time>m?(this._time=m,t=m+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if((t=this._time)>=p||this._repeat&&w!==this._cycle)for(r=this._first;r&&r._startTime<=t&&!h;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(h=r),r=r._next;else for(r=this._last;r&&r._startTime>=t&&!h;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(h=r),r=r._prev;h&&h._startTime<m&&(this._time=t=h._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var x=this._yoyo&&0!=(1&w),T=x===(this._yoyo&&0!=(1&this._cycle)),S=this._totalTime,E=this._cycle,M=this._rawPrevTime,A=this._time;if(this._totalTime=w*m,this._cycle<w?x=!x:this._totalTime+=m,this._time=p,this._rawPrevTime=0===m?_-1e-4:_,this._cycle=w,this._locked=!0,p=x?0:m,this.render(p,e,0===m),e||this._gc||this.vars.onRepeat&&(this._cycle=E,this._locked=!1,this._callback("onRepeat")),p!==this._time)return;if(T&&(this._cycle=w,this._locked=!0,this.render(p=x?m+1e-4:-1e-4,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=A,this._totalTime=S,this._cycle=E,this._rawPrevTime=M}if(this._time!==p&&this._first||n||l||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==g&&t>0&&(this._active=!0),0===g&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),(f=this._time)>=p)for(r=this._first;r&&(o=r._next,f===this._time&&(!this._paused||b));)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(h===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n)),r=o;else for(r=this._last;r&&(o=r._prev,f===this._time&&(!this._paused||b));){if(r._active||r._startTime<=p&&!r._paused&&!r._gc){if(h===r){for(h=r._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,n),h=h._prev;h=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n)}r=o}this._onUpdate&&(e||(a.length&&s(),this._callback("onUpdate"))),u&&(this._locked||this._gc||y!==this._startTime&&v===this._timeScale||(0===this._time||d>=this.totalDuration())&&(i&&(a.length&&s(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[u]&&this._callback(u)))}else g!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},c.getActive=function(t,e,n){null==t&&(t=!0),null==e&&(e=!0),null==n&&(n=!1);var r,i,o=[],a=this.getChildren(t,e,n),s=0,u=a.length;for(r=0;r<u;r++)(i=a[r]).isActive()&&(o[s++]=i);return o},c.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,n=this.getLabelsArray(),r=n.length;for(e=0;e<r;e++)if(n[e].time>t)return n[e].name;return null},c.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),n=e.length;--n>-1;)if(e[n].time<t)return e[n].name;return null},c.getLabelsArray=function(){var t,e=[],n=0;for(t in this._labels)e[n++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},c.invalidate=function(){return this._locked=!1,t.prototype.invalidate.call(this)},c.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},c.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},c.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},c.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},c.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},c.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},c.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},r},!0),function(){var t=180/Math.PI,e=[],n=[],r=[],i={},a=o._gsDefine.globals,s=function(t,e,n,r){n===r&&(n=r-(r-e)/1e6),t===e&&(e=t+(n-t)/1e6),this.a=t,this.b=e,this.c=n,this.d=r,this.da=r-t,this.ca=n-t,this.ba=e-t},u=function(t,e,n,r){var i={a:t},o={},a={},s={c:r},u=(t+e)/2,l=(e+n)/2,c=(n+r)/2,h=(u+l)/2,f=(l+c)/2,p=(f-h)/8;return i.b=u+(t-u)/4,o.b=h+p,i.c=o.a=(i.b+o.b)/2,o.c=a.a=(h+f)/2,a.b=f-p,s.b=c+(r-c)/4,a.c=s.a=(a.b+s.b)/2,[i,o,a,s]},l=function(t,i,o,a,s){var l,c,h,f,p,d,m,g,y,v,_,b,w,x=t.length-1,T=0,S=t[0].a;for(l=0;l<x;l++)c=(p=t[T]).a,h=p.d,f=t[T+1].d,s?(w=((b=n[l])+(_=e[l]))*i*.25/(a?.5:r[l]||.5),g=h-((d=h-(h-c)*(a?.5*i:0!==_?w/_:0))+(((m=h+(f-h)*(a?.5*i:0!==b?w/b:0))-d)*(3*_/(_+b)+.5)/4||0))):g=h-((d=h-(h-c)*i*.5)+(m=h+(f-h)*i*.5))/2,m+=g,p.c=y=d+=g,p.b=0!==l?S:S=p.a+.6*(p.c-p.a),p.da=h-c,p.ca=y-c,p.ba=S-c,o?(v=u(c,S,y,h),t.splice(T,1,v[0],v[1],v[2],v[3]),T+=4):T++,S=m;(p=t[T]).b=S,p.c=S+.4*(p.d-S),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=S-p.a,o&&(v=u(p.a,S,p.c,p.d),t.splice(T,1,v[0],v[1],v[2],v[3]))},c=function(t,r,i,o){var a,u,l,c,h,f,p=[];if(o)for(u=(t=[o].concat(t)).length;--u>-1;)"string"==typeof(f=t[u][r])&&"="===f.charAt(1)&&(t[u][r]=o[r]+Number(f.charAt(0)+f.substr(2)));if((a=t.length-2)<0)return p[0]=new s(t[0][r],0,0,t[0][r]),p;for(u=0;u<a;u++)p[u]=new s(l=t[u][r],0,0,c=t[u+1][r]),i&&(h=t[u+2][r],e[u]=(e[u]||0)+(c-l)*(c-l),n[u]=(n[u]||0)+(h-c)*(h-c));return p[u]=new s(t[u][r],0,0,t[u+1][r]),p},h=function(t,o,a,s,u,h){var f,p,d,m,g,y,v,_,b={},w=[],x=h||t[0];u="string"==typeof u?","+u+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==o&&(o=1);for(p in t[0])w.push(p);if(t.length>1){for(_=t[t.length-1],v=!0,f=w.length;--f>-1;)if(p=w[f],Math.abs(x[p]-_[p])>.05){v=!1;break}v&&(t=t.concat(),h&&t.unshift(h),t.push(t[1]),h=t[t.length-3])}for(e.length=n.length=r.length=0,f=w.length;--f>-1;)i[p=w[f]]=-1!==u.indexOf(","+p+","),b[p]=c(t,p,i[p],h);for(f=e.length;--f>-1;)e[f]=Math.sqrt(e[f]),n[f]=Math.sqrt(n[f]);if(!s){for(f=w.length;--f>-1;)if(i[p])for(y=(d=b[w[f]]).length-1,m=0;m<y;m++)g=d[m+1].da/n[m]+d[m].da/e[m]||0,r[m]=(r[m]||0)+g*g;for(f=r.length;--f>-1;)r[f]=Math.sqrt(r[f])}for(f=w.length,m=a?4:1;--f>-1;)l(d=b[p=w[f]],o,a,s,i[p]),v&&(d.splice(0,m),d.splice(d.length-m,m));return b},f=function(t,e,n){for(var r,i,o,a,s,u,l,c,h,f,p,d=1/n,m=t.length;--m>-1;)for(a=(f=t[m]).d-(o=f.a),s=f.c-o,u=f.b-o,r=i=0,c=1;c<=n;c++)r=i-(i=((l=d*c)*l*a+3*(h=1-l)*(l*s+h*u))*l),e[p=m*n+c-1]=(e[p]||0)+r*r},p=o._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(t,e,n){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var r,i,o,a,u,l=e.values||[],c={},p=l[0],d=e.autoRotate||n.vars.orientToBezier;this._autoRotate=d?d instanceof Array?d:[["x","y","rotation",!0===d?0:Number(d)||0]]:null;for(r in p)this._props.push(r);for(o=this._props.length;--o>-1;)this._overwriteProps.push(r=this._props[o]),i=this._func[r]="function"==typeof t[r],c[r]=i?t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(t[r]),u||c[r]!==l[0][r]&&(u=c);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?h(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,u):function(t,e,n){var r,i,o,a,u,l,c,h,f,p,d,m={},g="cubic"===(e=e||"soft")?3:2,y="soft"===e,v=[];if(y&&n&&(t=[n].concat(t)),null==t||t.length<g+1)throw"invalid Bezier data";for(f in t[0])v.push(f);for(l=v.length;--l>-1;){for(m[f=v[l]]=u=[],p=0,h=t.length,c=0;c<h;c++)r=null==n?t[c][f]:"string"==typeof(d=t[c][f])&&"="===d.charAt(1)?n[f]+Number(d.charAt(0)+d.substr(2)):Number(d),y&&c>1&&c<h-1&&(u[p++]=(r+u[p-2])/2),u[p++]=r;for(h=p-g+1,p=0,c=0;c<h;c+=g)r=u[c],i=u[c+1],o=u[c+2],a=2===g?0:u[c+3],u[p++]=d=3===g?new s(r,i,o,a):new s(r,(2*i+r)/3,(2*i+o)/3,o);u.length=p}return m}(l,e.type,c),this._segCount=this._beziers[r].length,this._timeRes){var m=function(t,e){var n,r,i,o,a=[],s=[],u=0,l=0,c=(e=e>>0||6)-1,h=[],p=[];for(n in t)f(t[n],a,e);for(i=a.length,r=0;r<i;r++)u+=Math.sqrt(a[r]),p[o=r%e]=u,o===c&&(l+=u,h[o=r/e>>0]=p,s[o]=l,u=0,p=[]);return{length:l,lengths:s,segments:h}}(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(d=this._autoRotate)for(this._initialRotations=[],d[0]instanceof Array||(this._autoRotate=d=[d]),o=d.length;--o>-1;){for(a=0;a<3;a++)this._func[r=d[o][a]]="function"==typeof t[r]&&t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)];this._initialRotations[o]=(this._func[r=d[o][2]]?this._func[r].call(this._target):this._target[r])||0,this._overwriteProps.push(r)}return this._startRatio=n.vars.runBackwards?1:0,!0},set:function(e){var n,r,i,o,a,s,u,l,c,h,f=this._segCount,p=this._func,d=this._target,m=e!==this._startRatio;if(this._timeRes){if(c=this._lengths,h=this._curSeg,e*=this._length,i=this._li,e>this._l2&&i<f-1){for(l=f-1;i<l&&(this._l2=c[++i])<=e;);this._l1=c[i-1],this._li=i,this._curSeg=h=this._segments[i],this._s2=h[this._s1=this._si=0]}else if(e<this._l1&&i>0){for(;i>0&&(this._l1=c[--i])>=e;);0===i&&e<this._l1?this._l1=0:i++,this._l2=c[i],this._li=i,this._curSeg=h=this._segments[i],this._s1=h[(this._si=h.length-1)-1]||0,this._s2=h[this._si]}if(n=i,e-=this._l1,i=this._si,e>this._s2&&i<h.length-1){for(l=h.length-1;i<l&&(this._s2=h[++i])<=e;);this._s1=h[i-1],this._si=i}else if(e<this._s1&&i>0){for(;i>0&&(this._s1=h[--i])>=e;);0===i&&e<this._s1?this._s1=0:i++,this._s2=h[i],this._si=i}s=(i+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else s=(e-(n=e<0?0:e>=1?f-1:f*e>>0)*(1/f))*f;for(r=1-s,i=this._props.length;--i>-1;)u=(s*s*(a=this._beziers[o=this._props[i]][n]).da+3*r*(s*a.ca+r*a.ba))*s+a.a,this._mod[o]&&(u=this._mod[o](u,d)),p[o]?d[o](u):d[o]=u;if(this._autoRotate){var g,y,v,_,b,w,x,T=this._autoRotate;for(i=T.length;--i>-1;)o=T[i][2],w=T[i][3]||0,x=!0===T[i][4]?1:t,g=this._beziers[T[i][1]],(a=this._beziers[T[i][0]])&&g&&(y=(a=a[n]).a+(a.b-a.a)*s,y+=((_=a.b+(a.c-a.b)*s)-y)*s,_+=(a.c+(a.d-a.c)*s-_)*s,v=(g=g[n]).a+(g.b-g.a)*s,v+=((b=g.b+(g.c-g.b)*s)-v)*s,b+=(g.c+(g.d-g.c)*s-b)*s,u=m?Math.atan2(b-v,_-y)*x+w:this._initialRotations[i],this._mod[o]&&(u=this._mod[o](u,d)),p[o]?d[o](u):d[o]=u)}}}),d=p.prototype;p.bezierThrough=h,p.cubicToQuadratic=u,p._autoCSS=!0,p.quadraticToCubic=function(t,e,n){return new s(t,(2*e+t)/3,(2*e+n)/3,n)},p._cssRegister=function(){var t=a.CSSPlugin;if(t){var e=t._internals,n=e._parseToProxy,r=e._setPluginRatio,i=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,o,a,s,u){e instanceof Array&&(e={values:e}),u=new p;var l,c,h,f=e.values,d=f.length-1,m=[],g={};if(d<0)return s;for(l=0;l<=d;l++)h=n(t,f[l],a,s,u,d!==l),m[l]=h.end;for(c in e)g[c]=e[c];return g.values=m,s=new i(t,"bezier",0,0,h.pt,2),s.data=h,s.plugin=u,s.setRatio=r,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(l=!0===g.autoRotate?0:Number(g.autoRotate),g.autoRotate=null!=h.end.left?[["left","top","rotation",l,!1]]:null!=h.end.x&&[["x","y","rotation",l,!1]]),g.autoRotate&&(a._transform||a._enableTransforms(!1),h.autoRotate=a._target._gsTransform,h.proxy.rotation=h.autoRotate.rotation||0,a._overwriteProps.push("rotation")),u._onInitTween(h.proxy,g,a._tween),s}})}},d._mod=function(t){for(var e,n=this._overwriteProps,r=n.length;--r>-1;)(e=t[n[r]])&&"function"==typeof e&&(this._mod[n[r]]=e)},d._kill=function(t){var e,n,r=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],n=r.length;--n>-1;)r[n]===e&&r.splice(n,1);if(r=this._autoRotate)for(n=r.length;--n>-1;)t[r[n][2]]&&r.splice(n,1);return this._super._kill.call(this,t)}}(),o._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var n,r,i,a,s=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=s.prototype.setRatio},u=o._gsDefine.globals,l={},c=s.prototype=new t("css");c.constructor=s,s.version="1.20.3",s.API=2,s.defaultTransformPerspective=0,s.defaultSkewType="compensated",s.defaultSmoothOrigin=!0,s.suffixMap={top:c="px",right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var h,f,p,d,m,g,y,v,_=/(?:\-|\.|\b)(\d|\.|e\-)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,w=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,x=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,T=/(?:\d|\-|\+|=|#|\.)*/g,S=/opacity *= *([^)]*)/i,E=/opacity:([^;]*)/i,M=/alpha\(opacity *=.+?\)/i,A=/^(rgb|hsl)/,C=/([A-Z])/g,P=/-([a-z])/gi,R=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,O=function(t,e){return e.toUpperCase()},L=/(?:Left|Right|Width)/i,k=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,N=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,I=/,(?=[^\)]*(?:\(|$))/gi,D=/[\s,\(]/i,U=Math.PI/180,F=180/Math.PI,j={},B={style:{}},z=o.document||{createElement:function(){return B}},V=function(t,e){return z.createElementNS?z.createElementNS(e||"http://www.w3.org/1999/xhtml",t):z.createElement(t)},G=V("div"),H=V("img"),W=s._internals={_specialProps:l},X=(o.navigator||{}).userAgent||"",q=function(){var t=X.indexOf("Android"),e=V("a");return p=-1!==X.indexOf("Safari")&&-1===X.indexOf("Chrome")&&(-1===t||parseFloat(X.substr(t+8,2))>3),m=p&&parseFloat(X.substr(X.indexOf("Version/")+8,2))<6,d=-1!==X.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(X)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(X))&&(g=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),Y=function(t){return S.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Z=function(t){o.console&&console.log(t)},K="",Q="",J=function(t,e){var n,r,i=(e=e||G).style;if(void 0!==i[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),n=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===i[n[r]+t];);return r>=0?(Q=3===r?"ms":n[r],K="-"+Q.toLowerCase()+"-",Q+t):null},$=z.defaultView?z.defaultView.getComputedStyle:function(){},tt=s.getStyle=function(t,e,n,r,i){var o;return q||"opacity"!==e?(!r&&t.style[e]?o=t.style[e]:(n=n||$(t))?o=n[e]||n.getPropertyValue(e)||n.getPropertyValue(e.replace(C,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==i||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:i):Y(t)},et=W.convertToPixels=function(t,n,r,i,o){if("px"===i||!i&&"lineHeight"!==n)return r;if("auto"===i||!r)return 0;var a,u,l,c=L.test(n),h=t,f=G.style,p=r<0,d=1===r;if(p&&(r=-r),d&&(r*=100),"lineHeight"!==n||i)if("%"===i&&-1!==n.indexOf("border"))a=r/100*(c?t.clientWidth:t.clientHeight);else{if(f.cssText="border:0 solid red;position:"+tt(t,"position")+";line-height:0;","%"!==i&&h.appendChild&&"v"!==i.charAt(0)&&"rem"!==i)f[c?"borderLeftWidth":"borderTopWidth"]=r+i;else{if(h=t.parentNode||z.body,-1!==tt(h,"display").indexOf("flex")&&(f.position="absolute"),u=h._gsCache,l=e.ticker.frame,u&&c&&u.time===l)return u.width*r/100;f[c?"width":"height"]=r+i}h.appendChild(G),a=parseFloat(G[c?"offsetWidth":"offsetHeight"]),h.removeChild(G),c&&"%"===i&&!1!==s.cacheWidths&&((u=h._gsCache=h._gsCache||{}).time=l,u.width=a/r*100),0!==a||o||(a=et(t,n,r,i,!0))}else u=$(t).lineHeight,t.style.lineHeight=r,a=parseFloat($(t).lineHeight),t.style.lineHeight=u;return d&&(a/=100),p?-a:a},nt=W.calculateOffset=function(t,e,n){if("absolute"!==tt(t,"position",n))return 0;var r="left"===e?"Left":"Top",i=tt(t,"margin"+r,n);return t["offset"+r]-(et(t,e,parseFloat(i),i.replace(T,""))||0)},rt=function(t,e){var n,r,i,o={};if(e=e||$(t,null))if(n=e.length)for(;--n>-1;)-1!==(i=e[n]).indexOf("-transform")&&Rt!==i||(o[i.replace(P,O)]=e.getPropertyValue(i));else for(n in e)-1!==n.indexOf("Transform")&&Pt!==n||(o[n]=e[n]);else if(e=t.currentStyle||t.style)for(n in e)"string"==typeof n&&void 0===o[n]&&(o[n.replace(P,O)]=e[n]);return q||(o.opacity=Y(t)),r=Gt(t,e,!1),o.rotation=r.rotation,o.skewX=r.skewX,o.scaleX=r.scaleX,o.scaleY=r.scaleY,o.x=r.x,o.y=r.y,Lt&&(o.z=r.z,o.rotationX=r.rotationX,o.rotationY=r.rotationY,o.scaleZ=r.scaleZ),o.filters&&delete o.filters,o},it=function(t,e,n,r,i){var o,a,s,u={},l=t.style;for(a in n)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(o=n[a])||i&&i[a])&&-1===a.indexOf("Origin")&&("number"!=typeof o&&"string"!=typeof o||(u[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[a]||""===e[a].replace(x,"")?o:0:nt(t,a),void 0!==l[a]&&(s=new _t(l,a,l[a],s))));if(r)for(a in r)"className"!==a&&(u[a]=r[a]);return{difs:u,firstMPT:s}},ot={width:["Left","Right"],height:["Top","Bottom"]},at=["marginLeft","marginRight","marginTop","marginBottom"],st=function(t,e,n){if("svg"===(t.nodeName+"").toLowerCase())return(n||$(t))[e]||0;if(t.getCTM&&Bt(t))return t.getBBox()[e]||0;var r=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),i=ot[e],o=i.length;for(n=n||$(t,null);--o>-1;)r-=parseFloat(tt(t,"padding"+i[o],n,!0))||0,r-=parseFloat(tt(t,"border"+i[o]+"Width",n,!0))||0;return r},ut=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var n,r=t.split(" "),i=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":r[0],o=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":r[1];if(r.length>3&&!e){for(r=t.split(", ").join(",").split(","),t=[],n=0;n<r.length;n++)t.push(ut(r[n]));return t.join(",")}return null==o?o="center"===i?"50%":"0":"center"===o&&(o="50%"),("center"===i||isNaN(parseFloat(i))&&-1===(i+"").indexOf("="))&&(i="50%"),t=i+" "+o+(r.length>2?" "+r[2]:""),e&&(e.oxp=-1!==i.indexOf("%"),e.oyp=-1!==o.indexOf("%"),e.oxr="="===i.charAt(1),e.oyr="="===o.charAt(1),e.ox=parseFloat(i.replace(x,"")),e.oy=parseFloat(o.replace(x,"")),e.v=t),e||t},lt=function(t,e){return"function"==typeof t&&(t=t(v,y)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ct=function(t,e){return"function"==typeof t&&(t=t(v,y)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ht=function(t,e,n,r){var i,o,a,s,u;return"function"==typeof t&&(t=t(v,y)),null==t?s=e:"number"==typeof t?s=t:(i=360,o=t.split("_"),a=((u="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===t.indexOf("rad")?1:F)-(u?0:e),o.length&&(r&&(r[n]=e+a),-1!==t.indexOf("short")&&(a%=i)!=a%(i/2)&&(a=a<0?a+i:a-i),-1!==t.indexOf("_cw")&&a<0?a=(a+9999999999*i)%i-(a/i|0)*i:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*i)%i-(a/i|0)*i)),s=e+a),s<1e-6&&s>-1e-6&&(s=0),s},ft={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},pt=function(t,e,n){return 255*(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)+.5|0},dt=s.parseColor=function(t,e){var n,r,i,o,a,s,u,l,c,h,f;if(t)if("number"==typeof t)n=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ft[t])n=ft[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(r=t.charAt(1))+r+(i=t.charAt(2))+i+(o=t.charAt(3))+o),n=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(n=f=t.match(_),e){if(-1!==t.indexOf("="))return t.match(b)}else a=Number(n[0])%360/360,s=Number(n[1])/100,r=2*(u=Number(n[2])/100)-(i=u<=.5?u*(s+1):u+s-u*s),n.length>3&&(n[3]=Number(n[3])),n[0]=pt(a+1/3,r,i),n[1]=pt(a,r,i),n[2]=pt(a-1/3,r,i);else n=t.match(_)||ft.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=ft.black;return e&&!f&&(r=n[0]/255,i=n[1]/255,o=n[2]/255,u=((l=Math.max(r,i,o))+(c=Math.min(r,i,o)))/2,l===c?a=s=0:(h=l-c,s=u>.5?h/(2-l-c):h/(l+c),a=l===r?(i-o)/h+(i<o?6:0):l===i?(o-r)/h+2:(r-i)/h+4,a*=60),n[0]=a+.5|0,n[1]=100*s+.5|0,n[2]=100*u+.5|0),n},mt=function(t,e){var n,r,i,o=t.match(gt)||[],a=0,s="";if(!o.length)return t;for(n=0;n<o.length;n++)a+=(i=t.substr(a,t.indexOf(r=o[n],a)-a)).length+r.length,3===(r=dt(r,e)).length&&r.push(1),s+=i+(e?"hsla("+r[0]+","+r[1]+"%,"+r[2]+"%,"+r[3]:"rgba("+r.join(","))+")";return s+t.substr(a)},gt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in ft)gt+="|"+c+"\\b";gt=new RegExp(gt+")","gi"),s.colorStringFilter=function(t){var e,n=t[0]+" "+t[1];gt.test(n)&&(e=-1!==n.indexOf("hsl(")||-1!==n.indexOf("hsla("),t[0]=mt(t[0],e),t[1]=mt(t[1],e)),gt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=s.colorStringFilter);var yt=function(t,e,n,r){if(null==t)return function(t){return t};var i,o=e?(t.match(gt)||[""])[0]:"",a=t.split(o).join("").match(w)||[],s=t.substr(0,t.indexOf(a[0])),u=")"===t.charAt(t.length-1)?")":"",l=-1!==t.indexOf(" ")?" ":",",c=a.length,h=c>0?a[0].replace(_,""):"";return c?i=e?function(t){var e,f,p,d;if("number"==typeof t)t+=h;else if(r&&I.test(t)){for(d=t.replace(I,"|").split("|"),p=0;p<d.length;p++)d[p]=i(d[p]);return d.join(",")}if(e=(t.match(gt)||[o])[0],f=t.split(e).join("").match(w)||[],p=f.length,c>p--)for(;++p<c;)f[p]=n?f[(p-1)/2|0]:a[p];return s+f.join(l)+l+e+u+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,o,f;if("number"==typeof t)t+=h;else if(r&&I.test(t)){for(o=t.replace(I,"|").split("|"),f=0;f<o.length;f++)o[f]=i(o[f]);return o.join(",")}if(e=t.match(w)||[],f=e.length,c>f--)for(;++f<c;)e[f]=n?e[(f-1)/2|0]:a[f];return s+e.join(l)+u}:function(t){return t}},vt=function(t){return t=t.split(","),function(e,n,r,i,o,a,s){var u,l=(n+"").split(" ");for(s={},u=0;u<4;u++)s[t[u]]=l[u]=l[u]||l[(u-1)/2>>0];return i.parse(e,s,o,a)}},_t=(W._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,n,r,i,o,a=this.data,s=a.proxy,u=a.firstMPT;u;)e=s[u.v],u.r?e=Math.round(e):e<1e-6&&e>-1e-6&&(e=0),u.t[u.p]=e,u=u._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod(s.rotation,this.t):s.rotation),1===t||0===t)for(u=a.firstMPT,o=1===t?"e":"b";u;){if((n=u.t).type){if(1===n.type){for(i=n.xs0+n.s+n.xs1,r=1;r<n.l;r++)i+=n["xn"+r]+n["xs"+(r+1)];n[o]=i}}else n[o]=n.s+n.xs0;u=u._next}},function(t,e,n,r,i){this.t=t,this.p=e,this.v=n,this.r=i,r&&(r._prev=this,this._next=r)}),bt=(W._parseToProxy=function(t,e,n,r,i,o){var a,s,u,l,c,h=r,f={},p={},d=n._transform,m=j;for(n._transform=null,j=e,r=c=n.parse(t,e,r,i),j=m,o&&(n._transform=d,h&&(h._prev=null,h._prev&&(h._prev._next=null)));r&&r!==h;){if(r.type<=1&&(s=r.p,p[s]=r.s+r.c,f[s]=r.s,o||(l=new _t(r,"s",s,l,r.r),r.c=0),1===r.type))for(a=r.l;--a>0;)p[s=r.p+"_"+(u="xn"+a)]=r.data[u],f[s]=r[u],o||(l=new _t(r,u,s,l,r.rxp[u]));r=r._next}return{proxy:f,end:p,firstMPT:l,pt:c}},W.CSSPropTween=function(t,e,r,i,o,s,u,l,c,h,f){this.t=t,this.p=e,this.s=r,this.c=i,this.n=u||e,t instanceof bt||a.push(this.n),this.r=l,this.type=s||0,c&&(this.pr=c,n=!0),this.b=void 0===h?r:h,this.e=void 0===f?r+i:f,o&&(this._next=o,o._prev=this)}),wt=function(t,e,n,r,i,o){var a=new bt(t,e,n,r-n,i,-1,o);return a.b=n,a.e=a.xs0=r,a},xt=s.parseComplex=function(t,e,n,r,i,o,a,u,l,c){n=n||o||"","function"==typeof r&&(r=r(v,y)),a=new bt(t,e,0,0,a,c?2:1,null,!1,u,n,r),r+="",i&&gt.test(r+n)&&(s.colorStringFilter(r=[n,r]),n=r[0],r=r[1]);var f,p,d,m,g,w,x,T,S,E,M,A,C,P=n.split(", ").join(",").split(" "),R=r.split(", ").join(",").split(" "),O=P.length,L=!1!==h;for(-1===r.indexOf(",")&&-1===n.indexOf(",")||(-1!==(r+n).indexOf("rgb")||-1!==(r+n).indexOf("hsl")?(P=P.join(" ").replace(I,", ").split(" "),R=R.join(" ").replace(I,", ").split(" ")):(P=P.join(" ").split(",").join(", ").split(" "),R=R.join(" ").split(",").join(", ").split(" ")),O=P.length),O!==R.length&&(O=(P=(o||"").split(" ")).length),a.plugin=l,a.setRatio=c,gt.lastIndex=0,f=0;f<O;f++)if(m=P[f],g=R[f],(T=parseFloat(m))||0===T)a.appendXtra("",T,lt(g,T),g.replace(b,""),L&&-1!==g.indexOf("px"),!0);else if(i&&gt.test(m))A=")"+((A=g.indexOf(")")+1)?g.substr(A):""),C=-1!==g.indexOf("hsl")&&q,E=g,m=dt(m,C),g=dt(g,C),(S=m.length+g.length>6)&&!q&&0===g[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(R[f]).join("transparent")):(q||(S=!1),C?a.appendXtra(E.substr(0,E.indexOf("hsl"))+(S?"hsla(":"hsl("),m[0],lt(g[0],m[0]),",",!1,!0).appendXtra("",m[1],lt(g[1],m[1]),"%,",!1).appendXtra("",m[2],lt(g[2],m[2]),S?"%,":"%"+A,!1):a.appendXtra(E.substr(0,E.indexOf("rgb"))+(S?"rgba(":"rgb("),m[0],g[0]-m[0],",",!0,!0).appendXtra("",m[1],g[1]-m[1],",",!0).appendXtra("",m[2],g[2]-m[2],S?",":A,!0),S&&a.appendXtra("",m=m.length<4?1:m[3],(g.length<4?1:g[3])-m,A,!1)),gt.lastIndex=0;else if(w=m.match(_)){if(!(x=g.match(b))||x.length!==w.length)return a;for(d=0,p=0;p<w.length;p++)E=m.indexOf(M=w[p],d),a.appendXtra(m.substr(d,E-d),Number(M),lt(x[p],M),"",L&&"px"===m.substr(E+M.length,2),0===p),d=E+M.length;a["xs"+a.l]+=m.substr(d)}else a["xs"+a.l]+=a.l||a["xs"+a.l]?" "+g:g;if(-1!==r.indexOf("=")&&a.data){for(A=a.xs0+a.data.s,f=1;f<a.l;f++)A+=a["xs"+f]+a.data["xn"+f];a.e=A+a["xs"+f]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},Tt=9;for((c=bt.prototype).l=c.pr=0;--Tt>0;)c["xn"+Tt]=0,c["xs"+Tt]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(t,e,n,r,i,o){var a=this.l;return this["xs"+a]+=o&&(a||this["xs"+a])?" "+t:t||"",n||0===a||this.plugin?(this.l++,this.type=this.setRatio?2:1,this["xs"+this.l]=r||"",a>0?(this.data["xn"+a]=e+n,this.rxp["xn"+a]=i,this["xn"+a]=e,this.plugin||(this.xfirst=new bt(this,"xn"+a,e,n,this.xfirst||this,0,this.n,i,this.pr),this.xfirst.xs0=0),this):(this.data={s:e+n},this.rxp={},this.s=e,this.c=n,this.r=i,this)):(this["xs"+a]+=e+(r||""),this)};var St=function(t,e){this.p=(e=e||{}).prefix?J(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||yt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Et=W._registerComplexSpecialProp=function(t,e,n){"object"!=typeof e&&(e={parser:n});var r,i=t.split(","),o=e.defaultValue;for(n=n||[o],r=0;r<i.length;r++)e.prefix=0===r&&e.prefix,e.defaultValue=n[r]||o,new St(i[r],e)},Mt=W._registerPluginProp=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Et(t,{parser:function(t,n,r,i,o,a,s){var c=u.com.greensock.plugins[e];return c?(c._cssRegister(),l[r].parse(t,n,r,i,o,a,s)):(Z("Error: "+e+" js file not loaded."),o)}})}};(c=St.prototype).parseComplex=function(t,e,n,r,i,o){var a,s,u,l,c,h,f=this.keyword;if(this.multi&&(I.test(n)||I.test(e)?(s=e.replace(I,"|").split("|"),u=n.replace(I,"|").split("|")):f&&(s=[e],u=[n])),u){for(l=u.length>s.length?u.length:s.length,a=0;a<l;a++)e=s[a]=s[a]||this.dflt,n=u[a]=u[a]||this.dflt,f&&(c=e.indexOf(f))!==(h=n.indexOf(f))&&(-1===h?s[a]=s[a].split(f).join(""):-1===c&&(s[a]+=" "+f));e=s.join(", "),n=u.join(", ")}return xt(t,this.p,e,n,this.clrs,this.dflt,r,this.pr,i,o)},c.parse=function(t,e,n,r,o,a,s){return this.parseComplex(t.style,this.format(tt(t,this.p,i,!1,this.dflt)),this.format(e),o,a)},s.registerSpecialProp=function(t,e,n){Et(t,{parser:function(t,r,i,o,a,s,u){var l=new bt(t,i,0,0,a,2,i,!1,n);return l.plugin=s,l.setRatio=e(t,r,o._tween,i),l},priority:n})},s.useSVGTransformAttr=!0;var At,Ct="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Pt=J("transform"),Rt=K+"transform",Ot=J("transformOrigin"),Lt=null!==J("perspective"),kt=W.Transform=function(){this.perspective=parseFloat(s.defaultTransformPerspective)||0,this.force3D=!(!1===s.defaultForce3D||!Lt)&&(s.defaultForce3D||"auto")},Nt=o.SVGElement,It=function(t,e,n){var r,i=z.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(r in n)i.setAttributeNS(null,r.replace(o,"$1-$2").toLowerCase(),n[r]);return e.appendChild(i),i},Dt=z.documentElement||{},Ut=function(){var t,e,n,r=g||/Android/i.test(X)&&!o.chrome;return z.createElementNS&&!r&&(t=It("svg",Dt),n=(e=It("rect",t,{width:100,height:50,x:100})).getBoundingClientRect().width,e.style[Ot]="50% 50%",e.style[Pt]="scaleX(0.5)",r=n===e.getBoundingClientRect().width&&!(d&&Lt),Dt.removeChild(t)),r}(),Ft=function(t,e,n,r,i,o){var a,u,l,c,h,f,p,d,m,g,y,v,_,b,w=t._gsTransform,x=Vt(t,!0);w&&(_=w.xOrigin,b=w.yOrigin),(!r||(a=r.split(" ")).length<2)&&(0===(p=t.getBBox()).x&&0===p.y&&p.width+p.height===0&&(p={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),a=[(-1!==(e=ut(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*p.width:parseFloat(e[0]))+p.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*p.height:parseFloat(e[1]))+p.y]),n.xOrigin=c=parseFloat(a[0]),n.yOrigin=h=parseFloat(a[1]),r&&x!==zt&&(g=x[4],y=x[5],(v=(f=x[0])*(m=x[3])-(p=x[1])*(d=x[2]))&&(l=c*(-p/v)+h*(f/v)-(f*y-p*g)/v,c=n.xOrigin=a[0]=u=c*(m/v)+h*(-d/v)+(d*y-m*g)/v,h=n.yOrigin=a[1]=l)),w&&(o&&(n.xOffset=w.xOffset,n.yOffset=w.yOffset,w=n),i||!1!==i&&!1!==s.defaultSmoothOrigin?(w.xOffset+=(u=c-_)*x[0]+(l=h-b)*x[2]-u,w.yOffset+=u*x[1]+l*x[3]-l):w.xOffset=w.yOffset=0),o||t.setAttribute("data-svg-origin",a.join(" "))},jt=function(t){var e,n=V("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,o=this.style.cssText;if(Dt.appendChild(n),n.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=jt}catch(t){}else this._originalGetBBox&&(e=this._originalGetBBox());return i?r.insertBefore(this,i):r.appendChild(this),Dt.removeChild(n),this.style.cssText=o,e},Bt=function(t){return!(!Nt||!t.getCTM||t.parentNode&&!t.ownerSVGElement||!function(t){try{return t.getBBox()}catch(e){return jt.call(t,!0)}}(t))},zt=[1,0,0,1,0,0],Vt=function(t,e){var n,r,i,o,a,s,u=t._gsTransform||new kt,l=t.style;if(Pt?r=tt(t,Rt,null,!0):t.currentStyle&&(r=(r=t.currentStyle.filter.match(k))&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),u.x||0,u.y||0].join(","):""),n=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,!Pt||!(s=!$(t)||"none"===$(t).display)&&t.parentNode||(s&&(o=l.display,l.display="block"),t.parentNode||(a=1,Dt.appendChild(t)),n=!(r=tt(t,Rt,null,!0))||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,o?l.display=o:s&&Xt(l,"display"),a&&Dt.removeChild(t)),(u.svg||t.getCTM&&Bt(t))&&(n&&-1!==(l[Pt]+"").indexOf("matrix")&&(r=l[Pt],n=0),i=t.getAttribute("transform"),n&&i&&(-1!==i.indexOf("matrix")?(r=i,n=0):-1!==i.indexOf("translate")&&(r="matrix(1,0,0,1,"+i.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",n=0))),n)return zt;for(i=(r||"").match(_)||[],Tt=i.length;--Tt>-1;)o=Number(i[Tt]),i[Tt]=(a=o-(o|=0))?(1e5*a+(a<0?-.5:.5)|0)/1e5+o:o;return e&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i},Gt=W.getTransform=function(t,n,r,i){if(t._gsTransform&&r&&!i)return t._gsTransform;var o,a,u,l,c,h,f=r?t._gsTransform||new kt:new kt,p=f.scaleX<0,d=Lt?parseFloat(tt(t,Ot,n,!1,"0 0 0").split(" ")[2])||f.zOrigin||0:0,m=parseFloat(s.defaultTransformPerspective)||0;if(f.svg=!(!t.getCTM||!Bt(t)),f.svg&&(Ft(t,tt(t,Ot,n,!1,"50% 50%")+"",f,t.getAttribute("data-svg-origin")),At=s.useSVGTransformAttr||Ut),(o=Vt(t))!==zt){if(16===o.length){var g,y,v,_,b,w=o[0],x=o[1],T=o[2],S=o[3],E=o[4],M=o[5],A=o[6],C=o[7],P=o[8],R=o[9],O=o[10],L=o[12],k=o[13],N=o[14],I=o[11],D=Math.atan2(A,O);f.zOrigin&&(L=P*(N=-f.zOrigin)-o[12],k=R*N-o[13],N=O*N+f.zOrigin-o[14]),f.rotationX=D*F,D&&(g=E*(_=Math.cos(-D))+P*(b=Math.sin(-D)),y=M*_+R*b,v=A*_+O*b,P=E*-b+P*_,R=M*-b+R*_,O=A*-b+O*_,I=C*-b+I*_,E=g,M=y,A=v),D=Math.atan2(-T,O),f.rotationY=D*F,D&&(y=x*(_=Math.cos(-D))-R*(b=Math.sin(-D)),v=T*_-O*b,R=x*b+R*_,O=T*b+O*_,I=S*b+I*_,w=g=w*_-P*b,x=y,T=v),D=Math.atan2(x,w),f.rotation=D*F,D&&(g=w*(_=Math.cos(D))+x*(b=Math.sin(D)),y=E*_+M*b,v=P*_+R*b,x=x*_-w*b,M=M*_-E*b,R=R*_-P*b,w=g,E=y,P=v),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),D=Math.atan2(E,M),f.scaleX=(1e5*Math.sqrt(w*w+x*x+T*T)+.5|0)/1e5,f.scaleY=(1e5*Math.sqrt(M*M+A*A)+.5|0)/1e5,f.scaleZ=(1e5*Math.sqrt(P*P+R*R+O*O)+.5|0)/1e5,w/=f.scaleX,E/=f.scaleY,x/=f.scaleX,M/=f.scaleY,Math.abs(D)>2e-5?(f.skewX=D*F,E=0,"simple"!==f.skewType&&(f.scaleY*=1/Math.cos(D))):f.skewX=0,f.perspective=I?1/(I<0?-I:I):0,f.x=L,f.y=k,f.z=N,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*w-f.yOrigin*E),f.y-=f.yOrigin-(f.yOrigin*x-f.xOrigin*M))}else if(!Lt||i||!o.length||f.x!==o[4]||f.y!==o[5]||!f.rotationX&&!f.rotationY){var U=o.length>=6,j=U?o[0]:1,B=o[1]||0,z=o[2]||0,V=U?o[3]:1;f.x=o[4]||0,f.y=o[5]||0,u=Math.sqrt(j*j+B*B),l=Math.sqrt(V*V+z*z),c=j||B?Math.atan2(B,j)*F:f.rotation||0,h=z||V?Math.atan2(z,V)*F+c:f.skewX||0,f.scaleX=u,f.scaleY=l,f.rotation=c,f.skewX=h,Lt&&(f.rotationX=f.rotationY=f.z=0,f.perspective=m,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*j+f.yOrigin*z),f.y-=f.yOrigin-(f.xOrigin*B+f.yOrigin*V))}Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(p?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180)),f.zOrigin=d;for(a in f)f[a]<2e-5&&f[a]>-2e-5&&(f[a]=0)}return r&&(t._gsTransform=f,f.svg&&(At&&t.style[Pt]?e.delayedCall(.001,function(){Xt(t.style,Pt)}):!At&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),f},Ht=W.set3DTransformRatio=W.setTransformRatio=function(t){var e,n,r,i,o,a,s,u,l,c,h,f,p,m,g,y,v,_,b,w,x,T=this.data,S=this.t.style,E=T.rotation,M=T.rotationX,A=T.rotationY,C=T.scaleX,P=T.scaleY,R=T.scaleZ,O=T.x,L=T.y,k=T.z,N=T.svg,I=T.perspective,D=T.force3D,F=T.skewY,j=T.skewX;if(F&&(j+=F,E+=F),!((1!==t&&0!==t||"auto"!==D||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&D||k||I||A||M||1!==R)||At&&N||!Lt)E||j||N?(E*=U,w=j*U,x=1e5,n=Math.cos(E)*C,o=Math.sin(E)*C,r=Math.sin(E-w)*-P,a=Math.cos(E-w)*P,w&&"simple"===T.skewType&&(e=Math.tan(w-F*U),r*=e=Math.sqrt(1+e*e),a*=e,F&&(e=Math.tan(F*U),n*=e=Math.sqrt(1+e*e),o*=e)),N&&(O+=T.xOrigin-(T.xOrigin*n+T.yOrigin*r)+T.xOffset,L+=T.yOrigin-(T.xOrigin*o+T.yOrigin*a)+T.yOffset,At&&(T.xPercent||T.yPercent)&&(g=this.t.getBBox(),O+=.01*T.xPercent*g.width,L+=.01*T.yPercent*g.height),O<(g=1e-6)&&O>-g&&(O=0),L<g&&L>-g&&(L=0)),b=(n*x|0)/x+","+(o*x|0)/x+","+(r*x|0)/x+","+(a*x|0)/x+","+O+","+L+")",N&&At?this.t.setAttribute("transform","matrix("+b):S[Pt]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix(":"matrix(")+b):S[Pt]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix(":"matrix(")+C+",0,0,"+P+","+O+","+L+")";else{if(d&&(C<(g=1e-4)&&C>-g&&(C=R=2e-5),P<g&&P>-g&&(P=R=2e-5),!I||T.z||T.rotationX||T.rotationY||(I=0)),E||j)E*=U,y=n=Math.cos(E),v=o=Math.sin(E),j&&(E-=j*U,y=Math.cos(E),v=Math.sin(E),"simple"===T.skewType&&(e=Math.tan((j-F)*U),y*=e=Math.sqrt(1+e*e),v*=e,T.skewY&&(e=Math.tan(F*U),n*=e=Math.sqrt(1+e*e),o*=e))),r=-v,a=y;else{if(!(A||M||1!==R||I||N))return void(S[Pt]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) translate3d(":"translate3d(")+O+"px,"+L+"px,"+k+"px)"+(1!==C||1!==P?" scale("+C+","+P+")":""));n=a=1,r=o=0}c=1,i=s=u=l=h=f=0,p=I?-1/I:0,m=T.zOrigin,g=1e-6,(E=A*U)&&(y=Math.cos(E),u=-(v=Math.sin(E)),h=p*-v,i=n*v,s=o*v,c=y,p*=y,n*=y,o*=y),(E=M*U)&&(e=r*(y=Math.cos(E))+i*(v=Math.sin(E)),_=a*y+s*v,l=c*v,f=p*v,i=r*-v+i*y,s=a*-v+s*y,c*=y,p*=y,r=e,a=_),1!==R&&(i*=R,s*=R,c*=R,p*=R),1!==P&&(r*=P,a*=P,l*=P,f*=P),1!==C&&(n*=C,o*=C,u*=C,h*=C),(m||N)&&(m&&(O+=i*-m,L+=s*-m,k+=c*-m+m),N&&(O+=T.xOrigin-(T.xOrigin*n+T.yOrigin*r)+T.xOffset,L+=T.yOrigin-(T.xOrigin*o+T.yOrigin*a)+T.yOffset),O<g&&O>-g&&(O="0"),L<g&&L>-g&&(L="0"),k<g&&k>-g&&(k=0)),b=T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix3d(":"matrix3d(",b+=(n<g&&n>-g?"0":n)+","+(o<g&&o>-g?"0":o)+","+(u<g&&u>-g?"0":u),b+=","+(h<g&&h>-g?"0":h)+","+(r<g&&r>-g?"0":r)+","+(a<g&&a>-g?"0":a),M||A||1!==R?(b+=","+(l<g&&l>-g?"0":l)+","+(f<g&&f>-g?"0":f)+","+(i<g&&i>-g?"0":i),b+=","+(s<g&&s>-g?"0":s)+","+(c<g&&c>-g?"0":c)+","+(p<g&&p>-g?"0":p)+","):b+=",0,0,0,0,1,0,",S[Pt]=b+=O+","+L+","+k+","+(I?1+-k/I:1)+")"}};(c=kt.prototype).x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,Et("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,n,r,o,a,u){if(r._lastParsedTransform===u)return o;r._lastParsedTransform=u;var l,c=u.scale&&"function"==typeof u.scale?u.scale:0;"function"==typeof u[n]&&(l=u[n],u[n]=e),c&&(u.scale=c(v,t));var h,f,p,d,m,g,_,b,w,x=t._gsTransform,T=t.style,S=Ct.length,E=u,M={},A="transformOrigin",C=Gt(t,i,!0,E.parseTransform),P=E.transform&&("function"==typeof E.transform?E.transform(v,y):E.transform);if(C.skewType=E.skewType||C.skewType||s.defaultSkewType,r._transform=C,P&&"string"==typeof P&&Pt)(f=G.style)[Pt]=P,f.display="block",f.position="absolute",z.body.appendChild(G),h=Gt(G,null,!1),"simple"===C.skewType&&(h.scaleY*=Math.cos(h.skewX*U)),C.svg&&(g=C.xOrigin,_=C.yOrigin,h.x-=C.xOffset,h.y-=C.yOffset,(E.transformOrigin||E.svgOrigin)&&(P={},Ft(t,ut(E.transformOrigin),P,E.svgOrigin,E.smoothOrigin,!0),g=P.xOrigin,_=P.yOrigin,h.x-=P.xOffset-C.xOffset,h.y-=P.yOffset-C.yOffset),(g||_)&&(b=Vt(G,!0),h.x-=g-(g*b[0]+_*b[2]),h.y-=_-(g*b[1]+_*b[3]))),z.body.removeChild(G),h.perspective||(h.perspective=C.perspective),null!=E.xPercent&&(h.xPercent=ct(E.xPercent,C.xPercent)),null!=E.yPercent&&(h.yPercent=ct(E.yPercent,C.yPercent));else if("object"==typeof E){if(h={scaleX:ct(null!=E.scaleX?E.scaleX:E.scale,C.scaleX),scaleY:ct(null!=E.scaleY?E.scaleY:E.scale,C.scaleY),scaleZ:ct(E.scaleZ,C.scaleZ),x:ct(E.x,C.x),y:ct(E.y,C.y),z:ct(E.z,C.z),xPercent:ct(E.xPercent,C.xPercent),yPercent:ct(E.yPercent,C.yPercent),perspective:ct(E.transformPerspective,C.perspective)},null!=(m=E.directionalRotation))if("object"==typeof m)for(f in m)E[f]=m[f];else E.rotation=m;"string"==typeof E.x&&-1!==E.x.indexOf("%")&&(h.x=0,h.xPercent=ct(E.x,C.xPercent)),"string"==typeof E.y&&-1!==E.y.indexOf("%")&&(h.y=0,h.yPercent=ct(E.y,C.yPercent)),h.rotation=ht("rotation"in E?E.rotation:"shortRotation"in E?E.shortRotation+"_short":"rotationZ"in E?E.rotationZ:C.rotation,C.rotation,"rotation",M),Lt&&(h.rotationX=ht("rotationX"in E?E.rotationX:"shortRotationX"in E?E.shortRotationX+"_short":C.rotationX||0,C.rotationX,"rotationX",M),h.rotationY=ht("rotationY"in E?E.rotationY:"shortRotationY"in E?E.shortRotationY+"_short":C.rotationY||0,C.rotationY,"rotationY",M)),h.skewX=ht(E.skewX,C.skewX),h.skewY=ht(E.skewY,C.skewY)}for(Lt&&null!=E.force3D&&(C.force3D=E.force3D,d=!0),(p=C.force3D||C.z||C.rotationX||C.rotationY||h.z||h.rotationX||h.rotationY||h.perspective)||null==E.scale||(h.scaleZ=1);--S>-1;)((P=h[w=Ct[S]]-C[w])>1e-6||P<-1e-6||null!=E[w]||null!=j[w])&&(d=!0,o=new bt(C,w,C[w],P,o),w in M&&(o.e=M[w]),o.xs0=0,o.plugin=a,r._overwriteProps.push(o.n));return P=E.transformOrigin,C.svg&&(P||E.svgOrigin)&&(g=C.xOffset,_=C.yOffset,Ft(t,ut(P),h,E.svgOrigin,E.smoothOrigin),o=wt(C,"xOrigin",(x?C:h).xOrigin,h.xOrigin,o,A),o=wt(C,"yOrigin",(x?C:h).yOrigin,h.yOrigin,o,A),g===C.xOffset&&_===C.yOffset||(o=wt(C,"xOffset",x?g:C.xOffset,C.xOffset,o,A),o=wt(C,"yOffset",x?_:C.yOffset,C.yOffset,o,A)),P="0px 0px"),(P||Lt&&p&&C.zOrigin)&&(Pt?(d=!0,w=Ot,P=(P||tt(t,w,i,!1,"50% 50%"))+"",(o=new bt(T,w,0,0,o,-1,A)).b=T[w],o.plugin=a,Lt?(f=C.zOrigin,P=P.split(" "),C.zOrigin=(P.length>2&&(0===f||"0px"!==P[2])?parseFloat(P[2]):f)||0,o.xs0=o.e=P[0]+" "+(P[1]||"50%")+" 0px",(o=new bt(C,"zOrigin",0,0,o,-1,o.n)).b=f,o.xs0=o.e=C.zOrigin):o.xs0=o.e=P):ut(P+"",C)),d&&(r._transformType=C.svg&&At||!p&&3!==this._transformType?2:3),l&&(u[n]=l),c&&(u.scale=c),o},prefix:!0}),Et("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Et("borderRadius",{defaultValue:"0px",parser:function(t,e,n,o,a,s){e=this.format(e);var u,l,c,h,f,p,d,m,g,y,v,_,b,w,x,T,S=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],E=t.style;for(g=parseFloat(t.offsetWidth),y=parseFloat(t.offsetHeight),u=e.split(" "),l=0;l<S.length;l++)this.p.indexOf("border")&&(S[l]=J(S[l])),-1!==(f=h=tt(t,S[l],i,!1,"0px")).indexOf(" ")&&(f=(h=f.split(" "))[0],h=h[1]),p=c=u[l],d=parseFloat(f),_=f.substr((d+"").length),(b="="===p.charAt(1))?(m=parseInt(p.charAt(0)+"1",10),p=p.substr(2),m*=parseFloat(p),v=p.substr((m+"").length-(m<0?1:0))||""):(m=parseFloat(p),v=p.substr((m+"").length)),""===v&&(v=r[n]||_),v!==_&&(w=et(t,"borderLeft",d,_),x=et(t,"borderTop",d,_),"%"===v?(f=w/g*100+"%",h=x/y*100+"%"):"em"===v?(f=w/(T=et(t,"borderLeft",1,"em"))+"em",h=x/T+"em"):(f=w+"px",h=x+"px"),b&&(p=parseFloat(f)+m+v,c=parseFloat(h)+m+v)),a=xt(E,S[l],f+" "+h,p+" "+c,!1,"0px",a);return a},prefix:!0,formatter:yt("0px 0px 0px 0px",!1,!0)}),Et("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,n,r,o,a){return xt(t.style,n,this.format(tt(t,n,i,!1,"0px 0px")),this.format(e),!1,"0px",o)},prefix:!0,formatter:yt("0px 0px",!1,!0)}),Et("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,n,r,o,a){var s,u,l,c,h,f,p="background-position",d=i||$(t,null),m=this.format((d?g?d.getPropertyValue(p+"-x")+" "+d.getPropertyValue(p+"-y"):d.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),y=this.format(e);if(-1!==m.indexOf("%")!=(-1!==y.indexOf("%"))&&y.split(",").length<2&&(f=tt(t,"backgroundImage").replace(R,""))&&"none"!==f){for(s=m.split(" "),u=y.split(" "),H.setAttribute("src",f),l=2;--l>-1;)(c=-1!==(m=s[l]).indexOf("%"))!=(-1!==u[l].indexOf("%"))&&(h=0===l?t.offsetWidth-H.width:t.offsetHeight-H.height,s[l]=c?parseFloat(m)/100*h+"px":parseFloat(m)/h*100+"%");m=s.join(" ")}return this.parseComplex(t.style,m,y,o,a)},formatter:ut}),Et("backgroundSize",{defaultValue:"0 0",formatter:function(t){return t+="",ut(-1===t.indexOf(" ")?t+" "+t:t)}}),Et("perspective",{defaultValue:"0px",prefix:!0}),Et("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Et("transformStyle",{prefix:!0}),Et("backfaceVisibility",{prefix:!0}),Et("userSelect",{prefix:!0}),Et("margin",{parser:vt("marginTop,marginRight,marginBottom,marginLeft")}),Et("padding",{parser:vt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Et("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,n,r,o,a){var s,u,l;return g<9?(s="rect("+(u=t.currentStyle).clipTop+(l=g<8?" ":",")+u.clipRight+l+u.clipBottom+l+u.clipLeft+")",e=this.format(e).split(",").join(l)):(s=this.format(tt(t,this.p,i,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,s,e,o,a)}}),Et("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Et("autoRound,strictUnits",{parser:function(t,e,n,r,i){return i}}),Et("border",{defaultValue:"0px solid #000",parser:function(t,e,n,r,o,a){var s=tt(t,"borderTopWidth",i,!1,"0px"),u=this.format(e).split(" "),l=u[0].replace(T,"");return"px"!==l&&(s=parseFloat(s)/et(t,"borderTopWidth",1,l)+l),this.parseComplex(t.style,this.format(s+" "+tt(t,"borderTopStyle",i,!1,"solid")+" "+tt(t,"borderTopColor",i,!1,"#000")),u.join(" "),o,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(gt)||["#000"])[0]}}),Et("borderWidth",{parser:vt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Et("float,cssFloat,styleFloat",{parser:function(t,e,n,r,i,o){var a=t.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new bt(a,s,0,0,i,-1,n,!1,0,a[s],e)}});var Wt=function(t){var e,n=this.t,r=n.filter||tt(this.data,"filter")||"",i=this.s+this.c*t|0;100===i&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(n.removeAttribute("filter"),e=!tt(this.data,"filter")):(n.filter=r.replace(M,""),e=!0)),e||(this.xn1&&(n.filter=r=r||"alpha(opacity="+i+")"),-1===r.indexOf("pacity")?0===i&&this.xn1||(n.filter=r+" alpha(opacity="+i+")"):n.filter=r.replace(S,"opacity="+i))};Et("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,n,r,o,a){var s=parseFloat(tt(t,"opacity",i,!1,"1")),u=t.style,l="autoAlpha"===n;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+s),l&&1===s&&"hidden"===tt(t,"visibility",i)&&0!==e&&(s=0),q?o=new bt(u,"opacity",s,e-s,o):((o=new bt(u,"opacity",100*s,100*(e-s),o)).xn1=l?1:0,u.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=t,o.plugin=a,o.setRatio=Wt),l&&((o=new bt(u,"visibility",0,0,o,-1,null,!1,0,0!==s?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",r._overwriteProps.push(o.n),r._overwriteProps.push(n)),o}});var Xt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(C,"-$1").toLowerCase())):t.removeAttribute(e))},qt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,n=this.t.style;e;)e.v?n[e.p]=e.v:Xt(n,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Et("className",{parser:function(t,e,r,o,a,s,u){var l,c,h,f,p,d=t.getAttribute("class")||"",m=t.style.cssText;if(a=o._classNamePT=new bt(t,r,0,0,a,2),a.setRatio=qt,a.pr=-11,n=!0,a.b=d,c=rt(t,i),h=t._gsClassPT){for(f={},p=h.data;p;)f[p.p]=1,p=p._next;h.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:d.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),l=it(t,c,rt(t),u,f),t.setAttribute("class",d),a.data=l.firstMPT,t.style.cssText=m,a=a.xfirst=o.parse(t,l.difs,a,s)}});var Yt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,n,r,i,o,a=this.t.style,s=l.transform.parse;if("all"===this.e)a.cssText="",i=!0;else for(r=(e=this.e.split(" ").join("").split(",")).length;--r>-1;)l[n=e[r]]&&(l[n].parse===s?i=!0:n="transformOrigin"===n?Ot:l[n].p),Xt(a,n);i&&(Xt(a,Pt),(o=this.t._gsTransform)&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Et("clearProps",{parser:function(t,e,r,i,o){return o=new bt(t,r,0,0,o,2),o.setRatio=Yt,o.e=e,o.pr=-10,o.data=i._tween,n=!0,o}}),c="bezier,throwProps,physicsProps,physics2D".split(","),Tt=c.length;Tt--;)Mt(c[Tt]);(c=s.prototype)._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(t,e,o,u){if(!t.nodeType)return!1;this._target=y=t,this._tween=o,this._vars=e,v=u,h=e.autoRound,n=!1,r=e.suffixMap||s.suffixMap,i=$(t,""),a=this._overwriteProps;var c,d,_,b,w,x,M,A,C,P=t.style;if(f&&""===P.zIndex&&("auto"!==(c=tt(t,"zIndex",i))&&""!==c||this._addLazySet(P,"zIndex",0)),"string"==typeof e&&(b=P.cssText,c=rt(t,i),P.cssText=b+";"+e,c=it(t,c,rt(t)).difs,!q&&E.test(e)&&(c.opacity=parseFloat(RegExp.$1)),e=c,P.cssText=b),this._firstPT=d=e.className?l.className.parse(t,e.className,"className",this,null,null,e):this.parse(t,e,null),this._transformType){for(C=3===this._transformType,Pt?p&&(f=!0,""===P.zIndex&&("auto"!==(M=tt(t,"zIndex",i))&&""!==M||this._addLazySet(P,"zIndex",0)),m&&this._addLazySet(P,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(C?"visible":"hidden"))):P.zoom=1,_=d;_&&_._next;)_=_._next;A=new bt(t,"transform",0,0,null,2),this._linkCSSP(A,null,_),A.setRatio=Pt?Ht:function(t){var e,n,r=this.data,i=-r.rotation*U,o=i+r.skewX*U,a=(Math.cos(i)*r.scaleX*1e5|0)/1e5,s=(Math.sin(i)*r.scaleX*1e5|0)/1e5,u=(Math.sin(o)*-r.scaleY*1e5|0)/1e5,l=(Math.cos(o)*r.scaleY*1e5|0)/1e5,c=this.t.style,h=this.t.currentStyle;if(h){n=s,s=-u,u=-n,e=h.filter,c.filter="";var f,p,d=this.t.offsetWidth,m=this.t.offsetHeight,y="absolute"!==h.position,v="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+s+", M21="+u+", M22="+l,_=r.x+d*r.xPercent/100,b=r.y+m*r.yPercent/100;if(null!=r.ox&&(_+=(f=(r.oxp?d*r.ox*.01:r.ox)-d/2)-(f*a+(p=(r.oyp?m*r.oy*.01:r.oy)-m/2)*s),b+=p-(f*u+p*l)),v+=y?", Dx="+((f=d/2)-(f*a+(p=m/2)*s)+_)+", Dy="+(p-(f*u+p*l)+b)+")":", sizingMethod='auto expand')",c.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(N,v):v+" "+e,0!==t&&1!==t||1===a&&0===s&&0===u&&1===l&&(y&&-1===v.indexOf("Dx=0, Dy=0")||S.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&c.removeAttribute("filter")),!y){var w,x,E,M=g<8?1:-1;for(f=r.ieOffsetX||0,p=r.ieOffsetY||0,r.ieOffsetX=Math.round((d-((a<0?-a:a)*d+(s<0?-s:s)*m))/2+_),r.ieOffsetY=Math.round((m-((l<0?-l:l)*m+(u<0?-u:u)*d))/2+b),Tt=0;Tt<4;Tt++)E=(n=-1!==(w=h[x=at[Tt]]).indexOf("px")?parseFloat(w):et(this.t,x,parseFloat(w),w.replace(T,""))||0)!==r[x]?Tt<2?-r.ieOffsetX:-r.ieOffsetY:Tt<2?f-r.ieOffsetX:p-r.ieOffsetY,c[x]=(r[x]=Math.round(n-E*(0===Tt||2===Tt?1:M)))+"px"}}},A.data=this._transform||Gt(t,i,!0),A.tween=o,A.pr=-1,a.pop()}if(n){for(;d;){for(x=d._next,_=b;_&&_.pr>d.pr;)_=_._next;(d._prev=_?_._prev:w)?d._prev._next=d:b=d,(d._next=_)?_._prev=d:w=d,d=x}this._firstPT=b}return!0},c.parse=function(t,e,n,o){var a,s,u,c,f,p,d,m,g,_,b=t.style;for(a in e){if("function"==typeof(p=e[a])&&(p=p(v,y)),s=l[a])n=s.parse(t,p,a,this,n,o,e);else{if("--"===a.substr(0,2)){this._tween._propLookup[a]=this._addTween.call(this._tween,t.style,"setProperty",$(t).getPropertyValue(a)+"",p+"",a,!1,a);continue}f=tt(t,a,i)+"",g="string"==typeof p,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||g&&A.test(p)?(g||(p=((p=dt(p)).length>3?"rgba(":"rgb(")+p.join(",")+")"),n=xt(b,a,f,p,!0,"transparent",n,0,o)):g&&D.test(p)?n=xt(b,a,f,p,!0,null,n,0,o):(d=(u=parseFloat(f))||0===u?f.substr((u+"").length):"",""!==f&&"auto"!==f||("width"===a||"height"===a?(u=st(t,a,i),d="px"):"left"===a||"top"===a?(u=nt(t,a,i),d="px"):(u="opacity"!==a?0:1,d="")),(_=g&&"="===p.charAt(1))?(c=parseInt(p.charAt(0)+"1",10),p=p.substr(2),c*=parseFloat(p),m=p.replace(T,"")):(c=parseFloat(p),m=g?p.replace(T,""):""),""===m&&(m=a in r?r[a]:d),p=c||0===c?(_?c+u:c)+m:e[a],d!==m&&(""===m&&"lineHeight"!==a||(c||0===c)&&u&&(u=et(t,a,u,d),"%"===m?(u/=et(t,a,100,"%")/100,!0!==e.strictUnits&&(f=u+"%")):"em"===m||"rem"===m||"vw"===m||"vh"===m?u/=et(t,a,1,m):"px"!==m&&(c=et(t,a,c,m),m="px"),_&&(c||0===c)&&(p=c+u+m))),_&&(c+=u),!u&&0!==u||!c&&0!==c?void 0!==b[a]&&(p||p+""!="NaN"&&null!=p)?(n=new bt(b,a,c||u||0,0,n,-1,a,!1,0,f,p)).xs0="none"!==p||"display"!==a&&-1===a.indexOf("Style")?p:f:Z("invalid "+a+" tween value: "+e[a]):(n=new bt(b,a,u,c-u,n,0,a,!1!==h&&("px"===m||"zIndex"===a),0,f,p)).xs0=m)}o&&n&&!n.plugin&&(n.plugin=o)}return n},c.setRatio=function(t){var e,n,r,i=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;i;){if(e=i.c*t+i.s,i.r?e=Math.round(e):e<1e-6&&e>-1e-6&&(e=0),i.type)if(1===i.type)if(2===(r=i.l))i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2;else if(3===r)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3;else if(4===r)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4;else if(5===r)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4+i.xn4+i.xs5;else{for(n=i.xs0+e+i.xs1,r=1;r<i.l;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.t[i.p]=n}else-1===i.type?i.t[i.p]=i.xs0:i.setRatio&&i.setRatio(t);else i.t[i.p]=e+i.xs0;i=i._next}else for(;i;)2!==i.type?i.t[i.p]=i.b:i.setRatio(t),i=i._next;else for(;i;){if(2!==i.type)if(i.r&&-1!==i.type)if(e=Math.round(i.s+i.c),i.type){if(1===i.type){for(r=i.l,n=i.xs0+e+i.xs1,r=1;r<i.l;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.t[i.p]=n}}else i.t[i.p]=e+i.xs0;else i.t[i.p]=i.e;else i.setRatio(t);i=i._next}},c._enableTransforms=function(t){this._transform=this._transform||Gt(this._target,i,!0),this._transformType=this._transform.svg&&At||!t&&3!==this._transformType?2:3};var Zt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(t,e,n){var r=this._firstPT=new bt(t,e,0,0,this._firstPT,2);r.e=n,r.setRatio=Zt,r.data=this},c._linkCSSP=function(t,e,n,r){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,r=!0),n?n._next=t:r||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=n),t},c._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},c._kill=function(e){var n,r,i,o=e;if(e.autoAlpha||e.alpha){o={};for(r in e)o[r]=e[r];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(e.className&&(n=this._classNamePT)&&((i=n.xfirst)&&i._prev?this._linkCSSP(i._prev,n._next,i._prev._prev):i===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,i._prev),this._classNamePT=null),n=this._firstPT;n;)n.plugin&&n.plugin!==r&&n.plugin._kill&&(n.plugin._kill(e),r=n.plugin),n=n._next;return t.prototype._kill.call(this,o)};var Kt=function(t,e,n){var r,i,o,a;if(t.slice)for(i=t.length;--i>-1;)Kt(t[i],e,n);else for(i=(r=t.childNodes).length;--i>-1;)a=(o=r[i]).type,o.style&&(e.push(rt(o)),n&&n.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||Kt(o,e,n)};return s.cascadeTo=function(t,n,r){var i,o,a,s,u=e.to(t,n,r),l=[u],c=[],h=[],f=[],p=e._internals.reservedProps;for(Kt(t=u._targets||u.target,c,f),u.render(n,!0,!0),Kt(t,h),u.render(0,!0,!0),u._enabled(!0),i=f.length;--i>-1;)if((o=it(f[i],c[i],h[i])).firstMPT){o=o.difs;for(a in r)p[a]&&(o[a]=r[a]);s={};for(a in o)s[a]=c[i][a];l.push(e.fromTo(f[i],n,s,o))}return l},t.activate([s]),s},!0),function(){var t=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},e=o._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,n){return this._tween=n,!0}}).prototype;e._onInitAllProps=function(){for(var e,n,r,i=this._tween,o=i.vars.roundProps.join?i.vars.roundProps:i.vars.roundProps.split(","),a=o.length,s={},u=i._propLookup.roundProps;--a>-1;)s[o[a]]=Math.round;for(a=o.length;--a>-1;)for(e=o[a],n=i._firstPT;n;)r=n._next,n.pg?n.t._mod(s):n.n===e&&(2===n.f&&n.t?t(n.t._firstPT):(this._add(n.t,e,n.s,n.c),r&&(r._prev=n._prev),n._prev?n._prev._next=r:i._firstPT===n&&(i._firstPT=r),n._next=n._prev=null,i._propLookup[e]=u)),n=r;return!1},e._add=function(t,e,n,r){this._addTween(t,e,n,n+r,e,Math.round),this._overwriteProps.push(e)}}(),o._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(t,e,n,r){var i,o;if("function"!=typeof t.setAttribute)return!1;for(i in e)"function"==typeof(o=e[i])&&(o=o(r,t)),this._addTween(t,"setAttribute",t.getAttribute(i)+"",o+"",i,!1,i),this._overwriteProps.push(i);return!0}}),o._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(t,e,n,r){"object"!=typeof e&&(e={rotation:e}),this.finals={};var i,o,a,s,u,l,c=!0===e.useRadians?2*Math.PI:360;for(i in e)"useRadians"!==i&&("function"==typeof(s=e[i])&&(s=s(r,t)),o=(l=(s+"").split("_"))[0],a=parseFloat("function"!=typeof t[i]?t[i]:t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]()),u=(s=this.finals[i]="string"==typeof o&&"="===o.charAt(1)?a+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0)-a,l.length&&(-1!==(o=l.join("_")).indexOf("short")&&(u%=c)!=u%(c/2)&&(u=u<0?u+c:u-c),-1!==o.indexOf("_cw")&&u<0?u=(u+9999999999*c)%c-(u/c|0)*c:-1!==o.indexOf("ccw")&&u>0&&(u=(u-9999999999*c)%c-(u/c|0)*c)),(u>1e-6||u<-1e-6)&&(this._addTween(t,i,a,a+u,i),this._overwriteProps.push(i)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,o._gsDefine("easing.Back",["easing.Ease"],function(t){var e,n,r,i=o.GreenSockGlobals||o,a=i.com.greensock,s=2*Math.PI,u=Math.PI/2,l=a._class,c=function(e,n){var r=l("easing."+e,function(){},!0),i=r.prototype=new t;return i.constructor=r,i.getRatio=n,r},h=t.register||function(){},f=function(t,e,n,r,i){var o=l("easing."+t,{easeOut:new e,easeIn:new n,easeInOut:new r},!0);return h(o,t),o},p=function(t,e,n){this.t=t,this.v=e,n&&(this.next=n,n.prev=this,this.c=n.v-e,this.gap=n.t-t)},d=function(e,n){var r=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),i=r.prototype=new t;return i.constructor=r,i.getRatio=n,i.config=function(t){return new r(t)},r},m=f("Back",d("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),d("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),d("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),g=l("easing.SlowMo",function(t,e,n){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===n},!0),y=g.prototype=new t;return y.constructor=g,y.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1===t?0:1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},g.ease=new g(.7,.7),y.config=g.config=function(t,e,n){return new g(t,e,n)},e=l("easing.SteppedEase",function(t,e){this._p1=1/(t=t||1),this._p2=t+(e?0:1),this._p3=e?1:0},!0),y=e.prototype=new t,y.constructor=e,y.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},y.config=e.config=function(t,n){return new e(t,n)},n=l("easing.RoughEase",function(e){for(var n,r,i,o,a,s,u=(e=e||{}).taper||"none",l=[],c=0,h=0|(e.points||20),f=h,d=!1!==e.randomize,m=!0===e.clamp,g=e.template instanceof t?e.template:null,y="number"==typeof e.strength?.4*e.strength:.4;--f>-1;)n=d?Math.random():1/h*f,r=g?g.getRatio(n):n,i="none"===u?y:"out"===u?(o=1-n)*o*y:"in"===u?n*n*y:n<.5?(o=2*n)*o*.5*y:(o=2*(1-n))*o*.5*y,d?r+=Math.random()*i-.5*i:f%2?r+=.5*i:r-=.5*i,m&&(r>1?r=1:r<0&&(r=0)),l[c++]={x:n,y:r};for(l.sort(function(t,e){return t.x-e.x}),s=new p(1,1,null),f=h;--f>-1;)s=new p((a=l[f]).x,a.y,s);this._prev=new p(0,0,0!==s.t?s:s.next)},!0),y=n.prototype=new t,y.constructor=n,y.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},y.config=function(t){return new n(t)},n.ease=new n,f("Bounce",c("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),c("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),c("BounceInOut",function(t){var e=t<.5;return(t=e?1-2*t:2*t-1)<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),f("Circ",c("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),c("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),c("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),r=function(e,n,r){var i=l("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||r)/(t<1?t:1),this._p3=this._p2/s*(Math.asin(1/this._p1)||0),this._p2=s/this._p2},!0),o=i.prototype=new t;return o.constructor=i,o.getRatio=n,o.config=function(t,e){return new i(t,e)},i},f("Elastic",r("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),r("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)},.3),r("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),f("Expo",c("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),c("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),c("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),f("Sine",c("SineOut",function(t){return Math.sin(t*u)}),c("SineIn",function(t){return 1-Math.cos(t*u)}),c("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),h(i.SlowMo,"SlowMo","ease,"),h(n,"RoughEase","ease,"),h(e,"SteppedEase","ease,"),m},!0)}),o._gsDefine&&o._gsQueue.pop()(),function(n,o){"use strict";var a={},s=n.document,u=n.GreenSockGlobals=n.GreenSockGlobals||n;if(!u.TweenLite){var l,c,h,f,p,d=function(t){var e,n=t.split("."),r=u;for(e=0;e<n.length;e++)r[n[e]]=r=r[n[e]]||{};return r},m=d("com.greensock"),g=function(t){var e,n=[],r=t.length;for(e=0;e!==r;n.push(t[e++]));return n},y=function(){},v=function(){var t=Object.prototype.toString,e=t.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&t.call(n)===e)}}(),_={},b=function(n,o,s,l){this.sc=_[n]?_[n].sc:[],_[n]=this,this.gsClass=null,this.func=s;var c=[];this.check=function(h){for(var f,p,m,g,y=o.length,v=y;--y>-1;)(f=_[o[y]]||new b(o[y],[])).gsClass?(c[y]=f.gsClass,v--):h&&f.sc.push(this);if(0===v&&s){if(p=("com.greensock."+n).split("."),m=p.pop(),g=d(p.join("."))[m]=this.gsClass=s.apply(s,c),l)if(u[m]=a[m]=g,"undefined"!=typeof t&&t.exports)if("TweenMax"===n){t.exports=a.TweenMax=g;for(y in a)g[y]=a[y]}else a.TweenMax&&(a.TweenMax[m]=g);else void 0===(i=(function(){return g}).apply(e,r=[]))||(t.exports=i);for(y=0;y<this.sc.length;y++)this.sc[y].check()}},this.check(!0)},w=n._gsDefine=function(t,e,n,r){return new b(t,e,n,r)},x=m._class=function(t,e,n){return e=e||function(){},w(t,[],function(){return e},n),e};w.globals=u;var T=[0,0,1,1],S=x("easing.Ease",function(t,e,n,r){this._func=t,this._type=n||0,this._power=r||0,this._params=e?T.concat(e):T},!0),E=S.map={},M=S.register=function(t,e,n,r){for(var i,o,a,s,u=e.split(","),l=u.length,c=(n||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(o=u[l],i=r?x("easing."+o,null,!0):m.easing[o]||{},a=c.length;--a>-1;)E[o+"."+(s=c[a])]=E[s+o]=i[s]=t.getRatio?t:t[s]||new t};for((h=S.prototype)._calcEnd=!1,h.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,n=this._power,r=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===e?1-r:2===e?r:t<.5?r/2:1-r/2},c=(l=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--c>-1;)h=l[c]+",Power"+c,M(new S(null,null,1,c),h,"easeOut",!0),M(new S(null,null,2,c),h,"easeIn"+(0===c?",easeNone":"")),M(new S(null,null,3,c),h,"easeInOut");E.linear=m.easing.Linear.easeIn,E.swing=m.easing.Quad.easeInOut;var A=x("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(h=A.prototype).addEventListener=function(t,e,n,r,i){i=i||0;var o,a,s=this._listeners[t],u=0;for(this!==f||p||f.wake(),null==s&&(this._listeners[t]=s=[]),a=s.length;--a>-1;)(o=s[a]).c===e&&o.s===n?s.splice(a,1):0===u&&o.pr<i&&(u=a+1);s.splice(u,0,{c:e,s:n,up:r,pr:i})},h.removeEventListener=function(t,e){var n,r=this._listeners[t];if(r)for(n=r.length;--n>-1;)if(r[n].c===e)return void r.splice(n,1)},h.dispatchEvent=function(t){var e,n,r,i=this._listeners[t];if(i)for((e=i.length)>1&&(i=i.slice(0)),n=this._eventTarget;--e>-1;)(r=i[e])&&(r.up?r.c.call(r.s||n,{type:t,target:n}):r.c.call(r.s||n))};var C=n.requestAnimationFrame,P=n.cancelAnimationFrame,R=Date.now||function(){return(new Date).getTime()},O=R();for(c=(l=["ms","moz","webkit","o"]).length;--c>-1&&!C;)C=n[l[c]+"RequestAnimationFrame"],P=n[l[c]+"CancelAnimationFrame"]||n[l[c]+"CancelRequestAnimationFrame"];x("Ticker",function(t,e){var n,r,i,o,a,u=this,l=R(),c=!(!1===e||!C)&&"auto",h=500,d=33,m=function(t){var e,s,c=R()-O;c>h&&(l+=c-d),u.time=((O+=c)-l)/1e3,e=u.time-a,(!n||e>0||!0===t)&&(u.frame++,a+=e+(e>=o?.004:o-e),s=!0),!0!==t&&(i=r(m)),s&&u.dispatchEvent("tick")};A.call(u),u.time=u.frame=0,u.tick=function(){m(!0)},u.lagSmoothing=function(t,e){if(!arguments.length)return h<1e10;h=t||1e10,d=Math.min(e,h,0)},u.sleep=function(){null!=i&&(c&&P?P(i):clearTimeout(i),r=y,i=null,u===f&&(p=!1))},u.wake=function(t){null!==i?u.sleep():t?l+=-O+(O=R()):u.frame>10&&(O=R()-h+5),r=0===n?y:c&&C?C:function(t){return setTimeout(t,1e3*(a-u.time)+1|0)},u===f&&(p=!0),m(2)},u.fps=function(t){if(!arguments.length)return n;a=this.time+(o=1/((n=t)||60)),u.wake()},u.useRAF=function(t){if(!arguments.length)return c;u.sleep(),c=t,u.fps(n)},u.fps(t),setTimeout(function(){"auto"===c&&u.frame<5&&"hidden"!==s.visibilityState&&u.useRAF(!1)},1500)}),(h=m.Ticker.prototype=new m.events.EventDispatcher).constructor=m.Ticker;var L=x("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,Q){p||f.wake();var n=this.vars.useFrames?K:Q;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});f=L.ticker=new m.Ticker,(h=L.prototype)._dirty=h._gc=h._initted=h._paused=!1,h._totalTime=h._time=0,h._rawPrevTime=-1,h._next=h._last=h._onUpdate=h._timeline=h.timeline=null,h._paused=!1;var k=function(){p&&R()-O>2e3&&("hidden"!==s.visibilityState||!f.lagSmoothing())&&f.wake();var t=setTimeout(k,2e3);t.unref&&t.unref()};k(),h.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},h.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},h.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},h.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},h.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},h.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},h.render=function(t,e,n){},h.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},h.isActive=function(){var t,e=this._timeline,n=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<n+this.totalDuration()/this._timeScale-1e-7},h._enabled=function(t,e){return p||f.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},h._kill=function(t,e){return this._enabled(!1,!1)},h.kill=function(t,e){return this._kill(t,e),this},h._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},h._swapSelfInParams=function(t){for(var e=t.length,n=t.concat();--e>-1;)"{self}"===t[e]&&(n[e]=this);return n},h._callback=function(t){var e=this.vars,n=e[t],r=e[t+"Params"],i=e[t+"Scope"]||e.callbackScope||this;switch(r?r.length:0){case 0:n.call(i);break;case 1:n.call(i,r[0]);break;case 2:n.call(i,r[0],r[1]);break;default:n.apply(i,r)}},h.eventCallback=function(t,e,n,r){if("on"===(t||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[t];null==e?delete i[t]:(i[t]=e,i[t+"Params"]=v(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,i[t+"Scope"]=r),"onUpdate"===t&&(this._onUpdate=e)}return this},h.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},h.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},h.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},h.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},h.totalTime=function(t,e,n){if(p||f.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!n&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,i=this._timeline;if(t>r&&!n&&(t=r),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?r-t:t)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(U.length&&$(),this.render(t,e,!1),U.length&&$())}return this},h.progress=h.totalProgress=function(t,e){var n=this.duration();return arguments.length?this.totalTime(n*t,e):n?this._time/n:this.ratio},h.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},h.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},h.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,n;for(t=t||1e-10,this._timeline&&this._timeline.smoothChildTiming&&(n=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=n-(n-this._startTime)*this._timeScale/t),this._timeScale=t,n=this.timeline;n&&n.timeline;)n._dirty=!0,n.totalDuration(),n=n.timeline;return this},h.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},h.paused=function(t){if(!arguments.length)return this._paused;var e,n,r=this._timeline;return t!=this._paused&&r&&(p||t||f.wake(),n=(e=r.rawTime())-this._pauseTime,!t&&r.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==n&&this._initted&&this.duration()&&this.render(e=r.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,e===this._totalTime,!0)),this._gc&&!t&&this._enabled(!0,!1),this};var N=x("core.SimpleTimeline",function(t){L.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(h=N.prototype=new L).constructor=N,h.kill()._gc=!1,h._first=h._last=h._recent=null,h._sortChildren=!1,h.add=h.insert=function(t,e,n,r){var i,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(o=t._startTime;i&&i._startTime>o;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._recent=t,this._timeline&&this._uncache(!0),this},h._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},h.render=function(t,e,n){var r,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;i;)r=i._next,(i._active||t>=i._startTime&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)),i=r},h.rawTime=function(){return p||f.wake(),this._totalTime};var I=x("TweenLite",function(t,e,r){if(L.call(this,e,r),this.render=I.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:I.selector(t)||t;var i,o,a,s=t.jquery||t.length&&t!==n&&t[0]&&(t[0]===n||t[0].nodeType&&t[0].style&&!t.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?Z[I.defaultOverwrite]:"number"==typeof u?u>>0:Z[u],(s||t instanceof Array||t.push&&v(t))&&"number"!=typeof t[0])for(this._targets=a=g(t),this._propLookup=[],this._siblings=[],i=0;i<a.length;i++)(o=a[i])?"string"!=typeof o?o.length&&o!==n&&o[0]&&(o[0]===n||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(i--,1),this._targets=a=a.concat(g(o))):(this._siblings[i]=tt(o,this,!1),1===u&&this._siblings[i].length>1&&nt(o,this,null,1,this._siblings[i])):"string"==typeof(o=a[i--]=I.selector(o))&&a.splice(i+1,1):a.splice(i--,1);else this._propLookup={},this._siblings=tt(t,this,!1),1===u&&this._siblings.length>1&&nt(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(Math.min(0,-this._delay)))},!0),D=function(t){return t&&t.length&&t!==n&&t[0]&&(t[0]===n||t[0].nodeType&&t[0].style&&!t.nodeType)};(h=I.prototype=new L).constructor=I,h.kill()._gc=!1,h.ratio=0,h._firstPT=h._targets=h._overwrittenProps=h._startAt=null,h._notifyPluginsOfEnabled=h._lazy=!1,I.version="1.20.3",I.defaultEase=h._ease=new S(null,null,1,1),I.defaultOverwrite="auto",I.ticker=f,I.autoSleep=120,I.lagSmoothing=function(t,e){f.lagSmoothing(t,e)},I.selector=n.$||n.jQuery||function(t){var e=n.$||n.jQuery;return e?(I.selector=e,e(t)):"undefined"==typeof s?t:s.querySelectorAll?s.querySelectorAll(t):s.getElementById("#"===t.charAt(0)?t.substr(1):t)};var U=[],F={},j=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,B=/[\+-]=-?[\.\d]/,z=function(t){for(var e,n=this._firstPT;n;)e=n.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:n.c*t+n.s,n.m?e=n.m(e,this._target||n.t):e<1e-6&&e>-1e-6&&!n.blob&&(e=0),n.f?n.fp?n.t[n.p](n.fp,e):n.t[n.p](e):n.t[n.p]=e,n=n._next},V=function(t,e,n,r){var i,o,a,s,u,l,c,h=[],f=0,p="",d=0;for(h.start=t,h.end=e,t=h[0]=t+"",e=h[1]=e+"",n&&(n(h),t=h[0],e=h[1]),h.length=0,i=t.match(j)||[],o=e.match(j)||[],r&&(r._next=null,r.blob=1,h._firstPT=h._applyPT=r),u=o.length,s=0;s<u;s++)p+=(l=e.substr(f,e.indexOf(c=o[s],f)-f))||!s?l:",",f+=l.length,d?d=(d+1)%5:"rgba("===l.substr(-5)&&(d=1),c===i[s]||i.length<=s?p+=c:(p&&(h.push(p),p=""),a=parseFloat(i[s]),h.push(a),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:a,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-a)||0,f:0,m:d&&d<4?Math.round:0}),f+=c.length;return(p+=e.substr(f))&&h.push(p),h.setRatio=z,B.test(e)&&(h.end=null),h},G=function(t,e,n,r,i,o,a,s,u){"function"==typeof r&&(r=r(u||0,t));var l=typeof t[e],c="function"!==l?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),h="get"!==n?n:c?a?t[c](a):t[c]():t[e],f="string"==typeof r&&"="===r.charAt(1),p={t:t,p:e,s:h,f:"function"===l,pg:0,n:i||e,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:f?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-h||0};if(("number"!=typeof h||"number"!=typeof r&&!f)&&(a||isNaN(h)||!f&&isNaN(r)||"boolean"==typeof h||"boolean"==typeof r?(p.fp=a,p={t:V(h,f?parseFloat(p.s)+p.c:r,s||I.defaultStringFilter,p),p:"setRatio",s:0,c:1,f:2,pg:0,n:i||e,pr:0,m:0}):(p.s=parseFloat(h),f||(p.c=parseFloat(r)-p.s||0))),p.c)return(p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p},H=I._internals={isArray:v,isSelector:D,lazyTweens:U,blobDif:V},W=I._plugins={},X=H.tweenLookup={},q=0,Y=H.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},Z={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},K=L._rootFramesTimeline=new N,Q=L._rootTimeline=new N,J=30,$=H.lazyRender=function(){var t,e=U.length;for(F={};--e>-1;)(t=U[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);U.length=0};Q._startTime=f.time,K._startTime=f.frame,Q._active=K._active=!0,setTimeout($,1),L._updateRoot=I.render=function(){var t,e,n;if(U.length&&$(),Q.render((f.time-Q._startTime)*Q._timeScale,!1,!1),K.render((f.frame-K._startTime)*K._timeScale,!1,!1),U.length&&$(),f.frame>=J){J=f.frame+(parseInt(I.autoSleep,10)||120);for(n in X){for(t=(e=X[n].tweens).length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete X[n]}if((!(n=Q._first)||n._paused)&&I.autoSleep&&!K._first&&1===f._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||f.sleep()}}},f.addEventListener("tick",L._updateRoot);var tt=function(t,e,n){var r,i,o=t._gsTweenID;if(X[o||(t._gsTweenID=o="t"+q++)]||(X[o]={target:t,tweens:[]}),e&&(r=X[o].tweens,r[i=r.length]=e,n))for(;--i>-1;)r[i]===e&&r.splice(i,1);return X[o].tweens},et=function(t,e,n,r){var i,o,a=t.vars.onOverwrite;return a&&(i=a(t,e,n,r)),(a=I.onOverwrite)&&(o=a(t,e,n,r)),!1!==i&&!1!==o},nt=function(t,e,n,r,i){var o,a,s,u;if(1===r||r>=4){for(u=i.length,o=0;o<u;o++)if((s=i[o])!==e)s._gc||s._kill(null,t,e)&&(a=!0);else if(5===r)break;return a}var l,c=e._startTime+1e-10,h=[],f=0,p=0===e._duration;for(o=i.length;--o>-1;)(s=i[o])===e||s._gc||s._paused||(s._timeline!==e._timeline?(l=l||rt(e,0,p),0===rt(s,l,p)&&(h[f++]=s)):s._startTime<=c&&s._startTime+s.totalDuration()/s._timeScale>c&&((p||!s._initted)&&c-s._startTime<=2e-10||(h[f++]=s)));for(o=f;--o>-1;)if(s=h[o],2===r&&s._kill(n,t,e)&&(a=!0),2!==r||!s._firstPT&&s._initted){if(2!==r&&!et(s,e))continue;s._enabled(!1,!1)&&(a=!0)}return a},rt=function(t,e,n){for(var r=t._timeline,i=r._timeScale,o=t._startTime;r._timeline;){if(o+=r._startTime,i*=r._timeScale,r._paused)return-100;r=r._timeline}return(o/=i)>e?o-e:n&&o===e||!t._initted&&o-e<2e-10?1e-10:(o+=t.totalDuration()/t._timeScale/i)>e+1e-10?0:o-e-1e-10};h._init=function(){var t,e,n,r,i,o,a=this.vars,s=this._overwrittenProps,u=this._duration,l=!!a.immediateRender,c=a.ease;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),i={};for(r in a.startAt)i[r]=a.startAt[r];if(i.data="isStart",i.overwrite=!1,i.immediateRender=!0,i.lazy=l&&!1!==a.lazy,i.startAt=i.delay=null,i.onUpdate=a.onUpdate,i.onUpdateParams=a.onUpdateParams,i.onUpdateScope=a.onUpdateScope||a.callbackScope||this,this._startAt=I.to(this.target,0,i),l)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(a.runBackwards&&0!==u)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),n={};for(r in a)Y[r]&&"autoCSS"!==r||(n[r]=a[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=l&&!1!==a.lazy,n.immediateRender=l,this._startAt=I.to(this.target,0,n),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof S?c:"function"==typeof c?new S(c,a.easeParams):E[c]||I.defaultEase:I.defaultEase,a.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,t=0;t<o;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(e&&I._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=a.onUpdate,this._initted=!0},h._initProps=function(t,e,r,i,o){var a,s,u,l,c,h;if(null==t)return!1;F[t._gsTweenID]&&$(),this.vars.css||t.style&&t!==n&&t.nodeType&&W.css&&!1!==this.vars.autoCSS&&function(t,e){var n,r={};for(n in t)Y[n]||n in e&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!W[n]||W[n]&&W[n]._autoCSS)||(r[n]=t[n],delete t[n]);t.css=r}(this.vars,t);for(a in this.vars)if(h=this.vars[a],Y[a])h&&(h instanceof Array||h.push&&v(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[a]=h=this._swapSelfInParams(h,this));else if(W[a]&&(l=new W[a])._onInitTween(t,this.vars[a],this,o)){for(this._firstPT=c={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:l._priority,m:0},s=l._overwriteProps.length;--s>-1;)e[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(u=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),c._next&&(c._next._prev=c)}else e[a]=G.call(this,t,a,"get",h,a,0,null,this.vars.stringFilter,o);return i&&this._kill(i,t)?this._initProps(t,e,r,i,o):this._overwrite>1&&this._firstPT&&r.length>1&&nt(t,this,e,this._overwrite,r)?(this._kill(e,t),this._initProps(t,e,r,i,o)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(F[t._gsTweenID]=!0),u)},h.render=function(t,e,n){var r,i,o,a,s=this._time,u=this._duration,l=this._rawPrevTime;if(t>=u-1e-7&&t>=0)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,i="onComplete",n=n||this._timeline.autoRemoveChildren),0===u&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(l<0||t<=0&&t>=-1e-7||1e-10===l&&"isPause"!==this.data)&&l!==t&&(n=!0,l>1e-10&&(i="onReverseComplete")),this._rawPrevTime=a=!e||t||l===t?t:1e-10);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===u&&l>0)&&(i="onReverseComplete",r=this._reversed),t<0&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||n)&&(l>=0&&(1e-10!==l||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=a=!e||t||l===t?t:1e-10)),(!this._initted||this._startAt&&this._startAt.progress())&&(n=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/u,h=this._easeType,f=this._easePower;(1===h||3===h&&c>=.5)&&(c=1-c),3===h&&(c*=2),1===f?c*=c:2===f?c*=c*c:3===f?c*=c*c*c:4===f&&(c*=c*c*c*c),this.ratio=1===h?1-c:2===h?c:t/u<.5?c/2:1-c/2}else this.ratio=this._ease.getRatio(t/u);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=l,U.push(this),void(this._lazy=[t,e]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/u):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&t>=0&&(this._active=!0),0===s&&(this._startAt&&(t>=0?this._startAt.render(t,!0,n):i||(i="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==u||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,!0,n),e||(this._time!==s||r||n)&&this._callback("onUpdate")),i&&(this._gc&&!n||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,!0,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[i]&&this._callback(i),0===u&&1e-10===this._rawPrevTime&&1e-10!==a&&(this._rawPrevTime=0)))}},h._kill=function(t,e,n){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:I.selector(e)||e;var r,i,o,a,s,u,l,c,h,f=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((v(e)||D(e))&&"number"!=typeof e[0])for(r=e.length;--r>-1;)this._kill(t,e[r],n)&&(u=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(e===this._targets[r]){s=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[r]=t?this._overwrittenProps[r]||{}:"all";break}}else{if(e!==this.target)return!1;s=this._propLookup,i=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(s){if(l=t||s,c=t!==i&&"all"!==i&&t!==s&&("object"!=typeof t||!t._tempKill),n&&(I.onOverwrite||this.vars.onOverwrite)){for(o in l)s[o]&&(h||(h=[]),h.push(o));if((h||!t)&&!et(this,n,e,h))return!1}for(o in l)(a=s[o])&&(f&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,u=!0),a.pg&&a.t._kill(l)&&(u=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),c&&(i[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},h.invalidate=function(){return this._notifyPluginsOfEnabled&&I._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],L.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(Math.min(0,-this._delay))),this},h._enabled=function(t,e){if(p||f.wake(),t&&this._gc){var n,r=this._targets;if(r)for(n=r.length;--n>-1;)this._siblings[n]=tt(r[n],this,!0);else this._siblings=tt(this.target,this,!0)}return L.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&I._onPluginEvent(t?"_onEnable":"_onDisable",this)},I.to=function(t,e,n){return new I(t,e,n)},I.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new I(t,e,n)},I.fromTo=function(t,e,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new I(t,e,r)},I.delayedCall=function(t,e,n,r,i){return new I(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:r,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:i,overwrite:0})},I.set=function(t,e){return new I(t,0,e)},I.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:I.selector(t)||t;var n,r,i,o;if((v(t)||D(t))&&"number"!=typeof t[0]){for(n=t.length,r=[];--n>-1;)r=r.concat(I.getTweensOf(t[n],e));for(n=r.length;--n>-1;)for(o=r[n],i=n;--i>-1;)o===r[i]&&r.splice(n,1)}else if(t._gsTweenID)for(n=(r=tt(t).concat()).length;--n>-1;)(r[n]._gc||e&&!r[n].isActive())&&r.splice(n,1);return r||[]},I.killTweensOf=I.killDelayedCallsTo=function(t,e,n){"object"==typeof e&&(n=e,e=!1);for(var r=I.getTweensOf(t,e),i=r.length;--i>-1;)r[i]._kill(n,t)};var it=x("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=it.prototype},!0);if(h=it.prototype,it.version="1.19.0",it.API=2,h._firstPT=null,h._addTween=G,h.setRatio=z,h._kill=function(t){var e,n=this._overwriteProps,r=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=n.length;--e>-1;)null!=t[n[e]]&&n.splice(e,1);for(;r;)null!=t[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},h._mod=h._roundProps=function(t){for(var e,n=this._firstPT;n;)(e=t[this._propName]||null!=n.n&&t[n.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===n.f?n.t._applyPT.m=e:n.m=e),n=n._next},I._onPluginEvent=function(t,e){var n,r,i,o,a,s=e._firstPT;if("_onInitAllProps"===t){for(;s;){for(a=s._next,r=i;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:o)?s._prev._next=s:i=s,(s._next=r)?r._prev=s:o=s,s=a}s=e._firstPT=i}for(;s;)s.pg&&"function"==typeof s.t[t]&&s.t[t]()&&(n=!0),s=s._next;return n},it.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===it.API&&(W[(new t[e])._propName]=t[e]);return!0},w.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,n=t.propName,r=t.priority||0,i=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=x("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){it.call(this,n,r),this._overwriteProps=i||[]},!0===t.global),s=a.prototype=new it(n);s.constructor=a,a.API=t.API;for(e in o)"function"==typeof t[e]&&(s[o[e]]=t[e]);return a.version=t.version,it.activate([a]),a},l=n._gsQueue){for(c=0;c<l.length;c++)l[c]();for(h in _)_[h].func||n.console.log("GSAP encountered missing dependency: "+h)}p=!1}}("undefined"!=typeof t&&t.exports&&"undefined"!=typeof n?n:this||window)}).call(e,n("fRUx"))},RC4L:function(t,e){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},Ry8D:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6Xbx"),i=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return Object(r.b)(e,t),e}(Error)},RyBE:function(t,e,n){"use strict";function r(){return k}function i(t){k||(k=t)}function o(){return!!window.history.pushState}function a(t,e,n){return function(){n.get(O.ApplicationInitStatus).donePromise.then(function(){var n=r();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}}function s(t,e){"undefined"!=typeof COMPILED&&COMPILED||((O["\u0275global"].ng=O["\u0275global"].ng||{})[t]=e)}function u(t){return Object(O.getDebugNode)(t)}function l(t){return s(Q,u),s(J,Object(L.a)({},K,(t||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return u}}function c(t){return ut.replace(at,t)}function h(t){return st.replace(at,t)}function f(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?f(t,i,n):(i=i.replace(at,t),n.push(i))}return n}function p(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}function d(t,e){if(t.charCodeAt(0)===ht)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}function m(t){return(t=String(t)).match(Ot)||t.match(Lt)?t:(Object(O.isDevMode)()&&r().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function g(t){for(var e={},n=0,r=t.split(",");n<r.length;n++)e[r[n]]=!0;return e}function y(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];for(var a in o)o.hasOwnProperty(a)&&(n[a]=!0)}return n}function v(t,e){if(e&&Nt.contains(t,e))throw new Error("Failed to sanitize html because the element is clobbered: "+Nt.getOuterHTML(t));return e}function _(t){return t.replace(/&/g,"&amp;").replace(Ht,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Wt,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function b(t){Nt.attributeMap(t).forEach(function(e,n){"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||Nt.removeAttribute(t,n)});for(var e=0,n=Nt.childNodesAsList(t);e<n.length;e++){var r=n[e];Nt.isElementNode(r)&&b(r)}}function w(){z.makeCurrent(),Y.init()}function x(){return new O.ErrorHandler}function T(){return document}function S(t){return s(ue,new se(t)),t}function E(){s(ue,null)}function M(t){var e={"&":"&a;",'"':"&q;","'":"&s;","<":"&l;",">":"&g;"};return t.replace(/[&"'<>]/g,function(t){return e[t]})}function A(t){return t}function C(t,e){var n=t.getElementById(e+"-state"),r={};if(n&&n.textContent)try{r=JSON.parse(function(t){var e={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return n.textContent.replace(/&[^;]+;/g,function(t){return e[t]})}())}catch(t){console.warn("Exception while restoring TransferState for app "+e,t)}return le.init(r)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"BrowserModule",function(){return oe}),n.d(e,"platformBrowser",function(){return ie}),n.d(e,"Meta",function(){return W}),n.d(e,"Title",function(){return Z}),n.d(e,"disableDebugTools",function(){return E}),n.d(e,"enableDebugTools",function(){return S}),n.d(e,"BrowserTransferStateModule",function(){return ce}),n.d(e,"TransferState",function(){return le}),n.d(e,"makeStateKey",function(){return A}),n.d(e,"By",function(){return he}),n.d(e,"DOCUMENT",function(){return G}),n.d(e,"EVENT_MANAGER_PLUGINS",function(){return tt}),n.d(e,"EventManager",function(){return et}),n.d(e,"HAMMER_GESTURE_CONFIG",function(){return Et}),n.d(e,"HammerGestureConfig",function(){return Mt}),n.d(e,"DomSanitizer",function(){return Yt}),n.d(e,"VERSION",function(){return fe}),n.d(e,"\u0275BROWSER_SANITIZATION_PROVIDERS",function(){return re}),n.d(e,"\u0275INTERNAL_BROWSER_PLATFORM_PROVIDERS",function(){return ne}),n.d(e,"\u0275initDomAdapter",function(){return w}),n.d(e,"\u0275BrowserDomAdapter",function(){return z}),n.d(e,"\u0275BrowserPlatformLocation",function(){return H}),n.d(e,"\u0275TRANSITION_ID",function(){return X}),n.d(e,"\u0275BrowserGetTestability",function(){return Y}),n.d(e,"\u0275escapeHtml",function(){return M}),n.d(e,"\u0275ELEMENT_PROBE_PROVIDERS",function(){return $}),n.d(e,"\u0275DomAdapter",function(){return N}),n.d(e,"\u0275getDOM",function(){return r}),n.d(e,"\u0275setRootDomAdapter",function(){return i}),n.d(e,"\u0275DomRendererFactory2",function(){return lt}),n.d(e,"\u0275NAMESPACE_URIS",function(){return ot}),n.d(e,"\u0275flattenStyles",function(){return f}),n.d(e,"\u0275shimContentAttribute",function(){return c}),n.d(e,"\u0275shimHostAttribute",function(){return h}),n.d(e,"\u0275DomEventsPlugin",function(){return Tt}),n.d(e,"\u0275HammerGesturesPlugin",function(){return At}),n.d(e,"\u0275KeyEventsPlugin",function(){return Rt}),n.d(e,"\u0275DomSharedStylesHost",function(){return it}),n.d(e,"\u0275SharedStylesHost",function(){return rt}),n.d(e,"\u0275b",function(){return T}),n.d(e,"\u0275a",function(){return x}),n.d(e,"\u0275i",function(){return I}),n.d(e,"\u0275g",function(){return q}),n.d(e,"\u0275f",function(){return a}),n.d(e,"\u0275c",function(){return C}),n.d(e,"\u0275h",function(){return l}),n.d(e,"\u0275d",function(){return nt}),n.d(e,"\u0275e",function(){return Zt});var P,R=n("Un6q"),O=n("LMZF"),L=n("6Xbx"),k=null,N=function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}(),I=function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(L.b)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(N),D={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},U={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},F={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};O["\u0275global"].Node&&(P=O["\u0275global"].Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var j,B,z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(L.b)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){i(new e)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){(r=t)[e].apply(r,n);var r},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return D},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return P.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&F.hasOwnProperty(e)&&(e=F[e]))}return U[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e=V||(V=document.querySelector("base"))?V.getAttribute("href"):null;return null==e?null:function(t){return j||(j=document.createElement("a")),j.setAttribute("href",t),"/"===j.pathname.charAt(0)?j.pathname:"/"+j.pathname}(e)},e.prototype.resetBaseElement=function(){V=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(R["\u0275parseCookieValue"])(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(I),V=null,G=R.DOCUMENT,H=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(L.b)(e,t),e.prototype._init=function(){this.location=r().getLocation(),this._history=r().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return r().getBaseHref(this._doc)},e.prototype.onPopState=function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){o()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){o()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:O.Inject,args:[G]}]}]},e}(R.PlatformLocation),W=function(){function t(t){this._doc=t,this._dom=r()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t?this._dom.querySelector(this._doc,"meta["+t+"]")||null:null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),r=this.getTag(n);if(r&&this._containsAttributes(t,r))return r}var i=this._dom.createElement("meta");this._setMetaElementAttributes(t,i);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,i),i},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t}(),X=new O.InjectionToken("TRANSITION_ID"),q=[{provide:O.APP_INITIALIZER,useFactory:a,deps:[X,G,O.Injector],multi:!0}],Y=function(){function t(){}return t.init=function(){Object(O.setTestabilityGetter)(new t)},t.prototype.addToWindow=function(t){O["\u0275global"].getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},O["\u0275global"].getAllAngularTestabilities=function(){return t.getAllTestabilities()},O["\u0275global"].getAllAngularRootElements=function(){return t.getAllRootElements()},O["\u0275global"].frameworkStabilizers||(O["\u0275global"].frameworkStabilizers=[]),O["\u0275global"].frameworkStabilizers.push(function(t){var e=O["\u0275global"].getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?r().isShadowRoot(e)?this.findTestabilityInTree(t,r().getHost(e),!0):this.findTestabilityInTree(t,r().parentElement(e),!0):null},t}(),Z=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return r().getTitle(this._doc)},t.prototype.setTitle=function(t){r().setTitle(this._doc,t)},t}(),K={ApplicationRef:O.ApplicationRef,NgZone:O.NgZone},Q="probe",J="coreTokens",$=[{provide:O.APP_INITIALIZER,useFactory:l,deps:[[O.NgProbeToken,new O.Optional]],multi:!0}],tt=new O.InjectionToken("EventManagerPlugins"),et=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),nt=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var i=r().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target "+i+" for event "+e);return this.addEventListener(i,e,n)},t}(),rt=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),it=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(L.b)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return r().remove(t)})},e}(rt),ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},at=/%COMP%/g,st="_nghost-%COMP%",ut="_ngcontent-%COMP%",lt=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new ct(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case O.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new ft(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case O.ViewEncapsulation.Native:return new pt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=f(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),ct=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(ot[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=ot[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=ot[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&O.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,r&O.RendererStyleFlags2.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&O.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){d(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return d(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,p(n)):this.eventManager.addEventListener(t,e,p(n))},t}(),ht="@".charCodeAt(0),ft=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=f(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=c(r.id),i.hostAttr=h(r.id),i}return Object(L.b)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(ct),pt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=f(i.id,i.styles,[]),s=0;s<a.length;s++){var u=document.createElement("style");u.textContent=a[s],o.shadowRoot.appendChild(u)}return o}return Object(L.b)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(ct),dt="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},mt=dt("addEventListener"),gt=dt("removeEventListener"),yt={},vt="removeEventListener",_t="__zone_symbol__propagationStopped",bt="__zone_symbol__stopImmediatePropagation";"undefined"!=typeof Zone&&Zone[dt("BLACK_LISTED_EVENTS")]&&(B={});var wt=function(t){return!!B&&B.hasOwnProperty(t)},xt=function(t){var e=yt[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[_t];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Tt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.ngZone=n,r.patchEvent(),r}return Object(L.b)(e,t),e.prototype.patchEvent=function(){if(Event&&Event.prototype&&!Event.prototype[bt]){var t=Event.prototype[bt]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[_t]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=n;if(!t[mt]||O.NgZone.isInAngularZone()&&!wt(e))t.addEventListener(e,i,!1);else{var o=yt[e];o||(o=yt[e]=dt("ANGULAR"+e+"FALSE"));var a=t[o],s=a&&a.length>0;a||(a=t[o]=[]);var u=wt(e)?Zone.root:Zone.current;if(0===a.length)a.push({zone:u,handler:i});else{for(var l=!1,c=0;c<a.length;c++)if(a[c].handler===i){l=!0;break}l||a.push({zone:u,handler:i})}s||t[mt](e,xt,!1)}return function(){return r.removeEventListener(t,e,i)}},e.prototype.removeEventListener=function(t,e,n){var r=t[gt];if(!r)return t[vt].apply(t,[e,n,!1]);var i=yt[e],o=i&&t[i];if(!o)return t[vt].apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,xt,!1]):t[vt].apply(t,[e,n,!1])},e}(nt),St={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Et=new O.InjectionToken("HammerGestureConfig"),Mt=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(var n in this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),At=function(t){function e(e,n){var r=t.call(this,e)||this;return r._config=n,r}return Object(L.b)(e,t),e.prototype.supports=function(t){if(!St.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();return e=e.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){return o.off(e,a)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(nt),Ct=["alt","control","meta","shift"],Pt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Rt=function(t){function e(e){return t.call(this,e)||this}return Object(L.b)(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,i){var o=e.parseEventName(n),a=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return r().onAndCancel(t,o.domEventName,a)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(Ct.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=r().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Ct.forEach(function(r){r!=n&&(0,Pt[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded(function(){return n(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(nt),Ot=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Lt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,kt=null,Nt=null,It=g("area,br,col,hr,img,wbr"),Dt=g("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ut=g("rp,rt"),Ft=y(Ut,Dt),jt=y(It,y(Dt,g("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),y(Ut,g("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ft),Bt=g("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zt=g("srcset"),Vt=y(Bt,zt,g("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),Gt=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(Nt.isElementNode(e)?this.startElement(e):Nt.isTextNode(e)?this.chars(Nt.nodeValue(e)):this.sanitizedSomething=!0,Nt.firstChild(e))e=Nt.firstChild(e);else for(;e;){Nt.isElementNode(e)&&this.endElement(e);var n=v(e,Nt.nextSibling(e));if(n){e=n;break}e=v(e,Nt.parentElement(e))}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,n=Nt.nodeName(t).toLowerCase();jt.hasOwnProperty(n)?(this.buf.push("<"),this.buf.push(n),Nt.attributeMap(t).forEach(function(t,n){var r=n.toLowerCase();Vt.hasOwnProperty(r)?(Bt[r]&&(t=m(t)),zt[r]&&(t=function(t){return(t=String(t)).split(",").map(function(t){return m(t.trim())}).join(", ")}(t)),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(_(t)),e.buf.push('"')):e.sanitizedSomething=!0}),this.buf.push(">")):this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=Nt.nodeName(t).toLowerCase();jt.hasOwnProperty(e)&&!It.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(_(t))},t}(),Ht=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wt=/([^\#-~ |!])/g,Xt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),qt=/^url\(([^)]+)\)$/,Yt=function(){},Zt=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(L.b)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case O.SecurityContext.NONE:return e;case O.SecurityContext.HTML:return e instanceof Qt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){try{var n=function(){if(kt)return kt;var t=(Nt=r()).createElement("template");if("content"in t)return t;var e=Nt.createHtmlDocument();if(null==(kt=Nt.querySelector(e,"body"))){var n=Nt.createElement("html",e);kt=Nt.createElement("body",e),Nt.appendChild(n,kt),Nt.appendChild(e,n)}return kt}(),i=e?String(e):"",o=5,a=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,Nt.setInnerHTML(n,i=a),t.documentMode&&b(n),a=Nt.getInnerHTML(n)}while(i!==a);for(var s=new Gt,u=s.sanitizeChildren(Nt.getTemplateContent(n)||n),l=Nt.getTemplateContent(n)||n,c=0,h=Nt.childNodesAsList(l);c<h.length;c++)Nt.removeChild(l,h[c]);return Object(O.isDevMode)()&&s.sanitizedSomething&&Nt.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),u}catch(t){throw kt=null,t}}(this._doc,String(e)));case O.SecurityContext.STYLE:return e instanceof Jt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(qt);return e&&m(e[1])===e[1]||t.match(Xt)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Object(O.isDevMode)()&&r().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case O.SecurityContext.SCRIPT:if(e instanceof $t)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case O.SecurityContext.URL:return e instanceof ee||e instanceof te?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),m(String(e)));case O.SecurityContext.RESOURCE_URL:if(e instanceof ee)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof Kt)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Qt(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new Jt(t)},e.prototype.bypassSecurityTrustScript=function(t){return new $t(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new te(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new ee(t)},e}(Yt),Kt=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(L.b)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(Kt),Jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(L.b)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(Kt),$t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(L.b)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(Kt),te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(L.b)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(Kt),ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(L.b)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(Kt),ne=[{provide:O.PLATFORM_ID,useValue:R["\u0275PLATFORM_BROWSER_ID"]},{provide:O.PLATFORM_INITIALIZER,useValue:w,multi:!0},{provide:R.PlatformLocation,useClass:H,deps:[G]},{provide:G,useFactory:T,deps:[]}],re=[{provide:O.Sanitizer,useExisting:Yt},{provide:Yt,useClass:Zt,deps:[G]}],ie=Object(O.createPlatformFactory)(O.platformCore,"browser",ne),oe=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:O.APP_ID,useValue:e.appId},{provide:X,useExisting:O.APP_ID},q]}},t}(),ae="undefined"!=typeof window&&window||{},se=function(){function t(t){this.appRef=t.injector.get(O.ApplicationRef)}return t.prototype.timeChangeDetection=function(t){var e=t&&t.record,n=null!=ae.console.profile;e&&n&&ae.console.profile("Change Detection");for(var i=r().performanceNow(),o=0;o<5||r().performanceNow()-i<500;)this.appRef.tick(),o++;var a=r().performanceNow();e&&n&&ae.console.profileEnd("Change Detection");var s=(a-i)/o;return ae.console.log("ran "+o+" change detection cycles"),ae.console.log(s.toFixed(2)+" ms per check"),new function(t,e){this.msPerTick=t,this.numTicks=e}(s,o)},t}(),ue="profiler",le=function(){function t(){this.store={},this.onSerializeCallbacks={}}return t.init=function(e){var n=new t;return n.store=e,n},t.prototype.get=function(t,e){return this.store[t]||e},t.prototype.set=function(t,e){this.store[t]=e},t.prototype.remove=function(t){delete this.store[t]},t.prototype.hasKey=function(t){return this.store.hasOwnProperty(t)},t.prototype.onSerialize=function(t,e){this.onSerializeCallbacks[t]=e},t.prototype.toJson=function(){for(var t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(t){console.warn("Exception in onSerialize callback: ",t)}return JSON.stringify(this.store)},t}(),ce=function(){},he=function(){function t(){}return t.all=function(){return function(t){return!0}},t.css=function(t){return function(e){return null!=e.nativeElement&&r().elementMatches(e.nativeElement,t)}},t.directive=function(t){return function(e){return-1!==e.providerTokens.indexOf(t)}},t}(),fe=new O.Version("5.1.0")},TO51:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("6Xbx"),i=n("AP4T"),o=n("E9/g"),a=n("qLnt"),s=n("Upor"),u=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return Object(r.b)(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(a.a),l=n("V7AE");n.d(e,"SubjectSubscriber",function(){return c}),n.d(e,"Subject",function(){return h}),n.d(e,"AnonymousSubject",function(){return f});var c=function(t){function e(e){t.call(this,e),this.destination=e}return Object(r.b)(e,t),e}(o.a),h=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return Object(r.b)(e,t),e.prototype[l.a]=function(){return new c(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new u(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(i.a),f=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return Object(r.b)(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(h)},URbD:function(t,e,n){"use strict";function r(){return function(t){return t.lift(new c(t))}}function i(){return new a.Subject}var o=n("6Xbx"),a=n("TO51"),s=n("AP4T"),u=n("E9/g"),l=n("qLnt"),c=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new h(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),h=function(t){function e(e,n){t.call(this,e),this.connectable=n}return Object(o.b)(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(u.a),f=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return Object(o.b)(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new l.a).add(this.source.subscribe(new d(this.getSubject(),this))),t.closed?(this._connection=null,t=l.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return r()(this)},e}(s.a).prototype,p={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:f._subscribe},_isComplete:{value:f._isComplete,writable:!0},getSubject:{value:f.getSubject},connect:{value:f.connect},refCount:{value:f.refCount}},d=function(t){function e(e,n){t.call(this,e),this.connectable=n}return Object(o.b)(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(a.SubjectSubscriber);e.a=function(){return function(t){return r()(function(t,e){return function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,p);return r.source=e,r.subjectFactory=n,r}}(i)(t))}(this)}},Un6q:function(t,e,n){"use strict";function r(t){return t.replace(/\/index.html$/,"")}function i(t,e,n){"string"!=typeof e&&(n=e,e=t[0]),e=e.toLowerCase().replace(/_/g,"-"),mt[e]=t,n&&(mt[e][18]=n)}function o(t){return E(t)[0]}function a(t,e,n){var r=E(t);return T(T([r[1],r[2]],e),n)}function s(t,e,n){var r=E(t);return T(T([r[3],r[4]],e),n)}function u(t,e,n){var r=E(t);return T(T([r[5],r[6]],e),n)}function l(t,e){return T(E(t)[7],e)}function c(t){return E(t)[8]}function h(t){return E(t)[9]}function f(t,e){return E(t)[10][e]}function p(t,e){return E(t)[11][e]}function d(t,e){return T(E(t)[12],e)}function m(t,e){var n=E(t),r=n[13][e];if("undefined"==typeof r){if(e===wt.CurrencyDecimal)return n[13][wt.Decimal];if(e===wt.CurrencyGroup)return n[13][wt.Group]}return r}function g(t,e){return E(t)[14][e]}function y(t){return E(t)[15]||null}function v(t){return E(t)[16]||null}function _(t){return E(t)[17]}function b(t){if(!t[18])throw new Error('Missing extra locale data for the locale "'+t[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function w(t){var e=E(t);return b(e),(e[18][2]||[]).map(function(t){return"string"==typeof t?S(t):[S(t[0]),S(t[1])]})}function x(t,e,n){var r=E(t);return b(r),T(T([r[18][0],r[18][1]],e)||[],n)||[]}function T(t,e){for(var n=e;n>-1;n--)if("undefined"!=typeof t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function S(t){var e=t.split(":");return{hours:+e[0],minutes:+e[1]}}function E(t){var e=t.toLowerCase().replace(/_/g,"-"),n=mt[e];if(n)return n;var r=e.split("-")[0];if(n=mt[r])return n;if("en"===r)return dt;throw new Error('Missing locale data for the locale "'+t+'".')}function M(t,e,n,r){var i="="+t;if(e.indexOf(i)>-1)return i;if(i=n.getPluralCategory(t,r),e.indexOf(i)>-1)return i;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}function A(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,a=parseInt(r,10),s=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?yt.One:yt.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?yt.One:yt.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?yt.One:yt.Other;case"ar":return 0===n?yt.Zero:1===n?yt.One:2===n?yt.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?yt.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?yt.Many:yt.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?yt.One:yt.Other;case"be":return n%10==1&&n%100!=11?yt.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?yt.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?yt.Many:yt.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?yt.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?yt.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?yt.Few:0!==n&&n%1e6==0?yt.Many:yt.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||a%10==1&&a%100!=11?yt.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||a%10===Math.floor(a%10)&&a%10>=2&&a%10<=4&&!(a%100>=12&&a%100<=14)?yt.Few:yt.Other;case"cs":case"sk":return 1===i&&0===o?yt.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?yt.Few:0!==o?yt.Many:yt.Other;case"cy":return 0===n?yt.Zero:1===n?yt.One:2===n?yt.Two:3===n?yt.Few:6===n?yt.Many:yt.Other;case"da":return 1===n||0!==s&&(0===i||1===i)?yt.One:yt.Other;case"dsb":case"hsb":return 0===o&&i%100==1||a%100==1?yt.One:0===o&&i%100==2||a%100==2?yt.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||a%100===Math.floor(a%100)&&a%100>=3&&a%100<=4?yt.Few:yt.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?yt.One:yt.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&a%10!=4&&a%10!=6&&a%10!=9?yt.One:yt.Other;case"ga":return 1===n?yt.One:2===n?yt.Two:n===Math.floor(n)&&n>=3&&n<=6?yt.Few:n===Math.floor(n)&&n>=7&&n<=10?yt.Many:yt.Other;case"gd":return 1===n||11===n?yt.One:2===n||12===n?yt.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?yt.Few:yt.Other;case"gv":return 0===o&&i%10==1?yt.One:0===o&&i%10==2?yt.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?yt.Many:yt.Other:yt.Few;case"he":return 1===i&&0===o?yt.One:2===i&&0===o?yt.Two:0!==o||n>=0&&n<=10||n%10!=0?yt.Other:yt.Many;case"is":return 0===s&&i%10==1&&i%100!=11||0!==s?yt.One:yt.Other;case"ksh":return 0===n?yt.Zero:1===n?yt.One:yt.Other;case"kw":case"naq":case"se":case"smn":return 1===n?yt.One:2===n?yt.Two:yt.Other;case"lag":return 0===n?yt.Zero:0!==i&&1!==i||0===n?yt.Other:yt.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?yt.Few:0!==a?yt.Many:yt.Other:yt.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&a%100===Math.floor(a%100)&&a%100>=11&&a%100<=19?yt.Zero:n%10==1&&n%100!=11||2===o&&a%10==1&&a%100!=11||2!==o&&a%10==1?yt.One:yt.Other;case"mk":return 0===o&&i%10==1||a%10==1?yt.One:yt.Other;case"mt":return 1===n?yt.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?yt.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?yt.Many:yt.Other;case"pl":return 1===i&&0===o?yt.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?yt.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?yt.Many:yt.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?yt.One:yt.Other;case"ro":return 1===i&&0===o?yt.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?yt.Few:yt.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?yt.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?yt.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?yt.Many:yt.Other;case"shi":return 0===i||1===n?yt.One:n===Math.floor(n)&&n>=2&&n<=10?yt.Few:yt.Other;case"si":return 0===n||1===n||0===i&&1===a?yt.One:yt.Other;case"sl":return 0===o&&i%100==1?yt.One:0===o&&i%100==2?yt.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?yt.Few:yt.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?yt.One:yt.Other;default:return yt.Other}}function C(t,e){e=encodeURIComponent(e);for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],o=i.indexOf("="),a=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],s=a[1];if(a[0].trim()===e)return decodeURIComponent(s)}return null}function P(t,e){var n=o(t);if(Vt[n]=Vt[n]||{},Vt[n][e])return Vt[n][e];var r="";switch(e){case"shortDate":r=f(t,bt.Short);break;case"mediumDate":r=f(t,bt.Medium);break;case"longDate":r=f(t,bt.Long);break;case"fullDate":r=f(t,bt.Full);break;case"shortTime":r=p(t,bt.Short);break;case"mediumTime":r=p(t,bt.Medium);break;case"longTime":r=p(t,bt.Long);break;case"fullTime":r=p(t,bt.Full);break;case"short":var i=P(t,"shortTime"),a=P(t,"shortDate");r=R(d(t,bt.Short),[i,a]);break;case"medium":var s=P(t,"mediumTime"),u=P(t,"mediumDate");r=R(d(t,bt.Medium),[s,u]);break;case"long":var l=P(t,"longTime"),c=P(t,"longDate");r=R(d(t,bt.Long),[l,c]);break;case"full":var h=P(t,"fullTime"),m=P(t,"fullDate");r=R(d(t,bt.Full),[h,m])}return r&&(Vt[n][e]=r),r}function R(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function O(t,e,n,r,i){void 0===n&&(n="-");var o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=""+t;a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function L(t,e,n,r,i){return void 0===n&&(n=0),void 0===r&&(r=!1),void 0===i&&(i=!1),function(o,a){var s=function(t,e,n){switch(t){case Wt.FullYear:return e.getFullYear();case Wt.Month:return e.getMonth();case Wt.Date:return e.getDate();case Wt.Hours:return e.getHours();case Wt.Minutes:return e.getMinutes();case Wt.Seconds:return e.getSeconds();case Wt.Milliseconds:var r=1===n?100:2===n?10:1;return Math.round(e.getMilliseconds()/r);case Wt.Day:return e.getDay();default:throw new Error('Unknown DateType value "'+t+'".')}}(t,o,e);return(n>0||s>-n)&&(s+=n),t===Wt.Hours&&0===s&&-12===n&&(s=12),O(s,e,m(a,wt.MinusSign),r,i)}}function k(t,e,n,r){return void 0===n&&(n=vt.Format),void 0===r&&(r=!1),function(i,o){return function(e,n,r,i,o,c){switch(t){case Xt.Months:return u(n,o,i)[e.getMonth()];case Xt.Days:return s(n,o,i)[e.getDay()];case Xt.DayPeriods:var h=e.getHours(),f=e.getMinutes();if(c){var p,d=w(n),m=x(n,o,i);if(d.forEach(function(t,e){if(Array.isArray(t)){var n=t[0],r=t[1],i=r.hours;h>=n.hours&&f>=n.minutes&&(h<i||h===i&&f<r.minutes)&&(p=m[e])}else t.hours===h&&t.minutes===f&&(p=m[e])}),p)return p}return a(n,o,i)[h<12?0:1];case Xt.Eras:return l(n,i)[e.getFullYear()<=0?0:1]}}(i,o,0,e,n,r)}}function N(t){return function(e,n,r){var i=-1*r,o=m(n,wt.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Ht.Short:return(i>=0?"+":"")+O(a,2,o)+O(Math.abs(i%60),2,o);case Ht.ShortGMT:return"GMT"+(i>=0?"+":"")+O(a,1,o);case Ht.Long:return"GMT"+(i>=0?"+":"")+O(a,2,o)+":"+O(Math.abs(i%60),2,o);case Ht.Extended:return 0===r?"Z":(i>=0?"+":"")+O(a,2,o)+":"+O(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'+t+'"')}}}function I(t,e){return void 0===e&&(e=!1),function(n,r){var i;if(e){var o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+o)/7)}else{var s=function(t){var e=new Date(t,qt,1).getDay();return new Date(t,0,1+(e<=Yt?Yt:Yt+7)-e)}(n.getFullYear()),u=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(Yt-t.getDay()))}(n).getTime()-s.getTime();i=1+Math.round(u/6048e5)}return O(i,t,m(r,wt.MinusSign))}}function D(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function U(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Object(it["\u0275stringify"])(t)+"'")}function F(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=+(t[9]+t[10]),r=+(t[9]+t[11])),(t[8]?e.setUTCFullYear:e.setFullYear).call(e,+t[1],+t[2]-1,+t[3]);var o=+(t[4]||"0")-n,a=+(t[5]||"0")-r,s=+(t[6]||"0"),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return i.call(e,o,a,s,u),e}function j(t){return t instanceof Date&&!isNaN(t.valueOf())}function B(t){return function(e,n){var r=t(e,n);return 1==r.length?"0"+r:r}}function z(t){return function(e,n){return t(e,n).split(" ")[0]}}function V(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function G(t){var e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var r=V(t,n,e);return r?r.substring(3):""}}function H(t,e){return t.hour12=e,t}function W(t,e){return function(){var n={};return n[t]=2===e?"2-digit":"numeric",n}()}function X(t,e){var n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function q(t){return t.reduce(function(t,e){return Object(ot.a)({},t,e)},{})}function Y(t){return function(e,n){return V(e,n,t)}}function Z(t){return t instanceof Date&&!isNaN(t.valueOf())}function K(t,e,n,r,i){void 0===i&&(i=null);var o,a={str:null},s=g(e,n);if("string"!=typeof t||isNaN(+t-parseFloat(t))){if("number"!=typeof t)return a.error=t+" is not a number",a;o=t}else o=+t;n===gt.Percent&&(o*=100);var u=Math.abs(o)+"",l=function(t,e){void 0===e&&(e="-");var n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(le),i=r[0],o=r[1],a=-1!==i.indexOf(se)?i.split(se):[i.substring(0,i.lastIndexOf(ue)+1),i.substring(i.lastIndexOf(ue)+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf(he));for(var l=0;l<u.length;l++){var c=u.charAt(l);c===ue?n.minFrac=n.maxFrac=l+1:c===he?n.maxFrac=l+1:n.posSuf+=c}var h=s.split(ce);if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var f=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(he);n.negPre=o.substr(0,p).replace(/'/g,""),n.negSuf=o.substr(p+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(s,m(e,wt.MinusSign)),c="",h=!1;if(isFinite(o)){var f=function(t){var e,n,r,i,o,a=0;for((n=t.indexOf(se))>-1&&(t=t.replace(se,"")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charAt(r)===ue;r++);if(r===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===ue;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=+t.charAt(r)}return n>ae&&(e=e.splice(0,ae-1),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(u),p=l.minInt,d=l.minFrac,y=l.maxFrac;if(r){var v=r.match(oe);if(null===v)return a.error=r+" is not a valid digit info",a;var _=v[1],b=v[3],w=v[5];null!=_&&(p=Q(_)),null!=b&&(d=Q(b)),null!=w?y=Q(w):null!=b&&d>y&&(y=d)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction ("+e+") is higher than the maximum ("+n+").");var r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),a=o+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var l=1;l<a;l++)r[l]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=r.reduceRight(function(t,e,n,r){return e+=t,r[n]=e%10,Math.floor(e/10)},0);h&&(r.unshift(h),t.integerLen++)}(f,d,y);var x=f.digits,T=f.integerLen,S=f.exponent,E=[];for(h=x.every(function(t){return!t});T<p;T++)x.unshift(0);for(;T<0;T++)x.unshift(0);T>0?E=x.splice(T,x.length):(E=x,x=[0]);var M=[];for(x.length>=l.lgSize&&M.unshift(x.splice(-l.lgSize,x.length).join(""));x.length>l.gSize;)M.unshift(x.splice(-l.gSize,x.length).join(""));x.length&&M.unshift(x.join("")),c=M.join(m(e,i?wt.CurrencyGroup:wt.Group)),E.length&&(c+=m(e,i?wt.CurrencyDecimal:wt.Decimal)+E.join("")),S&&(c+=m(e,wt.Exponential)+"+"+S)}else c=m(e,wt.Infinity);return c=o<0&&!h?l.negPre+c+l.negSuf:l.posPre+c+l.posSuf,n===gt.Currency&&null!==i?(a.str=c.replace(fe,i).replace(fe,""),a):n===gt.Percent?(a.str=c.replace(new RegExp(pe,"g"),m(e,wt.PercentSign)),a):(a.str=c,a)}function Q(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function J(t,e,n,r,i,o,a){if(void 0===o&&(o=null),void 0===a&&(a=!1),null==n)return null;if("number"!=typeof(n="string"!=typeof n||isNaN(+n-parseFloat(n))?n:+n))throw U(t,n);var s,u,l;if(r!==gt.Currency&&(s=1,u=0,l=3),i){var c=i.match(oe);if(null===c)throw new Error(i+" is not a valid digit info for number pipes");null!=c[1]&&(s=Q(c[1])),null!=c[3]&&(u=Q(c[3])),null!=c[5]&&(l=Q(c[5]))}return Jt.format(n,e,r,{minimumIntegerDigits:s,minimumFractionDigits:u,maximumFractionDigits:l,currency:o,currencyAsSymbol:a})}function $(t){return null==t||""===t||t!=t}function tt(t){return t===Ue}function et(t){return t===Fe}function nt(t){return t===je}function rt(t){return t===Be}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"NgLocaleLocalization",function(){return Et}),n.d(e,"NgLocalization",function(){return St}),n.d(e,"registerLocaleData",function(){return i}),n.d(e,"Plural",function(){return yt}),n.d(e,"NumberFormatStyle",function(){return gt}),n.d(e,"FormStyle",function(){return vt}),n.d(e,"TranslationWidth",function(){return _t}),n.d(e,"FormatWidth",function(){return bt}),n.d(e,"NumberSymbol",function(){return wt}),n.d(e,"WeekDay",function(){return xt}),n.d(e,"getLocaleDayPeriods",function(){return a}),n.d(e,"getLocaleDayNames",function(){return s}),n.d(e,"getLocaleMonthNames",function(){return u}),n.d(e,"getLocaleId",function(){return o}),n.d(e,"getLocaleEraNames",function(){return l}),n.d(e,"getLocaleWeekEndRange",function(){return h}),n.d(e,"getLocaleFirstDayOfWeek",function(){return c}),n.d(e,"getLocaleDateFormat",function(){return f}),n.d(e,"getLocaleDateTimeFormat",function(){return d}),n.d(e,"getLocaleExtraDayPeriodRules",function(){return w}),n.d(e,"getLocaleExtraDayPeriods",function(){return x}),n.d(e,"getLocalePluralCase",function(){return _}),n.d(e,"getLocaleTimeFormat",function(){return p}),n.d(e,"getLocaleNumberSymbol",function(){return m}),n.d(e,"getLocaleNumberFormat",function(){return g}),n.d(e,"getLocaleCurrencyName",function(){return v}),n.d(e,"getLocaleCurrencySymbol",function(){return y}),n.d(e,"CURRENCIES",function(){return pt}),n.d(e,"\u0275parseCookieValue",function(){return C}),n.d(e,"CommonModule",function(){return Ne}),n.d(e,"DeprecatedI18NPipesModule",function(){return Ie}),n.d(e,"NgClass",function(){return Mt}),n.d(e,"NgForOf",function(){return Pt}),n.d(e,"NgForOfContext",function(){return Ct}),n.d(e,"NgIf",function(){return Ot}),n.d(e,"NgIfContext",function(){return Lt}),n.d(e,"NgPlural",function(){return Ut}),n.d(e,"NgPluralCase",function(){return Ft}),n.d(e,"NgStyle",function(){return jt}),n.d(e,"NgSwitch",function(){return Nt}),n.d(e,"NgSwitchCase",function(){return It}),n.d(e,"NgSwitchDefault",function(){return Dt}),n.d(e,"NgTemplateOutlet",function(){return Bt}),n.d(e,"NgComponentOutlet",function(){return At}),n.d(e,"DOCUMENT",function(){return De}),n.d(e,"AsyncPipe",function(){return we}),n.d(e,"DatePipe",function(){return Qt}),n.d(e,"I18nPluralPipe",function(){return Me}),n.d(e,"I18nSelectPipe",function(){return Ae}),n.d(e,"JsonPipe",function(){return Ce}),n.d(e,"LowerCasePipe",function(){return xe}),n.d(e,"CurrencyPipe",function(){return Oe}),n.d(e,"DecimalPipe",function(){return Pe}),n.d(e,"PercentPipe",function(){return Re}),n.d(e,"SlicePipe",function(){return Le}),n.d(e,"UpperCasePipe",function(){return Se}),n.d(e,"TitleCasePipe",function(){return Te}),n.d(e,"DeprecatedDatePipe",function(){return ie}),n.d(e,"DeprecatedCurrencyPipe",function(){return ge}),n.d(e,"DeprecatedDecimalPipe",function(){return de}),n.d(e,"DeprecatedPercentPipe",function(){return me}),n.d(e,"\u0275PLATFORM_BROWSER_ID",function(){return Ue}),n.d(e,"\u0275PLATFORM_SERVER_ID",function(){return Fe}),n.d(e,"\u0275PLATFORM_WORKER_APP_ID",function(){return je}),n.d(e,"\u0275PLATFORM_WORKER_UI_ID",function(){return Be}),n.d(e,"isPlatformBrowser",function(){return tt}),n.d(e,"isPlatformServer",function(){return et}),n.d(e,"isPlatformWorkerApp",function(){return nt}),n.d(e,"isPlatformWorkerUi",function(){return rt}),n.d(e,"VERSION",function(){return ze}),n.d(e,"PlatformLocation",function(){return at}),n.d(e,"LOCATION_INITIALIZED",function(){return st}),n.d(e,"LocationStrategy",function(){return ut}),n.d(e,"APP_BASE_HREF",function(){return lt}),n.d(e,"HashLocationStrategy",function(){return ht}),n.d(e,"PathLocationStrategy",function(){return ft}),n.d(e,"Location",function(){return ct}),n.d(e,"\u0275e",function(){return zt}),n.d(e,"\u0275d",function(){return E}),n.d(e,"\u0275a",function(){return Tt}),n.d(e,"\u0275b",function(){return A}),n.d(e,"\u0275g",function(){return ye}),n.d(e,"\u0275f",function(){return ke});var it=n("LMZF"),ot=n("6Xbx"),at=function(){},st=new it.InjectionToken("Location Initialized"),ut=function(){},lt=new it.InjectionToken("appBaseHref"),ct=function(){function t(e){var n=this;this._subject=new it.EventEmitter,this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(r(i)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,r(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}(),ht=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(ot.b)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=ct.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+ct.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+ct.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(ut),ft=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(ot.b)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return ct.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+ct.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+ct.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+ct.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(ut),pt={AOA:[,"Kz"],ARS:[,"$"],AUD:["A$","$"],BAM:[,"KM"],BBD:[,"$"],BDT:[,"\u09f3"],BMD:[,"$"],BND:[,"$"],BOB:[,"Bs"],BRL:["R$"],BSD:[,"$"],BWP:[,"P"],BYN:[,"\u0440."],BZD:[,"$"],CAD:["CA$","$"],CLP:[,"$"],CNY:["CN\xa5","\xa5"],COP:[,"$"],CRC:[,"\u20a1"],CUC:[,"$"],CUP:[,"$"],CZK:[,"K\u010d"],DKK:[,"kr"],DOP:[,"$"],EGP:[,"E\xa3"],ESP:[,"\u20a7"],EUR:["\u20ac"],FJD:[,"$"],FKP:[,"\xa3"],GBP:["\xa3"],GEL:[,"\u20be"],GIP:[,"\xa3"],GNF:[,"FG"],GTQ:[,"Q"],GYD:[,"$"],HKD:["HK$","$"],HNL:[,"L"],HRK:[,"kn"],HUF:[,"Ft"],IDR:[,"Rp"],ILS:["\u20aa"],INR:["\u20b9"],ISK:[,"kr"],JMD:[,"$"],JPY:["\xa5"],KHR:[,"\u17db"],KMF:[,"CF"],KPW:[,"\u20a9"],KRW:["\u20a9"],KYD:[,"$"],KZT:[,"\u20b8"],LAK:[,"\u20ad"],LBP:[,"L\xa3"],LKR:[,"Rs"],LRD:[,"$"],LTL:[,"Lt"],LVL:[,"Ls"],MGA:[,"Ar"],MMK:[,"K"],MNT:[,"\u20ae"],MUR:[,"Rs"],MXN:["MX$","$"],MYR:[,"RM"],NAD:[,"$"],NGN:[,"\u20a6"],NIO:[,"C$"],NOK:[,"kr"],NPR:[,"Rs"],NZD:["NZ$","$"],PHP:[,"\u20b1"],PKR:[,"Rs"],PLN:[,"z\u0142"],PYG:[,"\u20b2"],RON:[,"lei"],RUB:[,"\u20bd"],RUR:[,"\u0440."],RWF:[,"RF"],SBD:[,"$"],SEK:[,"kr"],SGD:[,"$"],SHP:[,"\xa3"],SRD:[,"$"],SSP:[,"\xa3"],STD:[,"Db"],SYP:[,"\xa3"],THB:[,"\u0e3f"],TOP:[,"T$"],TRY:[,"\u20ba"],TTD:[,"$"],TWD:["NT$","$"],UAH:[,"\u20b4"],USD:["$"],UYU:[,"$"],VEF:[,"Bs"],VND:["\u20ab"],XAF:["FCFA"],XCD:["EC$","$"],XOF:["CFA"],XPF:["CFPF"],ZAR:[,"R"],ZMW:[,"ZK"]},dt=["en",[["a","p"],["AM","PM"]],[["AM","PM"],,],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",,"{1} 'at' {0}"],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],mt={},gt=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),yt=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),vt=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),_t=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),bt=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),wt=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}(),xt=function(){var t={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};return t[t.Sunday]="Sunday",t[t.Monday]="Monday",t[t.Tuesday]="Tuesday",t[t.Wednesday]="Wednesday",t[t.Thursday]="Thursday",t[t.Friday]="Friday",t[t.Saturday]="Saturday",t}(),Tt=new it.InjectionToken("UseV4Plurals"),St=function(){},Et=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(ot.b)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):_(e||this.locale)(t)){case yt.Zero:return"zero";case yt.One:return"one";case yt.Two:return"two";case yt.Few:return"few";case yt.Many:return"many";default:return"other"}},e}(St),Mt=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._applyInitialClasses(!0),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._cleanupClasses(this._rawClass),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(it["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._cleanupClasses=function(t){this._applyClasses(t,!0),this._applyInitialClasses(!1)},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(it["\u0275stringify"])(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyInitialClasses=function(t){var e=this;this._initialClasses.forEach(function(n){return e._toggleClass(n,!t)})},t.prototype._applyClasses=function(t,e){var n=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return n._toggleClass(t,!e)}):Object.keys(t).forEach(function(r){null!=t[r]&&n._toggleClass(r,!e)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},t}(),At=function(){function t(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return t.prototype.ngOnChanges=function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=e.get(it.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var r=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(it.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(r,this._viewContainerRef.length,e,this.ngComponentOutletContent)}},t.prototype.ngOnDestroy=function(){this._moduleRef&&this._moduleRef.destroy()},t}(),Ct=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),Pt=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(it.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+(e.name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Ct(null,e.ngForOf,-1,-1),i),a=new Rt(t,o);n.push(a)}else null==i?e._viewContainer.remove(r):(o=e._viewContainer.get(r),e._viewContainer.move(o,i),a=new Rt(t,o),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}(),Rt=function(t,e){this.record=t,this.view=e},Ot=function(){function t(t,e){this._viewContainer=t,this._context=new Lt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),Lt=function(){this.$implicit=null,this.ngIf=null},kt=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),Nt=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}},t}(),It=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new kt(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t}(),Dt=function(){return function(t,e,n){n._addDefault(new kt(t,e))}}(),Ut=function(){function t(t){this._localization=t,this._caseViews={}}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var t=Object.keys(this._caseViews),e=M(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},t}(),Ft=function(){return function(t,e,n,r){this.value=t;var i=!isNaN(Number(t));r.addCase(i?"="+t:t,new kt(n,e))}}(),jt=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=t.split("."),r=n[1];this._renderer.setStyle(this._ngEl.nativeElement,n[0],e=null!=e&&r?""+e+r:e)},t}(),Bt=function(){function t(t){this._viewContainerRef=t}return t.prototype.ngOnChanges=function(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},t.prototype._shouldRecreateView=function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)},t.prototype._hasContextShapeChanged=function(t){var e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(var r=0,i=n;r<i.length;r++)if(-1===e.indexOf(i[r]))return!0;return!1}return!0},t.prototype._updateExistingContext=function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}},t}(),zt=[Mt,At,Pt,Ot,Bt,jt,Nt,It,Dt,Ut,Ft],Vt={},Gt=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ht=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Wt=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,Milliseconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.Milliseconds]="Milliseconds",t[t.Day]="Day",t}(),Xt=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}(),qt=0,Yt=4,Zt={},Kt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qt=function(){function t(t){this.locale=t}return t.prototype.transform=function(e,n,r,i){if(void 0===n&&(n="mediumDate"),null==e||""===e||e!=e)return null;"string"==typeof e&&(e=e.trim());var o;if(j(e))o=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var a=e.split("-").map(function(t){return+t}),s=a[0],u=a[1],l=a[2];o=new Date(s,u-1,l)}else o=new Date(e);else o=new Date(parseFloat(e));if(!j(o)){var c=void 0;if("string"!=typeof e||!(c=e.match(Kt)))throw U(t,e);o=F(c)}return function(t,e,n,r){e=P(n,e)||e;for(var i,o=[];e;){if(!(i=Gt.exec(e))){o.push(e);break}var a=(o=o.concat(i.slice(1))).pop();if(!a)break;e=a}var s=t.getTimezoneOffset();r&&(s=D(r,s),t=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(D(e,r)-r))}(t,r));var u="";return o.forEach(function(e){var r=function(t){if(Zt[t])return Zt[t];var e;switch(t){case"G":case"GG":case"GGG":e=k(Xt.Eras,_t.Abbreviated);break;case"GGGG":e=k(Xt.Eras,_t.Wide);break;case"GGGGG":e=k(Xt.Eras,_t.Narrow);break;case"y":e=L(Wt.FullYear,1,0,!1,!0);break;case"yy":e=L(Wt.FullYear,2,0,!0,!0);break;case"yyy":e=L(Wt.FullYear,3,0,!1,!0);break;case"yyyy":e=L(Wt.FullYear,4,0,!1,!0);break;case"M":case"L":e=L(Wt.Month,1,1);break;case"MM":case"LL":e=L(Wt.Month,2,1);break;case"MMM":e=k(Xt.Months,_t.Abbreviated);break;case"MMMM":e=k(Xt.Months,_t.Wide);break;case"MMMMM":e=k(Xt.Months,_t.Narrow);break;case"LLL":e=k(Xt.Months,_t.Abbreviated,vt.Standalone);break;case"LLLL":e=k(Xt.Months,_t.Wide,vt.Standalone);break;case"LLLLL":e=k(Xt.Months,_t.Narrow,vt.Standalone);break;case"w":e=I(1);break;case"ww":e=I(2);break;case"W":e=I(1,!0);break;case"d":e=L(Wt.Date,1);break;case"dd":e=L(Wt.Date,2);break;case"E":case"EE":case"EEE":e=k(Xt.Days,_t.Abbreviated);break;case"EEEE":e=k(Xt.Days,_t.Wide);break;case"EEEEE":e=k(Xt.Days,_t.Narrow);break;case"EEEEEE":e=k(Xt.Days,_t.Short);break;case"a":case"aa":case"aaa":e=k(Xt.DayPeriods,_t.Abbreviated);break;case"aaaa":e=k(Xt.DayPeriods,_t.Wide);break;case"aaaaa":e=k(Xt.DayPeriods,_t.Narrow);break;case"b":case"bb":case"bbb":e=k(Xt.DayPeriods,_t.Abbreviated,vt.Standalone,!0);break;case"bbbb":e=k(Xt.DayPeriods,_t.Wide,vt.Standalone,!0);break;case"bbbbb":e=k(Xt.DayPeriods,_t.Narrow,vt.Standalone,!0);break;case"B":case"BB":case"BBB":e=k(Xt.DayPeriods,_t.Abbreviated,vt.Format,!0);break;case"BBBB":e=k(Xt.DayPeriods,_t.Wide,vt.Format,!0);break;case"BBBBB":e=k(Xt.DayPeriods,_t.Narrow,vt.Format,!0);break;case"h":e=L(Wt.Hours,1,-12);break;case"hh":e=L(Wt.Hours,2,-12);break;case"H":e=L(Wt.Hours,1);break;case"HH":e=L(Wt.Hours,2);break;case"m":e=L(Wt.Minutes,1);break;case"mm":e=L(Wt.Minutes,2);break;case"s":e=L(Wt.Seconds,1);break;case"ss":e=L(Wt.Seconds,2);break;case"S":e=L(Wt.Milliseconds,1);break;case"SS":e=L(Wt.Milliseconds,2);break;case"SSS":e=L(Wt.Milliseconds,3);break;case"Z":case"ZZ":case"ZZZ":e=N(Ht.Short);break;case"ZZZZZ":e=N(Ht.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=N(Ht.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=N(Ht.Long);break;default:return null}return Zt[t]=e,e}(e);u+=r?r(t,n,s):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}(o,n,i||this.locale,r)},t}(),Jt=function(){function t(){}return t.format=function(t,e,n,r){void 0===r&&(r={});var i=r.currency,o=r.currencyAsSymbol,a=void 0!==o&&o,s={minimumIntegerDigits:r.minimumIntegerDigits,minimumFractionDigits:r.minimumFractionDigits,maximumFractionDigits:r.maximumFractionDigits,style:gt[n].toLowerCase()};return n==gt.Currency&&(s.currency="string"==typeof i?i:void 0,s.currencyDisplay=a?"symbol":"code"),new Intl.NumberFormat(e,s).format(t)},t}(),$t=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,te={yMMMdjms:Y(q([W("year",1),X("month",3),W("day",1),W("hour",1),W("minute",1),W("second",1)])),yMdjm:Y(q([W("year",1),W("month",1),W("day",1),W("hour",1),W("minute",1)])),yMMMMEEEEd:Y(q([W("year",1),X("month",4),X("weekday",4),W("day",1)])),yMMMMd:Y(q([W("year",1),X("month",4),W("day",1)])),yMMMd:Y(q([W("year",1),X("month",3),W("day",1)])),yMd:Y(q([W("year",1),W("month",1),W("day",1)])),jms:Y(q([W("hour",1),W("second",1),W("minute",1)])),jm:Y(q([W("hour",1),W("minute",1)]))},ee={yyyy:Y(W("year",4)),yy:Y(W("year",2)),y:Y(W("year",1)),MMMM:Y(X("month",4)),MMM:Y(X("month",3)),MM:Y(W("month",2)),M:Y(W("month",1)),LLLL:Y(X("month",4)),L:Y(X("month",1)),dd:Y(W("day",2)),d:Y(W("day",1)),HH:B(z(Y(H(W("hour",2),!1)))),H:z(Y(H(W("hour",1),!1))),hh:B(z(Y(H(W("hour",2),!0)))),h:z(Y(H(W("hour",1),!0))),jj:Y(W("hour",2)),j:Y(W("hour",1)),mm:B(Y(W("minute",2))),m:Y(W("minute",1)),ss:B(Y(W("second",2))),s:Y(W("second",1)),sss:Y(W("second",3)),EEEE:Y(X("weekday",4)),EEE:Y(X("weekday",3)),EE:Y(X("weekday",2)),E:Y(X("weekday",1)),a:function(t){return function(e,n){return t(e,n).split(" ")[1]}}(Y(H(W("hour",1),!0))),Z:G("short"),z:G("long"),ww:Y({}),w:Y({}),G:Y(X("era",1)),GG:Y(X("era",2)),GGG:Y(X("era",3)),GGGG:Y(X("era",4))},ne=new Map,re=function(){function t(){}return t.format=function(t,e,n){return function(t,e,n){var r=te[t];if(r)return r(e,n);var i=t,o=ne.get(i);if(!o){o=[];var a=void 0;$t.exec(t);for(var s=t;s;)(a=$t.exec(s))?s=(o=o.concat(a.slice(1))).pop():(o.push(s),s=null);ne.set(i,o)}return o.reduce(function(t,r){var i=ee[r];return t+(i?i(e,n):"''"===r?"'":r.replace(/(^'|'$)/g,"").replace(/''/g,"'"))},"")}(n,t,e)},t}(),ie=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){if(void 0===n&&(n="mediumDate"),null==e||""===e||e!=e)return null;var r;if("string"==typeof e&&(e=e.trim()),Z(e))r=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var i=e.split("-").map(function(t){return parseInt(t,10)}),o=i[0],a=i[1],s=i[2];r=new Date(o,a-1,s)}else r=new Date(e);else r=new Date(parseFloat(e));if(!Z(r)){var u=void 0;if("string"!=typeof e||!(u=e.match(Kt)))throw U(t,e);r=F(u)}return re.format(r,this._locale,t._ALIASES[n]||n)},t._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},t}(),oe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ae=22,se=".",ue="0",le=";",ce=",",he="#",fe="\xa4",pe="%",de=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return J(t,this._locale,e,gt.Decimal,n)},t}(),me=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return J(t,this._locale,e,gt.Percent,n)},t}(),ge=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r,i){return void 0===n&&(n="USD"),void 0===r&&(r=!1),J(t,this._locale,e,gt.Currency,i,n,r)},t}(),ye=[de,me,ge,ie],ve=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),_e=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),be=new ve,we=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,it.WrappedValue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(Object(it["\u0275isPromise"])(e))return _e;if(Object(it["\u0275isObservable"])(e))return be;throw U(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}(),xe=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw U(t,e);return e.toLowerCase()},t}(),Te=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw U(t,e);return e.split(/\b/g).map(function(t){return function(t){return t?t[0].toUpperCase()+t.substr(1).toLowerCase():t}(t)}).join("")},t}(),Se=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw U(t,e);return e.toUpperCase()},t}(),Ee=/#/g,Me=function(){function t(t){this._localization=t}return t.prototype.transform=function(e,n,r){if(null==e)return"";if("object"!=typeof n||null===n)throw U(t,n);return n[M(e,Object.keys(n),this._localization,r)].replace(Ee,e.toString())},t}(),Ae=function(){function t(){}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw U(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""},t}(),Ce=function(){function t(){}return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t}(),Pe=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r){if($(e))return null;var i=K(e,r=r||this._locale,gt.Decimal,n),o=i.str,a=i.error;if(a)throw U(t,a);return o},t}(),Re=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r){if($(e))return null;var i=K(e,r=r||this._locale,gt.Percent,n),o=i.str,a=i.error;if(a)throw U(t,a);return o},t}(),Oe=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r,i,o){if(void 0===r&&(r="symbol"),$(e))return null;o=o||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");var a=n||"USD";"code"!==r&&(a=function(t,e){var n=pt[a]||{},i=n[0]||a;return"wide"==("symbol"===r?"wide":"narrow")?i:n[1]||i}());var s=K(e,o,gt.Currency,i,a),u=s.str,l=s.error;if(l)throw U(t,l);return u},t}(),Le=function(){function t(){}return t.prototype.transform=function(e,n,r){if(null==e)return e;if(!this.supports(e))throw U(t,e);return e.slice(n,r)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t}(),ke=[we,Se,xe,Ce,Le,Pe,Re,Te,Oe,Qt,Me,Ae],Ne=function(){},Ie=function(){},De=new it.InjectionToken("DocumentToken"),Ue="browser",Fe="server",je="browserWorkerApp",Be="browserWorkerUi",ze=new it.Version("5.1.0")},Upor:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6Xbx"),i=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return Object(r.b)(e,t),e}(Error)},V7AE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("xIGM").a.Symbol,i="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber"},VIKU:function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t},e.isBuffer=t.isBuffer}).call(e,n("v0OU").Buffer)},X3fp:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var a=i[o];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}(n("xIGM").a)},XjJb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){const e=String.fromCharCode(30);t.write=function(t){return`${t}${e}`},t.parse=function(t){if(t[t.length-1]!=e)throw new Error("Message is incomplete.");let n=t.split(e);return n.pop(),n}}(e.TextMessageFormat||(e.TextMessageFormat={})),function(t){t.write=function(t){let e=t.byteLength||t.length,n=[];do{let t=127&e;(e>>=7)>0&&(t|=128),n.push(t)}while(e>0);e=t.byteLength||t.length;let r=new Uint8Array(n.length+e);return r.set(n,0),r.set(t,n.length),r.buffer},t.parse=function(t){let e=[],n=new Uint8Array(t);const r=[0,7,14,21,28];for(let i=0;i<t.byteLength;){let o,a=0,s=0;do{s|=(127&(o=n[i+a]))<<r[a],a++}while(a<Math.min(5,t.byteLength-i)&&0!=(128&o));if(0!=(128&o)&&a<5)throw new Error("Cannot read message size.");if(5===a&&o>7)throw new Error("Messages bigger than 2GB are not supported.");if(!(n.byteLength>=i+a+s))throw new Error("Incomplete message.");e.push(n.slice?n.slice(i+a,i+a+s):n.subarray(i+a,i+a+s)),i=i+a+s}return e}}(e.BinaryMessageFormat||(e.BinaryMessageFormat={}))},XvLI:function(t,e,n){t.exports=n("dJzE")},YuZA:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="YuZA"},ZfGB:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});const r=n("XjJb"),i=n("bl5A");e.MessagePackHubProtocol=class{constructor(){this.name="messagepack",this.type=2}parseMessages(t){return r.BinaryMessageFormat.parse(t).map(t=>this.parseMessage(t))}parseMessage(e){if(0==e.length)throw new Error("Invalid payload.");let n=i().decode(new t(e));if(0==n.length||!(n instanceof Array))throw new Error("Invalid payload.");switch(n[0]){case 1:return this.createInvocationMessage(n);case 2:return this.createStreamItemMessage(n);case 3:return this.createCompletionMessage(n);default:throw new Error("Invalid message type.")}}createInvocationMessage(t){if(5!=t.length)throw new Error("Invalid payload for Invocation message.");return{type:1,invocationId:t[1],nonblocking:t[2],target:t[3],arguments:t[4]}}createStreamItemMessage(t){if(3!=t.length)throw new Error("Invalid payload for stream Result message.");return{type:2,invocationId:t[1],item:t[2]}}createCompletionMessage(t){if(t.length<3)throw new Error("Invalid payload for Completion message.");let e=t[2];if(2===e&&3!=t.length||2!==e&&4!=t.length)throw new Error("Invalid payload for Completion message.");let n={type:3,invocationId:t[1],error:null,result:null};switch(e){case 1:n.error=t[3];break;case 3:n.result=t[3]}return n}writeMessage(t){switch(t.type){case 1:return this.writeInvocation(t);case 2:case 3:throw new Error(`Writing messages of type '${t.type}' is not supported.`);default:throw new Error("Invalid message type.")}}writeInvocation(t){let e=i().encode([1,t.invocationId,t.nonblocking,t.target,t.arguments]);return r.BinaryMessageFormat.write(e.slice())}}}).call(e,n("v0OU").Buffer)},bl5A:function(t,e,n){"use strict";var r=n("zOKz").Buffer,i=n("iw1t"),o=n("2iE6"),a=n("HF6y"),s=n("99WV"),u=n("xxyt");t.exports=function(t){var e=[],n=[];return t=t||{forceFloat64:!1,compatibilityMode:!1},{encode:u(e,t.forceFloat64,t.compatibilityMode),decode:s(n),register:function(t,e,n,a){return i(e,"must have a constructor"),i(n,"must have an encode function"),i(t>=0,"must have a non-negative type"),i(a,"must have a decode function"),this.registerEncoder(function(t){return t instanceof e},function(e){var i=o(),a=r.allocUnsafe(1);return a.writeInt8(t,0),i.append(a),i.append(n(e)),i}),this.registerDecoder(t,a),this},registerEncoder:function(t,n){return i(t,"must have an encode function"),i(n,"must have an encode function"),e.push({check:t,encode:n}),this},registerDecoder:function(t,e){return i(t>=0,"must have a non-negative type"),i(e,"must have a decode function"),n.push({type:t,decode:e}),this},encoder:a.encoder,decoder:a.decoder,buffer:!0,type:"msgpack5",IncompleteBufferError:s.IncompleteBufferError}}},bywS:function(t,e,n){"use strict";function r(t){return t}var i=n("wP3s");e.a=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(i.a)(r,null,t)}},cDNt:function(t,e,n){"use strict";function r(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"div",[["class","toast-close-button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.removeToast(t.parent.context.$implicit)&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["\xd7\n        "]))],null,null)}function i(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),_h["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,0,0,_h["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.config.titleClass||e.component.titleClass,"")),t(e,1,0,e.parent.context.$implicit.title)})}function o(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,0,"span",[],[[8,"className",0],[8,"innerHTML",1]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,0,0,_h["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.config.messageClass||n.messageClass,""),n.sanitizer.bypassSecurityTrustHtml(e.parent.context.$implicit.message))})}function a(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(t()(),_h["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,0,0,_h["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.config.messageClass||e.component.messageClass,"")),t(e,1,0,e.parent.context.$implicit.message)})}function s(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,17,"div",[],[[24,"@inOut",0],[8,"className",0]],[[null,"@inOut.done"],[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"@inOut.done"===e&&(r=!1!==i.onAnimationEnd(n)&&r),"click"===e&&(r=!1!==i.clicked(t.context.$implicit)&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["\n        "])),(t()(),_h["\u0275and"](16777216,null,null,1,null,r)),_h["\u0275did"](3,16384,null,0,Eh.NgIf,[_h.ViewContainerRef,_h.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_h["\u0275ted"](-1,null,[" \n        "])),(t()(),_h["\u0275and"](16777216,null,null,1,null,i)),_h["\u0275did"](6,16384,null,0,Eh.NgIf,[_h.ViewContainerRef,_h.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_h["\u0275ted"](-1,null,["\n        "])),(t()(),_h["\u0275eld"](8,0,null,null,8,"div",[],null,null,null,null,null)),_h["\u0275did"](9,16384,null,0,Eh.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),_h["\u0275ted"](-1,null,["\n          "])),(t()(),_h["\u0275and"](16777216,null,null,1,null,o)),_h["\u0275did"](12,278528,null,0,Eh.NgSwitchCase,[_h.ViewContainerRef,_h.TemplateRef,Eh.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),_h["\u0275ted"](-1,null,["\n          "])),(t()(),_h["\u0275and"](16777216,null,null,1,null,a)),_h["\u0275did"](15,16384,null,0,Eh.NgSwitchDefault,[_h.ViewContainerRef,_h.TemplateRef,Eh.NgSwitch],null,null),(t()(),_h["\u0275ted"](-1,null,["\n        "])),(t()(),_h["\u0275ted"](-1,null,["             \n      "]))],function(t,e){t(e,3,0,e.context.$implicit.config.showCloseButton),t(e,6,0,e.context.$implicit.title),t(e,9,0,e.context.$implicit.config.enableHTML),t(e,12,0,!0)},function(t,e){t(e,0,0,e.component.animate,_h["\u0275inlineInterpolate"](1,"toast toast-",e.context.$implicit.type,""))})}function u(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](1,0,[["toastContainer",1]],null,4,"div",[["id","toast-container"]],[[4,"position",null],[8,"className",0]],null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275and"](16777216,null,null,1,null,s)),_h["\u0275did"](4,802816,null,0,Eh.NgForOf,[_h.ViewContainerRef,_h.TemplateRef,_h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275ted"](-1,null,["\n    "]))],function(t,e){t(e,4,0,e.component.toasts)},function(t,e){var n=e.component;t(e,1,0,n.position,_h["\u0275inlineInterpolate"](1,"",n.positionClass,""))})}function l(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.context.$implicit)})}function c(t){return _h["\u0275vid"](0,[_h["\u0275qud"](402653184,1,{inputRef:0}),(t()(),_h["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n    Sample Models generated by Foundry\n"])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275eld"](4,0,null,null,1,"a",[["href","https://teropa.info/blog/2016/12/12/graphics-in-angular-2.html"],["target","_blank"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["SVG and Canvas Graphics in Angular 2"])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275eld"](7,0,null,null,1,"button",[["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doToast()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["toast test"])),(t()(),_h["\u0275ted"](-1,null,["\n"])),(t()(),_h["\u0275eld"](10,0,null,null,1,"button",[["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doVersion()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["version test"])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275eld"](13,0,null,null,36,"div",[["class","row"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n\n    "])),(t()(),_h["\u0275eld"](15,0,null,null,8,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n        "])),(t()(),_h["\u0275eld"](17,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](18,null,["",""])),(t()(),_h["\u0275ted"](-1,null,["\n\n        "])),(t()(),_h["\u0275eld"](20,0,null,null,2,"pre",[["class","well"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](21,null,["",""])),_h["\u0275pid"](0,Eh.JsonPipe,[]),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275ted"](-1,null,["\n\n    "])),(t()(),_h["\u0275eld"](25,0,null,null,14,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n        "])),(t()(),_h["\u0275eld"](27,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["SignalR Chat"])),(t()(),_h["\u0275ted"](-1,null,["\n        "])),(t()(),_h["\u0275eld"](30,0,[[1,0],["chat",1]],null,0,"input",[["type","text"]],null,[[null,"keyup"],[null,"keyup.enter"]],function(t,e,n){var r=!0,i=t.component;return"keyup"===e&&(r=!1!==i.onKeyUp(_h["\u0275nov"](t,30).value)&&r),"keyup.enter"===e&&(r=!1!==i.onInput(_h["\u0275nov"](t,30).value)&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["\n        "])),(t()(),_h["\u0275eld"](32,0,null,null,1,"button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doPost()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Go"])),(t()(),_h["\u0275ted"](-1,null,["\n        "])),(t()(),_h["\u0275eld"](35,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n        "])),(t()(),_h["\u0275eld"](37,0,null,null,1,"pre",[["class","well"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](38,null,["",""])),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275ted"](-1,null,["\n\n    "])),(t()(),_h["\u0275eld"](41,0,null,null,7,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n        "])),(t()(),_h["\u0275eld"](43,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["SignalR Text"])),(t()(),_h["\u0275ted"](-1,null,["\n        "])),(t()(),_h["\u0275and"](16777216,null,null,1,null,l)),_h["\u0275did"](47,802816,null,0,Eh.NgForOf,[_h.ViewContainerRef,_h.TemplateRef,_h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,47,0,e.component.postList)},function(t,e){var n=e.component;t(e,18,0,n.model.full),t(e,21,0,_h["\u0275unv"](e,21,0,_h["\u0275nov"](e,22).transform(n.model))),t(e,38,0,n.typeinText)})}function h(){}function f(t,e){this.x=t||0,this.y=e||0}function p(t,e,n,r,i,o,a,s,u,l){Object.defineProperty(this,"id",{value:sd++}),this.uuid=ad.generateUUID(),this.name="",this.image=void 0!==t?t:p.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:p.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:cp,this.wrapT=void 0!==r?r:cp,this.magFilter=void 0!==i?i:mp,this.minFilter=void 0!==o?o:yp,this.anisotropy=void 0!==u?u:1,this.format=void 0!==a?a:Lp,this.type=void 0!==s?s:vp,this.offset=new f(0,0),this.repeat=new f(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:Qp,this.version=0,this.onUpdate=null}function d(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}function m(t,e,n){this.uuid=ad.generateUUID(),this.width=t,this.height=e,this.scissor=new d(0,0,t,e),this.scissorTest=!1,this.viewport=new d(0,0,t,e),void 0===(n=n||{}).minFilter&&(n.minFilter=mp),this.texture=new p(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function g(t,e,n){m.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function y(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}function v(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function _(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function b(t,e,n,r,i,o,a,s,u,l){p.call(this,t=void 0!==t?t:[],e=void 0!==e?e:np,n,r,i,o,a,s,u,l),this.flipY=!1}function w(){this.seq=[],this.map={}}function x(t,e,n){var r=t[0];if(r<=0||r>0)return t;var i=e*n,o=cd[i];if(void 0===o&&(o=new Float32Array(i),cd[i]=o),0!==e){r.toArray(o,0);for(var a=1,s=0;a!==e;++a)t[a].toArray(o,s+=n)}return o}function T(t,e){var n=hd[e];void 0===n&&(n=new Int32Array(e),hd[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocTextureUnit();return n}function S(t,e){t.uniform1f(this.addr,e)}function E(t,e){t.uniform1i(this.addr,e)}function M(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function A(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function C(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function P(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function R(t,e){t.uniformMatrix3fv(this.addr,!1,e.elements||e)}function O(t,e){t.uniformMatrix4fv(this.addr,!1,e.elements||e)}function L(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTexture2D(e||ud,r)}function k(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTextureCube(e||ld,r)}function N(t,e){t.uniform2iv(this.addr,e)}function I(t,e){t.uniform3iv(this.addr,e)}function D(t,e){t.uniform4iv(this.addr,e)}function U(t,e){t.uniform1fv(this.addr,e)}function F(t,e){t.uniform1iv(this.addr,e)}function j(t,e){t.uniform2fv(this.addr,x(e,this.size,2))}function B(t,e){t.uniform3fv(this.addr,x(e,this.size,3))}function z(t,e){t.uniform4fv(this.addr,x(e,this.size,4))}function V(t,e){t.uniformMatrix2fv(this.addr,!1,x(e,this.size,4))}function G(t,e){t.uniformMatrix3fv(this.addr,!1,x(e,this.size,9))}function H(t,e){t.uniformMatrix4fv(this.addr,!1,x(e,this.size,16))}function W(t,e,n){var r=e.length,i=T(n,r);t.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2D(e[o]||ud,i[o])}function X(t,e,n){var r=e.length,i=T(n,r);t.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTextureCube(e[o]||ld,i[o])}function q(t,e,n){this.id=t,this.addr=n,this.setValue=function(t){switch(e.type){case 5126:return S;case 35664:return M;case 35665:return A;case 35666:return C;case 35674:return P;case 35675:return R;case 35676:return O;case 35678:return L;case 35680:return k;case 5124:case 35670:return E;case 35667:case 35671:return N;case 35668:case 35672:return I;case 35669:case 35673:return D}}()}function Y(t,e,n){this.id=t,this.addr=n,this.size=e.size,this.setValue=function(t){switch(e.type){case 5126:return U;case 35664:return j;case 35665:return B;case 35666:return z;case 35674:return V;case 35675:return G;case 35676:return H;case 35678:return W;case 35680:return X;case 5124:case 35670:return F;case 35667:case 35671:return N;case 35668:case 35672:return I;case 35669:case 35673:return D}}()}function Z(t){this.id=t,w.call(this)}function K(t,e){t.seq.push(e),t.map[e.id]=e}function Q(t,e,n){var r=t.name,i=r.length;for(fd.lastIndex=0;;){var o=fd.exec(r),a=o[1],s=o[3];if("]"===o[2]&&(a|=0),void 0===s||"["===s&&fd.lastIndex+2===i){K(n,void 0===s?new q(a,t,e):new Y(a,t,e));break}var u=n.map[a];void 0===u&&K(n,u=new Z(a)),n=u}}function J(t,e,n){w.call(this),this.renderer=n;for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=t.getActiveUniform(e,i);Q(o,t.getUniformLocation(e,o.name),this)}}function $(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function tt(t,e,n,r,i,o,a,s,u,l,c,h){p.call(this,null,o,a,s,u,l,r,i,c,h),this.image={data:t,width:e,height:n},this.magFilter=void 0!==u?u:fp,this.minFilter=void 0!==l?l:fp,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function et(t,e){this.min=void 0!==t?t:new f(1/0,1/0),this.max=void 0!==e?e:new f(-1/0,-1/0)}function nt(){Object.defineProperty(this,"id",{value:vd++}),this.uuid=ad.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=_f,this.side=cf,this.shading=df,this.vertexColors=mf,this.opacity=1,this.transparent=!1,this.blendSrc=kf,this.blendDst=Nf,this.blendEquation=Sf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Gf,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0}function rt(t){nt.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function it(t){nt.call(this),this.type="MeshDepthMaterial",this.depthPacking=id,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function ot(t,e){this.min=void 0!==t?t:new v(1/0,1/0,1/0),this.max=void 0!==e?e:new v(-1/0,-1/0,-1/0)}function at(t,e){this.center=void 0!==t?t:new v,this.radius=void 0!==e?e:0}function st(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function ut(t,e){this.normal=void 0!==t?t:new v(1,0,0),this.constant=void 0!==e?e:0}function lt(t,e,n,r,i,o){this.planes=[void 0!==t?t:new ut,void 0!==e?e:new ut,void 0!==n?n:new ut,void 0!==r?r:new ut,void 0!==i?i:new ut,void 0!==o?o:new ut]}function ct(t,e,n,r){function i(e,n,r,i){var o=e.geometry,a=null,s=S,u=e.customDepthMaterial;if(r&&(s=E,u=e.customDistanceMaterial),u)a=u;else{var l=!1;n.morphTargets&&(o&&o.isBufferGeometry?l=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0:o&&o.isGeometry&&(l=o.morphTargets&&o.morphTargets.length>0));var c=0;l&&(c|=w),e.isSkinnedMesh&&n.skinning&&(c|=x),a=s[c]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var h=a.uuid,f=n.uuid,p=M[h];void 0===p&&(M[h]=p={});var d=p[f];void 0===d&&(d=a.clone(),p[f]=d),a=d}a.visible=n.visible,a.wireframe=n.wireframe;var m=n.side;return F.renderSingleSided&&m==ff&&(m=cf),F.renderReverseSided&&(m===cf?m=hf:m===hf&&(m=cf)),a.side=m,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,r&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(i),a}function o(t,e,n){if(!1!==t.visible){0!=(t.layers.mask&e.layers.mask)&&(t.isMesh||t.isLine||t.isPoints)&&t.castShadow&&(!1===t.frustumCulled||!0===u.intersectsObject(t))&&!0===t.material.visible&&(t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),b.push(t));for(var r=t.children,i=0,a=r.length;i<a;i++)o(r[i],e,n)}}var a=t.context,s=t.state,u=new lt,l=new _,c=e.shadows,h=new f,p=new f(r.maxTextureSize,r.maxTextureSize),g=new v,y=new v,b=[],w=1,x=2,T=1+(w|x),S=new Array(T),E=new Array(T),M={},A=[new v(1,0,0),new v(-1,0,0),new v(0,0,1),new v(0,0,-1),new v(0,1,0),new v(0,-1,0)],C=[new v(0,1,0),new v(0,1,0),new v(0,1,0),new v(0,1,0),new v(0,0,1),new v(0,0,-1)],P=[new d,new d,new d,new d,new d,new d],R=new it;R.depthPacking=od,R.clipping=!0;for(var O=yd.distanceRGBA,L=pd.clone(O.uniforms),k=0;k!==T;++k){var N=0!=(k&w),I=0!=(k&x),D=R.clone();D.morphTargets=N,D.skinning=I,S[k]=D;var U=new rt({defines:{USE_SHADOWMAP:""},uniforms:L,vertexShader:O.vertexShader,fragmentShader:O.fragmentShader,morphTargets:N,skinning:I,clipping:!0});E[k]=U}var F=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=uf,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,r){if(!1!==F.enabled&&(!1!==F.autoUpdate||!1!==F.needsUpdate)&&0!==c.length){s.buffers.color.setClear(1,1,1,1),s.disable(a.BLEND),s.setDepthTest(!0),s.setScissorTest(!1);for(var f,d,v=0,_=c.length;v<_;v++){var w=c[v],x=w.shadow;if(void 0!==x){var T=x.camera;if(h.copy(x.mapSize),h.min(p),w&&w.isPointLight){f=6,d=!0;var S=h.x,E=h.y;P[0].set(2*S,E,S,E),P[1].set(0,E,S,E),P[2].set(3*S,E,S,E),P[3].set(S,E,S,E),P[4].set(3*S,0,S,E),P[5].set(S,0,S,E),h.x*=4,h.y*=2}else f=1,d=!1;null===x.map&&(x.map=new m(h.x,h.y,{minFilter:fp,magFilter:fp,format:Lp}),T.updateProjectionMatrix()),x.isSpotLightShadow&&x.update(w),x&&x.isRectAreaLightShadow&&x.update(w);var M=x.map,R=x.matrix;y.setFromMatrixPosition(w.matrixWorld),T.position.copy(y),t.setRenderTarget(M),t.clear();for(var O=0;O<f;O++){d?(g.copy(T.position),g.add(A[O]),T.up.copy(C[O]),T.lookAt(g),s.viewport(P[O])):(g.setFromMatrixPosition(w.target.matrixWorld),T.lookAt(g)),T.updateMatrixWorld(),T.matrixWorldInverse.getInverse(T.matrixWorld),R.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),R.multiply(T.projectionMatrix),R.multiply(T.matrixWorldInverse),l.multiplyMatrices(T.projectionMatrix,T.matrixWorldInverse),u.setFromMatrix(l),b.length=0,o(e,r,T);for(var L=0,k=b.length;L<k;L++){var N=b[L],I=n.update(N),D=N.material;if(D&&D.isMultiMaterial)for(var U=I.groups,j=D.materials,B=0,z=U.length;B<z;B++){var V=U[B],G=j[V.materialIndex];if(!0===G.visible){var H=i(N,G,d,y);t.renderBufferDirect(T,null,I,H,N,V)}}else H=i(N,D,d,y),t.renderBufferDirect(T,null,I,H,N,null)}}}else console.warn("THREE.WebGLShadowMap:",w,"has no shadow.")}var W=t.getClearColor(),X=t.getClearAlpha();t.setClearColor(W,X),F.needsUpdate=!1}}}function ht(t,e){this.origin=void 0!==t?t:new v,this.direction=void 0!==e?e:new v}function ft(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||ft.DefaultOrder}function pt(){this.mask=1}function dt(){Object.defineProperty(this,"id",{value:_d++}),this.uuid=ad.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=dt.DefaultUp.clone();var t=new v,e=new ft,n=new y,r=new v(1,1,1);e.onChange(function(){n.setFromEuler(e,!1)}),n.onChange(function(){e.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:r},modelViewMatrix:{value:new _},normalMatrix:{value:new st}}),this.matrix=new _,this.matrixWorld=new _,this.matrixAutoUpdate=dt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new pt,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function mt(t,e){this.start=void 0!==t?t:new v,this.end=void 0!==e?e:new v}function gt(t,e,n){this.a=void 0!==t?t:new v,this.b=void 0!==e?e:new v,this.c=void 0!==n?n:new v}function yt(t,e,n,r,i,o){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new v,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new $,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function vt(t){nt.call(this),this.type="MeshBasicMaterial",this.color=new $(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Yf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function _t(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=ad.generateUUID(),this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function bt(t,e){_t.call(this,new Int8Array(t),e)}function wt(t,e){_t.call(this,new Uint8Array(t),e)}function xt(t,e){_t.call(this,new Uint8ClampedArray(t),e)}function Tt(t,e){_t.call(this,new Int16Array(t),e)}function St(t,e){_t.call(this,new Uint16Array(t),e)}function Et(t,e){_t.call(this,new Int32Array(t),e)}function Mt(t,e){_t.call(this,new Uint32Array(t),e)}function At(t,e){_t.call(this,new Float32Array(t),e)}function Ct(t,e){_t.call(this,new Float64Array(t),e)}function Pt(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Rt(t){for(var e=t.length,n=-1/0;e--;)t[e]>n&&(n=t[e]);return n}function Ot(){return bd++}function Lt(){Object.defineProperty(this,"id",{value:Ot()}),this.uuid=ad.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function kt(){Object.defineProperty(this,"id",{value:Ot()}),this.uuid=ad.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Nt(t,e){dt.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new kt,this.material=void 0!==e?e:new vt({color:16777215*Math.random()}),this.drawMode=Yp,this.updateMorphTargets()}function It(t,e,n,r,i,o){Lt.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Dt(t,e,n,r,i,o)),this.mergeVertices()}function Dt(t,e,n,r,i,o){function a(t,e,n,r,i,o,a,d,m,g,y){var _,b,w=o/m,x=a/g,T=o/2,S=a/2,E=d/2,M=m+1,A=g+1,C=0,P=0,R=new v;for(b=0;b<A;b++){var O=b*x-S;for(_=0;_<M;_++)R[t]=(_*w-T)*r,R[e]=O*i,R[n]=E,l.push(R.x,R.y,R.z),R[t]=0,R[e]=0,R[n]=d>0?1:-1,c.push(R.x,R.y,R.z),h.push(_/m),h.push(1-b/g),C+=1}for(b=0;b<g;b++)for(_=0;_<m;_++){var L=f+_+M*(b+1),k=f+(_+1)+M*(b+1),N=f+(_+1)+M*b;u.push(f+_+M*b,L,N),u.push(L,k,N),P+=6}s.addGroup(p,P,y),p+=P,f+=C}kt.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var s=this;r=Math.floor(r)||1,i=Math.floor(i)||1;var u=[],l=[],c=[],h=[],f=0,p=0;a("z","y","x",-1,-1,n,e,t,o=Math.floor(o)||1,i,0),a("z","y","x",1,-1,n,e,-t,o,i,1),a("x","z","y",1,1,t,n,e,r,o,2),a("x","z","y",1,-1,t,n,-e,r,o,3),a("x","y","z",1,-1,t,e,n,r,i,4),a("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(u),this.addAttribute("position",new At(l,3)),this.addAttribute("normal",new At(c,3)),this.addAttribute("uv",new At(h,2))}function Ut(t,e,n,r){Lt.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Ft(t,e,n,r))}function Ft(t,e,n,r){kt.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var i,o,a=t/2,s=e/2,u=Math.floor(n)||1,l=Math.floor(r)||1,c=u+1,h=l+1,f=t/u,p=e/l,d=[],m=[],g=[],y=[];for(o=0;o<h;o++){var v=o*p-s;for(i=0;i<c;i++)m.push(i*f-a,-v,0),g.push(0,0,1),y.push(i/u),y.push(1-o/l)}for(o=0;o<l;o++)for(i=0;i<u;i++){var _=i+c*(o+1),b=i+1+c*(o+1),w=i+1+c*o;d.push(i+c*o,_,w),d.push(_,b,w)}this.setIndex(d),this.addAttribute("position",new At(m,3)),this.addAttribute("normal",new At(g,3)),this.addAttribute("uv",new At(y,2))}function jt(){dt.call(this),this.type="Camera",this.matrixWorldInverse=new _,this.projectionMatrix=new _}function Bt(t,e,n,r){jt.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function zt(t,e,n,r,i,o){jt.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Vt(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),!1===t.getShaderParameter(r,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(r),function(t){for(var e=n.split("\n"),r=0;r<e.length;r++)e[r]=r+1+": "+e[r];return e.join("\n")}()),r}function Gt(t){switch(t){case Qp:return["Linear","( value )"];case Jp:return["sRGB","( value )"];case td:return["RGBE","( value )"];case ed:return["RGBM","( value, 7.0 )"];case nd:return["RGBM","( value, 16.0 )"];case rd:return["RGBD","( value, 256.0 )"];case $p:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function Ht(t,e){var n=Gt(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Wt(t){return""!==t}function Xt(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function qt(t){return t.replace(/#include +<([\w\d.]+)>/g,function(t,e){var n=dd[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return qt(n)})}function Yt(t){return t.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(t,e,n,r){for(var i="",o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i})}function Zt(t){function e(){return null===H?ft:1}function n(){jt.init(),jt.scissor(Z.copy(pt).multiplyScalar(ft)),jt.viewport(Q.copy(mt).multiplyScalar(ft)),jt.buffers.color.setClear(nt.r,nt.g,nt.b,it,L)}function r(){G=null,Y=null,q="",X=-1,jt.reset()}function i(t){t.preventDefault(),r(),n(),Zt.clear()}function o(t){var e=t.target;e.removeEventListener("dispose",o),function(t){a(t),Zt.delete(t)}(e)}function a(t){var e=Zt.get(t).program;t.program=void 0,void 0!==e&&Jt.releaseProgram(e)}function s(t,e){return Math.abs(e[0])-Math.abs(t[0])}function u(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.program&&e.material.program&&t.material.program!==e.material.program?t.material.program.id-e.material.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function l(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function c(t,e,n,r,i){var o,a;n.transparent?(o=U,a=++F):(o=I,a=++D);var s=o[a];void 0!==s?(s.id=t.id,s.object=t,s.geometry=e,s.material=n,s.z=Tt.z,s.group=i):o.push(s={id:t.id,object:t,geometry:e,material:n,z:Tt.z,group:i})}function h(t){if(!gt.intersectsSphere(t))return!1;var e=yt.numPlanes;if(0===e)return!0;var n=V.clippingPlanes,r=t.center,i=-t.radius,o=0;do{if(n[o].distanceToPoint(r)<i)return!1}while(++o!==e);return!0}function m(t,e){if(!1!==t.visible){if(0!=(t.layers.mask&e.layers.mask))if(t.isLight)N.push(t);else if(t.isSprite)!1!==t.frustumCulled&&!0!==function(t){return wt.center.set(0,0,0),wt.radius=.7071067811865476,wt.applyMatrix4(t.matrixWorld),h(wt)}(t)||B.push(t);else if(t.isLensFlare)z.push(t);else if(t.isImmediateRenderObject)!0===V.sortObjects&&(Tt.setFromMatrixPosition(t.matrixWorld),Tt.applyMatrix4(xt)),c(t,null,t.material,0,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!1===t.frustumCulled||!0===function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),wt.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),h(wt)}(t))){var n=t.material;if(!0===n.visible){!0===V.sortObjects&&(Tt.setFromMatrixPosition(t.matrixWorld),Tt.applyMatrix4(xt));var r=Qt.update(t);if(n.isMultiMaterial)for(var i=r.groups,o=n.materials,a=0,s=i.length;a<s;a++){var u=i[a],l=o[u.materialIndex];!0===l.visible&&c(t,r,l,0,u)}else c(t,r,n,0,null)}}var f=t.children;for(a=0,s=f.length;a<s;a++)m(f[a],e)}}function g(t,e,n,r){for(var i=0,o=t.length;i<o;i++){var a=t[i],s=a.object,u=a.geometry,l=void 0===r?a.material:r,c=a.group;if(s.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s.onBeforeRender(V,e,n,u,l,c),s.isImmediateRenderObject){b(l);var h=w(n,e.fog,l,s);q="",s.render(function(t){V.renderBufferImmediate(t,h,l)})}else V.renderBufferDirect(n,e.fog,u,l,s,c);s.onAfterRender(V,e,n,u,l,c)}}function b(t){t.side===ff?jt.disable(Ot.CULL_FACE):jt.enable(Ot.CULL_FACE),jt.setFlipSided(t.side===hf),!0===t.transparent?jt.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):jt.setBlending(vf),jt.setDepthFunc(t.depthFunc),jt.setDepthTest(t.depthTest),jt.setDepthWrite(t.depthWrite),jt.setColorWrite(t.colorWrite),jt.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function w(t,e,n,r){tt=0;var i=Zt.get(n);_t&&(bt||t!==Y)&&yt.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,i,t===Y&&n.id===X),!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==e?n.needsUpdate=!0:n.lights&&i.lightsHash!==Ct.hash?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===yt.numPlanes&&i.numIntersection===yt.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(function(t,e,n){var r=Zt.get(t),i=Jt.getParameters(t,Ct,e,yt.numPlanes,yt.numIntersection,n),s=Jt.getProgramCode(t,i),u=r.program,l=!0;if(void 0===u)t.addEventListener("dispose",o);else if(u.code!==s)a(t);else{if(void 0!==i.shaderID)return;l=!1}if(l){if(i.shaderID){var c=yd[i.shaderID];r.__webglShader={name:t.type,uniforms:pd.clone(c.uniforms),vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}}else r.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=r.__webglShader,u=Jt.acquireProgram(t,i,s),r.program=u,t.program=u}var h=u.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var f=0;f<V.maxMorphTargets;f++)h["morphTarget"+f]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals)for(t.numSupportedMorphNormals=0,f=0;f<V.maxMorphNormals;f++)h["morphNormal"+f]>=0&&t.numSupportedMorphNormals++;var p=r.__webglShader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=yt.numPlanes,r.numIntersection=yt.numIntersection,p.clippingPlanes=yt.uniform),r.fog=e,r.lightsHash=Ct.hash,t.lights&&(p.ambientLightColor.value=Ct.ambient,p.directionalLights.value=Ct.directional,p.spotLights.value=Ct.spot,p.rectAreaLights.value=Ct.rectArea,p.pointLights.value=Ct.point,p.hemisphereLights.value=Ct.hemi,p.directionalShadowMap.value=Ct.directionalShadowMap,p.directionalShadowMatrix.value=Ct.directionalShadowMatrix,p.spotShadowMap.value=Ct.spotShadowMap,p.spotShadowMatrix.value=Ct.spotShadowMatrix,p.pointShadowMap.value=Ct.pointShadowMap,p.pointShadowMatrix.value=Ct.pointShadowMatrix);var d=r.program.getUniforms(),m=J.seqWithValue(d.seq,p);r.uniformsList=m}(n,e,r),n.needsUpdate=!1);var s=!1,u=!1,l=!1,c=i.program,h=c.getUniforms(),f=i.__webglShader.uniforms;if(c.id!==G&&(Ot.useProgram(c.program),G=c.id,s=!0,u=!0,l=!0),n.id!==X&&(X=n.id,u=!0),s||t!==Y){if(h.set(Ot,t,"projectionMatrix"),Ut.logarithmicDepthBuffer&&h.setValue(Ot,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),t!==Y&&(Y=t,u=!0,l=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var p=h.map.cameraPosition;void 0!==p&&p.setValue(Ot,Tt.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&h.setValue(Ot,"viewMatrix",t.matrixWorldInverse),h.set(Ot,V,"toneMappingExposure"),h.set(Ot,V,"toneMappingWhitePoint")}if(n.skinning){h.setOptional(Ot,r,"bindMatrix"),h.setOptional(Ot,r,"bindMatrixInverse");var d=r.skeleton;d&&(Ut.floatVertexTextures&&d.useVertexTexture?(h.set(Ot,d,"boneTexture"),h.set(Ot,d,"boneTextureWidth"),h.set(Ot,d,"boneTextureHeight")):h.setOptional(Ot,d,"boneMatrices"))}return u&&(n.lights&&function(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}(f,l),e&&n.fog&&function(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(f,e),(n.isMeshBasicMaterial||n.isMeshLambertMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isMeshNormalMaterial||n.isMeshDepthMaterial)&&function(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;if(e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n){n.isWebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;t.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}(f,n),n.isLineBasicMaterial?x(f,n):n.isLineDashedMaterial?(x(f,n),function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(f,n)):n.isPointsMaterial?function(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*ft,t.scale.value=.5*ht,t.map.value=e.map,null!==e.map){var n=e.map.offset,r=e.map.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}(f,n):n.isMeshLambertMaterial?n.emissiveMap&&(f.emissiveMap.value=n.emissiveMap):n.isMeshToonMaterial?function(t,e){T(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(f,n):n.isMeshPhongMaterial?T(f,n):n.isMeshPhysicalMaterial?function(t,e){t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness,S(t,e)}(f,n):n.isMeshStandardMaterial?S(f,n):n.isMeshDepthMaterial?n.displacementMap&&(f.displacementMap.value=n.displacementMap,f.displacementScale.value=n.displacementScale,f.displacementBias.value=n.displacementBias):n.isMeshNormalMaterial&&function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(f,n),void 0!==f.ltcMat&&(f.ltcMat.value=THREE.UniformsLib.LTC_MAT_TEXTURE),void 0!==f.ltcMag&&(f.ltcMag.value=THREE.UniformsLib.LTC_MAG_TEXTURE),J.upload(Ot,i.uniformsList,f,V)),h.set(Ot,r,"modelViewMatrix"),h.set(Ot,r,"normalMatrix"),h.setValue(Ot,"modelMatrix",r.matrixWorld),c}function x(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function T(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function S(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function E(t){var e;if(t===lp)return Ot.REPEAT;if(t===cp)return Ot.CLAMP_TO_EDGE;if(t===hp)return Ot.MIRRORED_REPEAT;if(t===fp)return Ot.NEAREST;if(t===pp)return Ot.NEAREST_MIPMAP_NEAREST;if(t===dp)return Ot.NEAREST_MIPMAP_LINEAR;if(t===mp)return Ot.LINEAR;if(t===gp)return Ot.LINEAR_MIPMAP_NEAREST;if(t===yp)return Ot.LINEAR_MIPMAP_LINEAR;if(t===vp)return Ot.UNSIGNED_BYTE;if(t===Mp)return Ot.UNSIGNED_SHORT_4_4_4_4;if(t===Ap)return Ot.UNSIGNED_SHORT_5_5_5_1;if(t===Cp)return Ot.UNSIGNED_SHORT_5_6_5;if(t===_p)return Ot.BYTE;if(t===bp)return Ot.SHORT;if(t===wp)return Ot.UNSIGNED_SHORT;if(t===xp)return Ot.INT;if(t===Tp)return Ot.UNSIGNED_INT;if(t===Sp)return Ot.FLOAT;if(t===Ep&&null!==(e=It.get("OES_texture_half_float")))return e.HALF_FLOAT_OES;if(t===Rp)return Ot.ALPHA;if(t===Op)return Ot.RGB;if(t===Lp)return Ot.RGBA;if(t===kp)return Ot.LUMINANCE;if(t===Np)return Ot.LUMINANCE_ALPHA;if(t===Ip)return Ot.DEPTH_COMPONENT;if(t===Dp)return Ot.DEPTH_STENCIL;if(t===Sf)return Ot.FUNC_ADD;if(t===Ef)return Ot.FUNC_SUBTRACT;if(t===Mf)return Ot.FUNC_REVERSE_SUBTRACT;if(t===Pf)return Ot.ZERO;if(t===Rf)return Ot.ONE;if(t===Of)return Ot.SRC_COLOR;if(t===Lf)return Ot.ONE_MINUS_SRC_COLOR;if(t===kf)return Ot.SRC_ALPHA;if(t===Nf)return Ot.ONE_MINUS_SRC_ALPHA;if(t===If)return Ot.DST_ALPHA;if(t===Df)return Ot.ONE_MINUS_DST_ALPHA;if(t===Uf)return Ot.DST_COLOR;if(t===Ff)return Ot.ONE_MINUS_DST_COLOR;if(t===jf)return Ot.SRC_ALPHA_SATURATE;if((t===Up||t===Fp||t===jp||t===Bp)&&null!==(e=It.get("WEBGL_compressed_texture_s3tc"))){if(t===Up)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===Fp)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===jp)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===Bp)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===zp||t===Vp||t===Gp||t===Hp)&&null!==(e=It.get("WEBGL_compressed_texture_pvrtc"))){if(t===zp)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===Vp)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===Gp)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===Hp)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===Wp&&null!==(e=It.get("WEBGL_compressed_texture_etc1")))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===Af||t===Cf)&&null!==(e=It.get("EXT_blend_minmax"))){if(t===Af)return e.MIN_EXT;if(t===Cf)return e.MAX_EXT}return t===Pp&&null!==(e=It.get("WEBGL_depth_texture"))?e.UNSIGNED_INT_24_8_WEBGL:0}console.log("THREE.WebGLRenderer",nf);var M=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),A=void 0!==t.context?t.context:null,C=void 0!==t.alpha&&t.alpha,P=void 0===t.depth||t.depth,R=void 0===t.stencil||t.stencil,O=void 0!==t.antialias&&t.antialias,L=void 0===t.premultipliedAlpha||t.premultipliedAlpha,k=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,N=[],I=[],D=-1,U=[],F=-1,j=new Float32Array(8),B=[],z=[];this.domElement=M,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Jf,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var V=this,G=null,H=null,W=null,X=-1,q="",Y=null,Z=new d,K=null,Q=new d,tt=0,nt=new $(0),it=0,ot=M.width,ht=M.height,ft=1,pt=new d(0,0,ot,ht),dt=!1,mt=new d(0,0,ot,ht),gt=new lt,yt=new function(){function t(){l.value!==r&&(l.value=r,l.needsUpdate=i>0),n.numPlanes=i,n.numIntersection=0}function e(t,e,r,i){var o=null!==t?t.length:0,a=null;if(0!==o){if(a=l.value,!0!==i||null===a){var c=r+4*o,h=e.matrixWorldInverse;u.getNormalMatrix(h),(null===a||a.length<c)&&(a=new Float32Array(c));for(var f=0,p=r;f!==o;++f,p+=4)s.copy(t[f]).applyMatrix4(h,u),s.normal.toArray(a,p),a[p+3]=s.constant}l.value=a,l.needsUpdate=!0}return n.numPlanes=o,a}var n=this,r=null,i=0,o=!1,a=!1,s=new ut,u=new st,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,a){var s=0!==t.length||n||0!==i||o;return o=n,r=e(t,a,0),i=t.length,s},this.beginShadows=function(){a=!0,e(null)},this.endShadows=function(){a=!1,t()},this.setState=function(n,s,u,c,h,f){if(!o||null===n||0===n.length||a&&!u)a?e(null):t();else{var p=a?0:i,d=4*p,m=h.clippingState||null;l.value=m,m=e(n,c,d,f);for(var g=0;g!==d;++g)m[g]=r[g];h.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=p}}},_t=!1,bt=!1,wt=new at,xt=new _,Tt=new v,Et=new _,At=new _,Ct={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Pt={calls:0,vertices:0,faces:0,points:0};this.info={render:Pt,memory:{geometries:0,textures:0},programs:null};var Ot;try{var Lt={alpha:C,depth:P,stencil:R,antialias:O,premultipliedAlpha:L,preserveDrawingBuffer:k};if(null===(Ot=A||M.getContext("webgl",Lt)||M.getContext("experimental-webgl",Lt)))throw null!==M.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===Ot.getShaderPrecisionFormat&&(Ot.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),M.addEventListener("webglcontextlost",i,!1)}catch(t){console.error("THREE.WebGLRenderer: "+t)}var It=new function(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=t.getExtension("WEBGL_compressed_texture_etc1");break;default:r=t.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=r,r}}}(Ot);It.get("WEBGL_depth_texture"),It.get("OES_texture_float"),It.get("OES_texture_float_linear"),It.get("OES_texture_half_float"),It.get("OES_texture_half_float_linear"),It.get("OES_standard_derivatives"),It.get("ANGLE_instanced_arrays"),It.get("OES_element_index_uint")&&(kt.MaxIndex=4294967296);var Ut=new function(t,e,n){function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var i,o=void 0!==n.precision?n.precision:"highp",a=r(o);a!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",a,"instead."),o=a);var s=!0===n.logarithmicDepthBuffer&&!!e.get("EXT_frag_depth"),u=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),c=t.getParameter(t.MAX_TEXTURE_SIZE),h=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),f=t.getParameter(t.MAX_VERTEX_ATTRIBS),p=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),d=t.getParameter(t.MAX_VARYING_VECTORS),m=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=l>0,y=!!e.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==i)return i;var n=e.get("EXT_texture_filter_anisotropic");return i=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:s,maxTextures:u,maxVertexTextures:l,maxTextureSize:c,maxCubemapSize:h,maxAttributes:f,maxVertexUniforms:p,maxVaryings:d,maxFragmentUniforms:m,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y}}(Ot,It,t),jt=new function(t,e,n){function r(e,n,r){var i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var a=0;a<r;a++)t.texImage2D(n+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return o}function i(e){!0!==_[e]&&(t.enable(e),_[e]=!0)}function o(e){!1!==_[e]&&(t.disable(e),_[e]=!1)}function a(e,r,a,s,u,l,c,h){e!==vf?i(t.BLEND):o(t.BLEND),e===w&&h===C||(e===bf?h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===wf?h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===xf?h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),w=e,C=h),e===Tf?(u=u||r,l=l||a,c=c||s,r===x&&u===E||(t.blendEquationSeparate(n(r),n(u)),x=r,E=u),a===T&&s===S&&l===M&&c===A||(t.blendFuncSeparate(n(a),n(s),n(l),n(c)),T=a,S=s,M=l,A=c)):(x=null,T=null,S=null,E=null,M=null,A=null)}function s(t){f.setFunc(t)}function u(e){P!==e&&(t.frontFace(e?t.CW:t.CCW),P=e)}function l(e){e!==rf?(i(t.CULL_FACE),e!==R&&t.cullFace(e===of?t.BACK:e===af?t.FRONT:t.FRONT_AND_BACK)):o(t.CULL_FACE),R=e}function c(e){void 0===e&&(e=t.TEXTURE0+I-1),F!==e&&(t.activeTexture(e),F=e)}var h=new function(){var e=!1,n=new d,r=null,i=new d;return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,o,a,s){!0===s&&(e*=a,r*=a,o*=a),n.set(e,r,o,a),!1===i.equals(n)&&(t.clearColor(e,r,o,a),i.copy(n))},reset:function(){e=!1,r=null,i.set(0,0,0,1)}}},f=new function(){var e=!1,n=null,r=null,a=null;return{setTest:function(e){e?i(t.DEPTH_TEST):o(t.DEPTH_TEST)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case Bf:t.depthFunc(t.NEVER);break;case zf:t.depthFunc(t.ALWAYS);break;case Vf:t.depthFunc(t.LESS);break;case Gf:t.depthFunc(t.LEQUAL);break;case Hf:t.depthFunc(t.EQUAL);break;case Wf:t.depthFunc(t.GEQUAL);break;case Xf:t.depthFunc(t.GREATER);break;case qf:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);r=e}},setLocked:function(t){e=t},setClear:function(e){a!==e&&(t.clearDepth(e),a=e)},reset:function(){e=!1,n=null,r=null,a=null}}},p=new function(){var e=!1,n=null,r=null,a=null,s=null,u=null,l=null,c=null,h=null;return{setTest:function(e){e?i(t.STENCIL_TEST):o(t.STENCIL_TEST)},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,i){r===e&&a===n&&s===i||(t.stencilFunc(e,n,i),r=e,a=n,s=i)},setOp:function(e,n,r){u===e&&l===n&&c===r||(t.stencilOp(e,n,r),u=e,l=n,c=r)},setLocked:function(t){e=t},setClear:function(e){h!==e&&(t.clearStencil(e),h=e)},reset:function(){e=!1,n=null,r=null,a=null,s=null,u=null,l=null,c=null,h=null}}},m=t.getParameter(t.MAX_VERTEX_ATTRIBS),g=new Uint8Array(m),y=new Uint8Array(m),v=new Uint8Array(m),_={},b=null,w=null,x=null,T=null,S=null,E=null,M=null,A=null,C=!1,P=null,R=null,O=null,L=null,k=null,N=null,I=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),D=parseFloat(/^WebGL\ ([0-9])/.exec(t.getParameter(t.VERSION))[1]),U=parseFloat(D)>=1,F=null,j={},B=new d,z=new d,V={};return V[t.TEXTURE_2D]=r(t.TEXTURE_2D,t.TEXTURE_2D,1),V[t.TEXTURE_CUBE_MAP]=r(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:h,depth:f,stencil:p},init:function(){h.setClear(0,0,0,1),f.setClear(1),p.setClear(0),i(t.DEPTH_TEST),s(Gf),u(!1),l(of),i(t.CULL_FACE),i(t.BLEND),a(_f)},initAttributes:function(){for(var t=0,e=g.length;t<e;t++)g[t]=0},enableAttribute:function(n){g[n]=1,0===y[n]&&(t.enableVertexAttribArray(n),y[n]=1),0!==v[n]&&(e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),v[n]=0)},enableAttributeAndDivisor:function(e,n,r){g[e]=1,0===y[e]&&(t.enableVertexAttribArray(e),y[e]=1),v[e]!==n&&(r.vertexAttribDivisorANGLE(e,n),v[e]=n)},disableUnusedAttributes:function(){for(var e=0,n=y.length;e!==n;++e)y[e]!==g[e]&&(t.disableVertexAttribArray(e),y[e]=0)},enable:i,disable:o,getCompressedTextureFormats:function(){if(null===b&&(b=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)b.push(n[r]);return b},setBlending:a,setColorWrite:function(t){h.setMask(t)},setDepthTest:function(t){f.setTest(t)},setDepthWrite:function(t){f.setMask(t)},setDepthFunc:s,setStencilTest:function(t){p.setTest(t)},setStencilWrite:function(t){p.setMask(t)},setStencilFunc:function(t,e,n){p.setFunc(t,e,n)},setStencilOp:function(t,e,n){p.setOp(t,e,n)},setFlipSided:u,setCullFace:l,setLineWidth:function(e){e!==O&&(U&&t.lineWidth(e),O=e)},setPolygonOffset:function(e,n,r){e?(i(t.POLYGON_OFFSET_FILL),L===n&&k===r||(t.polygonOffset(n,r),L=n,k=r)):o(t.POLYGON_OFFSET_FILL)},getScissorTest:function(){return N},setScissorTest:function(e){N=e,e?i(t.SCISSOR_TEST):o(t.SCISSOR_TEST)},activeTexture:c,bindTexture:function(e,n){null===F&&c();var r=j[F];void 0===r&&(j[F]=r={type:void 0,texture:void 0}),r.type===e&&r.texture===n||(t.bindTexture(e,n||V[e]),r.type=e,r.texture=n)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}},scissor:function(e){!1===B.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),B.copy(e))},viewport:function(e){!1===z.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),z.copy(e))},reset:function(){for(var e=0;e<y.length;e++)1===y[e]&&(t.disableVertexAttribArray(e),y[e]=0);_={},b=null,F=null,j={},w=null,P=null,R=null,h.reset(),f.reset(),p.reset()}}}(Ot,It,E),Zt=new function(){var t={};return{get:function(e){var n=e.uuid,r=t[n];return void 0===r&&(t[n]=r={}),r},delete:function(e){delete t[e.uuid]},clear:function(){t={}}}},Kt=new function(t,e,n,r,i,o,a){function s(t,e){if(t.width>e||t.height>e){var n=e/Math.max(t.width,t.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return r.width=Math.floor(t.width*n),r.height=Math.floor(t.height*n),r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+r.width+"x"+r.height,t),r}return t}function u(t){return ad.isPowerOfTwo(t.width)&&ad.isPowerOfTwo(t.height)}function l(e){return e===fp||e===pp||e===dp?t.NEAREST:t.LINEAR}function c(e){var n=e.target;n.removeEventListener("dispose",c),function(e){var n=r.get(e);if(e.image&&n.__image__webglTextureCube)t.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture)}r.delete(e)}(n),g.textures--}function h(e){var n=e.target;n.removeEventListener("dispose",h),function(e){var n=r.get(e),i=r.get(e.texture);if(e){if(void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[o]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);r.delete(e.texture),r.delete(e)}}(n),g.textures--}function f(e,a){var l=r.get(e);if(e.version>0&&l.__version!==e.version){var h=e.image;if(void 0===h)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else{if(!1!==h.complete)return void function(e,r,a){void 0===e.__webglInit&&(e.__webglInit=!0,r.addEventListener("dispose",c),e.__webglTexture=t.createTexture(),g.textures++),n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,r.unpackAlignment);var l=s(r.image,i.maxTextureSize);(r.wrapS!==cp||r.wrapT!==cp||r.minFilter!==fp&&r.minFilter!==mp)&&!1===u(l)&&(l=function(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.width=ad.nearestPowerOfTwo(t.width),e.height=ad.nearestPowerOfTwo(t.height),e.getContext("2d").drawImage(t,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+e.width+"x"+e.height,t),e}return t}(l));var h=u(l),f=o(r.format),d=o(r.type);p(t.TEXTURE_2D,r,h);var m,v=r.mipmaps;if(r.isDepthTexture){var _=t.DEPTH_COMPONENT;if(r.type===Sp){if(!y)throw new Error("Float Depth Texture only supported in WebGL2.0");_=t.DEPTH_COMPONENT32F}else y&&(_=t.DEPTH_COMPONENT16);r.format===Ip&&_===t.DEPTH_COMPONENT&&r.type!==wp&&r.type!==Tp&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=wp,d=o(r.type)),r.format===Dp&&(_=t.DEPTH_STENCIL,r.type!==Pp&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Pp,d=o(r.type))),n.texImage2D(t.TEXTURE_2D,0,_,l.width,l.height,0,f,d,null)}else if(r.isDataTexture)if(v.length>0&&h){for(var b=0,w=v.length;b<w;b++)n.texImage2D(t.TEXTURE_2D,b,f,(m=v[b]).width,m.height,0,f,d,m.data);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,f,l.width,l.height,0,f,d,l.data);else if(r.isCompressedTexture)for(b=0,w=v.length;b<w;b++)m=v[b],r.format!==Lp&&r.format!==Op?n.getCompressedTextureFormats().indexOf(f)>-1?n.compressedTexImage2D(t.TEXTURE_2D,b,f,m.width,m.height,0,m.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(t.TEXTURE_2D,b,f,m.width,m.height,0,f,d,m.data);else if(v.length>0&&h){for(b=0,w=v.length;b<w;b++)n.texImage2D(t.TEXTURE_2D,b,f,f,d,m=v[b]);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,f,f,d,l);r.generateMipmaps&&h&&t.generateMipmap(t.TEXTURE_2D),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}(l,e,a);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}}n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_2D,l.__webglTexture)}function p(n,a,s){var u;if(s?(t.texParameteri(n,t.TEXTURE_WRAP_S,o(a.wrapS)),t.texParameteri(n,t.TEXTURE_WRAP_T,o(a.wrapT)),t.texParameteri(n,t.TEXTURE_MAG_FILTER,o(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,o(a.minFilter))):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),a.wrapS===cp&&a.wrapT===cp||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",a),t.texParameteri(n,t.TEXTURE_MAG_FILTER,l(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,l(a.minFilter)),a.minFilter!==fp&&a.minFilter!==mp&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",a)),u=e.get("EXT_texture_filter_anisotropic")){if(a.type===Sp&&null===e.get("OES_texture_float_linear"))return;if(a.type===Ep&&null===e.get("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(t.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function d(e,i,a,s){var u=o(i.texture.format),l=o(i.texture.type);n.texImage2D(s,0,u,i.width,i.height,0,u,l,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,a,s,r.get(i.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function m(e,n){t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):n.depthBuffer&&n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,n.width,n.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}var g=a.memory,y="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext;this.setTexture2D=f,this.setTextureCube=function(e,a){var l=r.get(e);if(6===e.image.length)if(e.version>0&&l.__version!==e.version){l.__image__webglTextureCube||(e.addEventListener("dispose",c),l.__image__webglTextureCube=t.createTexture(),g.textures++),n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_CUBE_MAP,l.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var h=e&&e.isCompressedTexture,f=e.image[0]&&e.image[0].isDataTexture,d=[],m=0;m<6;m++)d[m]=h||f?f?e.image[m].image:e.image[m]:s(e.image[m],i.maxCubemapSize);var y=u(d[0]),v=o(e.format),_=o(e.type);for(p(t.TEXTURE_CUBE_MAP,e,y),m=0;m<6;m++)if(h)for(var b,w=d[m].mipmaps,x=0,T=w.length;x<T;x++)b=w[x],e.format!==Lp&&e.format!==Op?n.getCompressedTextureFormats().indexOf(v)>-1?n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,x,v,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,x,v,b.width,b.height,0,v,_,b.data);else f?n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,v,d[m].width,d[m].height,0,v,_,d[m].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,v,v,_,d[m]);e.generateMipmaps&&y&&t.generateMipmap(t.TEXTURE_CUBE_MAP),l.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_CUBE_MAP,l.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,i){n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_CUBE_MAP,r.get(e).__webglTexture)},this.setupRenderTarget=function(e){var i=r.get(e),o=r.get(e.texture);e.addEventListener("dispose",h),o.__webglTexture=t.createTexture(),g.textures++;var a=!0===e.isWebGLRenderTargetCube,s=u(e);if(a){i.__webglFramebuffer=[];for(var l=0;l<6;l++)i.__webglFramebuffer[l]=t.createFramebuffer()}else i.__webglFramebuffer=t.createFramebuffer();if(a){for(n.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),p(t.TEXTURE_CUBE_MAP,e.texture,s),l=0;l<6;l++)d(i.__webglFramebuffer[l],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+l);e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_CUBE_MAP),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else n.bindTexture(t.TEXTURE_2D,o.__webglTexture),p(t.TEXTURE_2D,e.texture,s),d(i.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_2D),n.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&function(e){var n=r.get(e),i=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported!");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),f(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Ip)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==Dp)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,i,0)}}(n.__webglFramebuffer,e)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=t.createRenderbuffer(),m(n.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),m(n.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}(e)},this.updateRenderTargetMipmap=function(e){var i=e.texture;if(i.generateMipmaps&&u(e)&&i.minFilter!==fp&&i.minFilter!==mp){var o=e&&e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=r.get(i).__webglTexture;n.bindTexture(o,a),t.generateMipmap(o),n.bindTexture(o,null)}}}(Ot,It,jt,Zt,Ut,E,this.info),Qt=new function(t,e,n){function r(n,r){var i=n.isInterleavedBufferAttribute?n.data:n,o=e.get(i);void 0===o.__webglBuffer?function(e,n,r){e.__webglBuffer=t.createBuffer(),t.bindBuffer(r,e.__webglBuffer),t.bufferData(r,n.array,n.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW);var i=t.FLOAT,o=n.array;o instanceof Float32Array?i=t.FLOAT:o instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):o instanceof Uint16Array?i=t.UNSIGNED_SHORT:o instanceof Int16Array?i=t.SHORT:o instanceof Uint32Array?i=t.UNSIGNED_INT:o instanceof Int32Array?i=t.INT:o instanceof Int8Array?i=t.BYTE:o instanceof Uint8Array&&(i=t.UNSIGNED_BYTE),e.bytesPerElement=o.BYTES_PER_ELEMENT,e.type=i,e.version=n.version,n.onUploadCallback()}(o,i,r):o.version!==i.version&&function(e,n,r){t.bindBuffer(r,e.__webglBuffer),!1===n.dynamic?t.bufferData(r,n.array,t.STATIC_DRAW):-1===n.updateRange.count?t.bufferSubData(r,0,n.array):0===n.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(r,n.updateRange.offset*n.array.BYTES_PER_ELEMENT,n.array.subarray(n.updateRange.offset,n.updateRange.offset+n.updateRange.count)),n.updateRange.count=0),e.version=n.version}(o,i,r)}var i=new function(t,e,n){function r(t){var a=t.target,s=o[a.id];null!==s.index&&i(s.index),function(t){for(var e in t)i(t[e])}(s.attributes),a.removeEventListener("dispose",r),delete o[a.id];var u=e.get(a);u.wireframe&&i(u.wireframe),e.delete(a);var l=e.get(s);l.wireframe&&i(l.wireframe),e.delete(s),n.memory.geometries--}function i(n){var r=function(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}(n);void 0!==r&&(t.deleteBuffer(r),e.delete(n.isInterleavedBufferAttribute?n.data:n))}var o={};return{get:function(t){var e=t.geometry;if(void 0!==o[e.id])return o[e.id];e.addEventListener("dispose",r);var i;return e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new kt).setFromObject(t)),i=e._bufferGeometry),o[e.id]=i,n.memory.geometries++,i}}}(t,e,n);return{getAttributeBuffer:function(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer},getAttributeProperties:function(t){return e.get(t.isInterleavedBufferAttribute?t.data:t)},getWireframeAttribute:function(n){var i=e.get(n);if(void 0!==i.wireframe)return i.wireframe;var o=[],a=n.index,s=n.attributes;if(null!==a)for(var u=0,l=(c=a.array).length;u<l;u+=3)o.push(h=c[u+0],f=c[u+1],f,p=c[u+2],p,h);else{var c;for(u=0,l=(c=s.position.array).length/3-1;u<l;u+=3){var h,f,p;o.push(h=u+0,f=u+1,f,p=u+2,p,h)}}var d=new(Rt(o)>65535?Mt:St)(o,1);return r(d,t.ELEMENT_ARRAY_BUFFER),i.wireframe=d,d},update:function(e){var n=i.get(e);e.geometry.isGeometry&&n.updateFromObject(e);var o=n.index,a=n.attributes;null!==o&&r(o,t.ELEMENT_ARRAY_BUFFER);for(var s in a)r(a[s],t.ARRAY_BUFFER);var u=n.morphAttributes;for(var s in u)for(var l=u[s],c=0,h=l.length;c<h;c++)r(l[c],t.ARRAY_BUFFER);return n}}}(Ot,Zt,this.info),Jt=new function(t,e){function n(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=Qp,n===Qp&&e&&(n=$p),n}var r=[],i={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},o=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking"];this.getParameters=function(r,o,a,s,u,l){var c=i[r.type],h=function(t){if(e.floatVertexTextures&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var n=e.maxVertexUniforms,r=Math.floor((n-20)/4);return void 0!==t&&t&&t.isSkinnedMesh&&(r=Math.min(t.skeleton.bones.length,r))<t.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+t.skeleton.bones.length+", this GPU supports just "+r+" (try OpenGL instead of ANGLE)"),r}(l),f=t.getPrecision();null!==r.precision&&(f=e.getMaxPrecision(r.precision))!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",f,"instead.");var p=t.getCurrentRenderTarget();return{shaderID:c,precision:f,supportsVertexTextures:e.vertexTextures,outputEncoding:n(p?p.texture:null,t.gammaOutput),map:!!r.map,mapEncoding:n(r.map,t.gammaInput),envMap:!!r.envMap,envMapMode:r.envMap&&r.envMap.mapping,envMapEncoding:n(r.envMap,t.gammaInput),envMapCubeUV:!!r.envMap&&(r.envMap.mapping===sp||r.envMap.mapping===up),lightMap:!!r.lightMap,aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:n(r.emissiveMap,t.gammaInput),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,combine:r.combine,vertexColors:r.vertexColors,fog:!!a,useFog:r.fog,fogExp:a&&a.isFogExp2,flatShading:r.shading===pf,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:r.skinning,maxBones:h,useVertexTexture:e.floatVertexTextures&&l&&l.skeleton&&l.skeleton.useVertexTexture,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numClippingPlanes:s,numClipIntersection:u,shadowMapEnabled:t.shadowMap.enabled&&l.receiveShadow&&o.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:r.side===ff,flipSided:r.side===hf,depthPacking:void 0!==r.depthPacking&&r.depthPacking}},this.getProgramCode=function(t,e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);for(var i=0;i<o.length;i++)n.push(e[o[i]]);return n.join()},this.acquireProgram=function(e,n,i){for(var o,a=0,s=r.length;a<s;a++){var u=r[a];if(u.code===i){++(o=u).usedTimes;break}}return void 0===o&&(o=new function(t,e,n,r){var i=t.context,o=n.defines,a=n.__webglShader.vertexShader,s=n.__webglShader.fragmentShader,u="SHADOWMAP_TYPE_BASIC";r.shadowMapType===uf?u="SHADOWMAP_TYPE_PCF":r.shadowMapType===lf&&(u="SHADOWMAP_TYPE_PCF_SOFT");var l="ENVMAP_TYPE_CUBE",c="ENVMAP_MODE_REFLECTION",h="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(n.envMap.mapping){case np:case rp:l="ENVMAP_TYPE_CUBE";break;case sp:case up:l="ENVMAP_TYPE_CUBE_UV";break;case ip:case op:l="ENVMAP_TYPE_EQUIREC";break;case ap:l="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case rp:case op:c="ENVMAP_MODE_REFRACTION"}switch(n.combine){case Yf:h="ENVMAP_BLENDING_MULTIPLY";break;case Zf:h="ENVMAP_BLENDING_MIX";break;case Kf:h="ENVMAP_BLENDING_ADD"}}var f,p,d=t.gammaFactor>0?t.gammaFactor:1,m=function(t,e,n){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Wt).join("\n")}(n.extensions,r,t.extensions),g=function(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(o),y=i.createProgram();n.isRawShaderMaterial?(f=[g,"\n"].filter(Wt).join("\n"),p=[m,g,"\n"].filter(Wt).join("\n")):(f=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,g,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+c:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Wt).join("\n"),p=[m,"precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,g,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+d,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+l:"",r.envMap?"#define "+c:"",r.envMap?"#define "+h:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(r.numClippingPlanes-r.numClipIntersection),r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&t.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",r.toneMapping!==Qf?"#define TONE_MAPPING":"",r.toneMapping!==Qf?dd.tonemapping_pars_fragment:"",r.toneMapping!==Qf?function(t,e){var n;switch(e){case Jf:n="Linear";break;case $f:n="Reinhard";break;case tp:n="Uncharted2";break;case ep:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 toneMapping( vec3 color ) { return "+n+"ToneMapping( color ); }"}(0,r.toneMapping):"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?dd.encodings_pars_fragment:"",r.mapEncoding?Ht("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?Ht("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?Ht("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?function(t,e){var n=Gt(r.outputEncoding);return"vec4 linearToOutputTexel( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}():"",r.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Wt).join("\n")),a=Xt(a=qt(a),r),s=Xt(s=qt(s),r),n.isShaderMaterial||(a=Yt(a),s=Yt(s));var v=p+s,_=Vt(i,i.VERTEX_SHADER,f+a),b=Vt(i,i.FRAGMENT_SHADER,v);i.attachShader(y,_),i.attachShader(y,b),void 0!==n.index0AttributeName?i.bindAttribLocation(y,0,n.index0AttributeName):!0===r.morphTargets&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);var w=i.getProgramInfoLog(y),x=i.getShaderInfoLog(_),T=i.getShaderInfoLog(b),S=!0,E=!0;!1===i.getProgramParameter(y,i.LINK_STATUS)?(S=!1,console.error("THREE.WebGLProgram: shader error: ",i.getError(),"gl.VALIDATE_STATUS",i.getProgramParameter(y,i.VALIDATE_STATUS),"gl.getProgramInfoLog",w,x,T)):""!==w?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",w):""!==x&&""!==T||(E=!1),E&&(this.diagnostics={runnable:S,material:n,programLog:w,vertexShader:{log:x,prefix:f},fragmentShader:{log:T,prefix:p}}),i.deleteShader(_),i.deleteShader(b);var M;this.getUniforms=function(){return void 0===M&&(M=new J(i,y,t)),M};var A;return this.getAttributes=function(){return void 0===A&&(A=function(t,e,n){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=t.getActiveAttrib(e,o).name;r[a]=t.getAttribLocation(e,a)}return r}(i,y)),A},this.destroy=function(){i.deleteProgram(y),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=wd++,this.code=e,this.usedTimes=1,this.program=y,this.vertexShader=_,this.fragmentShader=b,this}(t,i,e,n),r.push(o)),o},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=r.indexOf(t);r[e]=r[r.length-1],r.pop(),t.destroy()}},this.programs=r}(this,Ut),$t=new function(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new v,color:new $,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new f};break;case"SpotLight":n={position:new v,direction:new v,color:new $,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new f};break;case"PointLight":n={position:new v,color:new $,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new f};break;case"HemisphereLight":n={direction:new v,skyColor:new $,groundColor:new $};break;case"RectAreaLight":n={color:new $,position:new v,halfWidth:new v,halfHeight:new v}}return t[e.id]=n,n}}};this.info.programs=Jt.programs;var te,ee,ne,re,ie=new function(t,e,n){var r;return{setMode:function(t){r=t},render:function(e,i){t.drawArrays(r,e,i),n.calls++,n.vertices+=i,r===t.TRIANGLES&&(n.faces+=i/3)},renderInstances:function(i){var o=e.get("ANGLE_instanced_arrays");if(null!==o){var a=i.attributes.position,s=0;a.isInterleavedBufferAttribute?o.drawArraysInstancedANGLE(r,0,s=a.data.count,i.maxInstancedCount):o.drawArraysInstancedANGLE(r,0,s=a.count,i.maxInstancedCount),n.calls++,n.vertices+=s*i.maxInstancedCount,r===t.TRIANGLES&&(n.faces+=i.maxInstancedCount*s/3)}else console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}}(Ot,It,Pt),oe=new function(t,e,n){var r,i,o;return{setMode:function(t){r=t},setIndex:function(n){n.array instanceof Uint32Array&&e.get("OES_element_index_uint")?(i=t.UNSIGNED_INT,o=4):n.array instanceof Uint16Array?(i=t.UNSIGNED_SHORT,o=2):(i=t.UNSIGNED_BYTE,o=1)},render:function(e,a){t.drawElements(r,a,i,e*o),n.calls++,n.vertices+=a,r===t.TRIANGLES&&(n.faces+=a/3)},renderInstances:function(a,s,u){var l=e.get("ANGLE_instanced_arrays");null!==l?(l.drawElementsInstancedANGLE(r,u,i,s*o,a.maxInstancedCount),n.calls++,n.vertices+=u*a.maxInstancedCount,r===t.TRIANGLES&&(n.faces+=a.maxInstancedCount*u/3)):console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}}(Ot,It,Pt);n(),this.context=Ot,this.capabilities=Ut,this.extensions=It,this.properties=Zt,this.state=jt;var ae=new ct(this,Ct,Qt,Ut);this.shadowMap=ae;var se=new function(t,e){function n(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}var r,i,o,a,s,u,l=t.context,c=t.state,h=new v,f=new y,d=new v;this.render=function(m,g){if(0!==e.length){void 0===o&&function(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),n=new Uint16Array([0,1,2,0,2,3]);r=l.createBuffer(),i=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,r),l.bufferData(l.ARRAY_BUFFER,e,l.STATIC_DRAW),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,i),l.bufferData(l.ELEMENT_ARRAY_BUFFER,n,l.STATIC_DRAW),o=function(){var e=l.createProgram(),n=l.createShader(l.VERTEX_SHADER),r=l.createShader(l.FRAGMENT_SHADER);return l.shaderSource(n,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),l.shaderSource(r,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),l.compileShader(n),l.compileShader(r),l.attachShader(e,n),l.attachShader(e,r),l.linkProgram(e),e}(),a={position:l.getAttribLocation(o,"position"),uv:l.getAttribLocation(o,"uv")},s={uvOffset:l.getUniformLocation(o,"uvOffset"),uvScale:l.getUniformLocation(o,"uvScale"),rotation:l.getUniformLocation(o,"rotation"),scale:l.getUniformLocation(o,"scale"),color:l.getUniformLocation(o,"color"),map:l.getUniformLocation(o,"map"),opacity:l.getUniformLocation(o,"opacity"),modelViewMatrix:l.getUniformLocation(o,"modelViewMatrix"),projectionMatrix:l.getUniformLocation(o,"projectionMatrix"),fogType:l.getUniformLocation(o,"fogType"),fogDensity:l.getUniformLocation(o,"fogDensity"),fogNear:l.getUniformLocation(o,"fogNear"),fogFar:l.getUniformLocation(o,"fogFar"),fogColor:l.getUniformLocation(o,"fogColor"),alphaTest:l.getUniformLocation(o,"alphaTest")};var c=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");c.width=8,c.height=8;var h=c.getContext("2d");h.fillStyle="white",h.fillRect(0,0,8,8),(u=new p(c)).needsUpdate=!0}(),l.useProgram(o),c.initAttributes(),c.enableAttribute(a.position),c.enableAttribute(a.uv),c.disableUnusedAttributes(),c.disable(l.CULL_FACE),c.enable(l.BLEND),l.bindBuffer(l.ARRAY_BUFFER,r),l.vertexAttribPointer(a.position,2,l.FLOAT,!1,16,0),l.vertexAttribPointer(a.uv,2,l.FLOAT,!1,16,8),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,i),l.uniformMatrix4fv(s.projectionMatrix,!1,g.projectionMatrix.elements),c.activeTexture(l.TEXTURE0),l.uniform1i(s.map,0);var y=0,v=0,_=m.fog;_?(l.uniform3f(s.fogColor,_.color.r,_.color.g,_.color.b),_.isFog?(l.uniform1f(s.fogNear,_.near),l.uniform1f(s.fogFar,_.far),l.uniform1i(s.fogType,1),y=1,v=1):_.isFogExp2&&(l.uniform1f(s.fogDensity,_.density),l.uniform1i(s.fogType,2),y=2,v=2)):(l.uniform1i(s.fogType,0),y=0,v=0);for(var b=0,w=e.length;b<w;b++)(T=e[b]).modelViewMatrix.multiplyMatrices(g.matrixWorldInverse,T.matrixWorld),T.z=-T.modelViewMatrix.elements[14];e.sort(n);var x=[];for(b=0,w=e.length;b<w;b++){var T,S=(T=e[b]).material;if(!1!==S.visible){l.uniform1f(s.alphaTest,S.alphaTest),l.uniformMatrix4fv(s.modelViewMatrix,!1,T.modelViewMatrix.elements),T.matrixWorld.decompose(h,f,d),x[0]=d.x,x[1]=d.y;var E=0;m.fog&&S.fog&&(E=v),y!==E&&(l.uniform1i(s.fogType,E),y=E),null!==S.map?(l.uniform2f(s.uvOffset,S.map.offset.x,S.map.offset.y),l.uniform2f(s.uvScale,S.map.repeat.x,S.map.repeat.y)):(l.uniform2f(s.uvOffset,0,0),l.uniform2f(s.uvScale,1,1)),l.uniform1f(s.opacity,S.opacity),l.uniform3f(s.color,S.color.r,S.color.g,S.color.b),l.uniform1f(s.rotation,S.rotation),l.uniform2fv(s.scale,x),c.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst),c.setDepthTest(S.depthTest),c.setDepthWrite(S.depthWrite),S.map?t.setTexture2D(S.map,0):t.setTexture2D(u,0),l.drawElements(l.TRIANGLES,6,l.UNSIGNED_SHORT,0)}}c.enable(l.CULL_FACE),t.resetGLState()}}}(this,B),ue=new function(t,e){var n,r,i,o,a,s,u,l,c=t.context,h=t.state;this.render=function(p,d,m){if(0!==e.length){var g=new v,y=m.w/m.z,_=.5*m.z,b=.5*m.w,w=16/m.w,x=new f(w*y,w),T=new v(1,1,0),S=new f(1,1),E=new et;E.min.set(m.x,m.y),E.max.set(m.x+(m.z-16),m.y+(m.w-16)),void 0===o&&function(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),f=new Uint16Array([0,1,2,0,2,3]);n=c.createBuffer(),r=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,n),c.bufferData(c.ARRAY_BUFFER,e,c.STATIC_DRAW),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,r),c.bufferData(c.ELEMENT_ARRAY_BUFFER,f,c.STATIC_DRAW),u=c.createTexture(),l=c.createTexture(),h.bindTexture(c.TEXTURE_2D,u),c.texImage2D(c.TEXTURE_2D,0,c.RGB,16,16,0,c.RGB,c.UNSIGNED_BYTE,null),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),h.bindTexture(c.TEXTURE_2D,l),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,16,16,0,c.RGBA,c.UNSIGNED_BYTE,null),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),i={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},o=function(e){var n=c.createProgram(),r=c.createShader(c.FRAGMENT_SHADER),i=c.createShader(c.VERTEX_SHADER),o="precision "+t.getPrecision()+" float;\n";return c.shaderSource(r,o+e.fragmentShader),c.shaderSource(i,o+e.vertexShader),c.compileShader(r),c.compileShader(i),c.attachShader(n,r),c.attachShader(n,i),c.linkProgram(n),n}(i),a={vertex:c.getAttribLocation(o,"position"),uv:c.getAttribLocation(o,"uv")},s={renderType:c.getUniformLocation(o,"renderType"),map:c.getUniformLocation(o,"map"),occlusionMap:c.getUniformLocation(o,"occlusionMap"),opacity:c.getUniformLocation(o,"opacity"),color:c.getUniformLocation(o,"color"),scale:c.getUniformLocation(o,"scale"),rotation:c.getUniformLocation(o,"rotation"),screenPosition:c.getUniformLocation(o,"screenPosition")}}(),c.useProgram(o),h.initAttributes(),h.enableAttribute(a.vertex),h.enableAttribute(a.uv),h.disableUnusedAttributes(),c.uniform1i(s.occlusionMap,0),c.uniform1i(s.map,1),c.bindBuffer(c.ARRAY_BUFFER,n),c.vertexAttribPointer(a.vertex,2,c.FLOAT,!1,16,0),c.vertexAttribPointer(a.uv,2,c.FLOAT,!1,16,8),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,r),h.disable(c.CULL_FACE),h.setDepthWrite(!1);for(var M=0,A=e.length;M<A;M++){x.set((w=16/m.w)*y,w);var C=e[M];if(g.set(C.matrixWorld.elements[12],C.matrixWorld.elements[13],C.matrixWorld.elements[14]),g.applyMatrix4(d.matrixWorldInverse),g.applyMatrix4(d.projectionMatrix),T.copy(g),S.x=m.x+T.x*_+_-8,S.y=m.y+T.y*b+b-8,!0===E.containsPoint(S)){h.activeTexture(c.TEXTURE0),h.bindTexture(c.TEXTURE_2D,null),h.activeTexture(c.TEXTURE1),h.bindTexture(c.TEXTURE_2D,u),c.copyTexImage2D(c.TEXTURE_2D,0,c.RGB,S.x,S.y,16,16,0),c.uniform1i(s.renderType,0),c.uniform2f(s.scale,x.x,x.y),c.uniform3f(s.screenPosition,T.x,T.y,T.z),h.disable(c.BLEND),h.enable(c.DEPTH_TEST),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0),h.activeTexture(c.TEXTURE0),h.bindTexture(c.TEXTURE_2D,l),c.copyTexImage2D(c.TEXTURE_2D,0,c.RGBA,S.x,S.y,16,16,0),c.uniform1i(s.renderType,1),h.disable(c.DEPTH_TEST),h.activeTexture(c.TEXTURE1),h.bindTexture(c.TEXTURE_2D,u),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0),C.positionScreen.copy(T),C.customUpdateCallback?C.customUpdateCallback(C):C.updateLensFlares(),c.uniform1i(s.renderType,2),h.enable(c.BLEND);for(var P=0,R=C.lensFlares.length;P<R;P++){var O=C.lensFlares[P];O.opacity>.001&&O.scale>.001&&(T.x=O.x,T.y=O.y,T.z=O.z,x.x=(w=O.size*O.scale/m.w)*y,x.y=w,c.uniform3f(s.screenPosition,T.x,T.y,T.z),c.uniform2f(s.scale,x.x,x.y),c.uniform1f(s.rotation,O.rotation),c.uniform1f(s.opacity,O.opacity),c.uniform3f(s.color,O.color.r,O.color.g,O.color.b),h.setBlending(O.blending,O.blendEquation,O.blendSrc,O.blendDst),t.setTexture2D(O.texture,1),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0))}}}h.enable(c.CULL_FACE),h.enable(c.DEPTH_TEST),h.setDepthWrite(!0),t.resetGLState()}}}(this,z);this.getContext=function(){return Ot},this.getContextAttributes=function(){return Ot.getContextAttributes()},this.forceContextLoss=function(){It.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){return Ut.getMaxAnisotropy()},this.getPrecision=function(){return Ut.precision},this.getPixelRatio=function(){return ft},this.setPixelRatio=function(t){void 0!==t&&(ft=t,this.setSize(mt.z,mt.w,!1))},this.getSize=function(){return{width:ot,height:ht}},this.setSize=function(t,e,n){ot=t,ht=e,M.width=t*ft,M.height=e*ft,!1!==n&&(M.style.width=t+"px",M.style.height=e+"px"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,n,r){jt.viewport(mt.set(t,e,n,r))},this.setScissor=function(t,e,n,r){jt.scissor(pt.set(t,e,n,r))},this.setScissorTest=function(t){jt.setScissorTest(dt=t)},this.getClearColor=function(){return nt},this.setClearColor=function(t,e){nt.set(t),jt.buffers.color.setClear(nt.r,nt.g,nt.b,it=void 0!==e?e:1,L)},this.getClearAlpha=function(){return it},this.setClearAlpha=function(t){jt.buffers.color.setClear(nt.r,nt.g,nt.b,it=t,L)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=Ot.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=Ot.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=Ot.STENCIL_BUFFER_BIT),Ot.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,r){this.setRenderTarget(t),this.clear(e,n,r)},this.resetGLState=r,this.dispose=function(){U=[],F=-1,I=[],D=-1,M.removeEventListener("webglcontextlost",i,!1)},this.renderBufferImmediate=function(t,e,n){jt.initAttributes();var r=Zt.get(t);t.hasPositions&&!r.position&&(r.position=Ot.createBuffer()),t.hasNormals&&!r.normal&&(r.normal=Ot.createBuffer()),t.hasUvs&&!r.uv&&(r.uv=Ot.createBuffer()),t.hasColors&&!r.color&&(r.color=Ot.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(Ot.bindBuffer(Ot.ARRAY_BUFFER,r.position),Ot.bufferData(Ot.ARRAY_BUFFER,t.positionArray,Ot.DYNAMIC_DRAW),jt.enableAttribute(i.position),Ot.vertexAttribPointer(i.position,3,Ot.FLOAT,!1,0,0)),t.hasNormals){if(Ot.bindBuffer(Ot.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&n.shading===pf)for(var o=0,a=3*t.count;o<a;o+=9){var s=t.normalArray,u=(s[o+0]+s[o+3]+s[o+6])/3,l=(s[o+1]+s[o+4]+s[o+7])/3,c=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=u,s[o+1]=l,s[o+2]=c,s[o+3]=u,s[o+4]=l,s[o+5]=c,s[o+6]=u,s[o+7]=l,s[o+8]=c}Ot.bufferData(Ot.ARRAY_BUFFER,t.normalArray,Ot.DYNAMIC_DRAW),jt.enableAttribute(i.normal),Ot.vertexAttribPointer(i.normal,3,Ot.FLOAT,!1,0,0)}t.hasUvs&&n.map&&(Ot.bindBuffer(Ot.ARRAY_BUFFER,r.uv),Ot.bufferData(Ot.ARRAY_BUFFER,t.uvArray,Ot.DYNAMIC_DRAW),jt.enableAttribute(i.uv),Ot.vertexAttribPointer(i.uv,2,Ot.FLOAT,!1,0,0)),t.hasColors&&n.vertexColors!==mf&&(Ot.bindBuffer(Ot.ARRAY_BUFFER,r.color),Ot.bufferData(Ot.ARRAY_BUFFER,t.colorArray,Ot.DYNAMIC_DRAW),jt.enableAttribute(i.color),Ot.vertexAttribPointer(i.color,3,Ot.FLOAT,!1,0,0)),jt.disableUnusedAttributes(),Ot.drawArrays(Ot.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,n,r,i,o,a){b(i);var u=w(t,n,i,o),l=!1,c=r.id+"_"+u.id+"_"+i.wireframe;c!==q&&(q=c,l=!0);var h=o.morphTargetInfluences;if(void 0!==h){for(var f=[],p=0,d=h.length;p<d;p++)f.push([g=h[p],p]);f.sort(s),f.length>8&&(f.length=8);var m=r.morphAttributes;for(p=0,d=f.length;p<d;p++){var g;if(j[p]=(g=f[p])[0],0!==g[0]){var y=g[1];!0===i.morphTargets&&m.position&&r.addAttribute("morphTarget"+p,m.position[y]),!0===i.morphNormals&&m.normal&&r.addAttribute("morphNormal"+p,m.normal[y])}else!0===i.morphTargets&&r.removeAttribute("morphTarget"+p),!0===i.morphNormals&&r.removeAttribute("morphNormal"+p)}p=f.length;for(var v=j.length;p<v;p++)j[p]=0;u.getUniforms().setValue(Ot,"morphTargetInfluences",j),l=!0}y=r.index;var _=r.attributes.position,x=1;!0===i.wireframe&&(y=Qt.getWireframeAttribute(r),x=2);var T;null!==y?(T=oe).setIndex(y):T=ie,l&&(function(t,e,n,r){var i;if(n&&n.isInstancedBufferGeometry&&null===(i=It.get("ANGLE_instanced_arrays")))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{void 0===r&&(r=0),jt.initAttributes();var o=n.attributes,a=e.getAttributes(),s=t.defaultAttributeValues;for(var u in a){var l=a[u];if(l>=0){var c=o[u];if(void 0!==c){var h=c.normalized,f=c.itemSize,p=Qt.getAttributeProperties(c),d=p.__webglBuffer,m=p.type,g=p.bytesPerElement;if(c.isInterleavedBufferAttribute){var y=c.data,v=y.stride,_=c.offset;y&&y.isInstancedInterleavedBuffer?(jt.enableAttributeAndDivisor(l,y.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=y.meshPerAttribute*y.count)):jt.enableAttribute(l),Ot.bindBuffer(Ot.ARRAY_BUFFER,d),Ot.vertexAttribPointer(l,f,m,h,v*g,(r*v+_)*g)}else c.isInstancedBufferAttribute?(jt.enableAttributeAndDivisor(l,c.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):jt.enableAttribute(l),Ot.bindBuffer(Ot.ARRAY_BUFFER,d),Ot.vertexAttribPointer(l,f,m,h,0,r*f*g)}else if(void 0!==s){var b=s[u];if(void 0!==b)switch(b.length){case 2:Ot.vertexAttrib2fv(l,b);break;case 3:Ot.vertexAttrib3fv(l,b);break;case 4:Ot.vertexAttrib4fv(l,b);break;default:Ot.vertexAttrib1fv(l,b)}}}}jt.disableUnusedAttributes()}}(i,u,r),null!==y&&Ot.bindBuffer(Ot.ELEMENT_ARRAY_BUFFER,Qt.getAttributeBuffer(y)));var S=0;null!==y?S=y.count:void 0!==_&&(S=_.count);var E=r.drawRange.start*x,M=r.drawRange.count*x,A=null!==a?a.start*x:0,C=null!==a?a.count*x:1/0,P=Math.max(E,A),R=Math.min(S,E+M,A+C)-1,O=Math.max(0,R-P+1);if(0!==O){if(o.isMesh)if(!0===i.wireframe)jt.setLineWidth(i.wireframeLinewidth*e()),T.setMode(Ot.LINES);else switch(o.drawMode){case Yp:T.setMode(Ot.TRIANGLES);break;case Zp:T.setMode(Ot.TRIANGLE_STRIP);break;case Kp:T.setMode(Ot.TRIANGLE_FAN)}else if(o.isLine){var L=i.linewidth;void 0===L&&(L=1),jt.setLineWidth(L*e()),T.setMode(o.isLineSegments?Ot.LINES:Ot.LINE_STRIP)}else o.isPoints&&T.setMode(Ot.POINTS);r&&r.isInstancedBufferGeometry?r.maxInstancedCount>0&&T.renderInstances(r,P,O):T.render(P,O)}},this.render=function(t,e,n,r){if(void 0===e||!0===e.isCamera){q="",X=-1,Y=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),xt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),gt.setFromMatrix(xt),N.length=0,D=-1,F=-1,B.length=0,z.length=0,_t=yt.init(this.clippingPlanes,bt=this.localClippingEnabled,e),m(t,e),I.length=D+1,U.length=F+1,!0===V.sortObjects&&(I.sort(u),U.sort(l)),_t&&yt.beginShadows(),function(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];i.castShadow&&(Ct.shadows[e++]=i)}Ct.shadows.length=e}(N),ae.render(t,e),function(t,n){var r,i,o,a,s,u,l,c=0,h=0,f=0,p=e.matrixWorldInverse,d=0,m=0,g=0,y=0,v=0;for(r=0,i=t.length;r<i;r++)if(o=t[r],a=o.color,s=o.intensity,u=o.distance,l=o.shadow&&o.shadow.map?o.shadow.map.texture:null,o.isAmbientLight)c+=a.r*s,h+=a.g*s,f+=a.b*s;else if(o.isDirectionalLight)(b=$t.get(o)).color.copy(o.color).multiplyScalar(o.intensity),b.direction.setFromMatrixPosition(o.matrixWorld),Tt.setFromMatrixPosition(o.target.matrixWorld),b.direction.sub(Tt),b.direction.transformDirection(p),b.shadow=o.castShadow,o.castShadow&&(b.shadowBias=o.shadow.bias,b.shadowRadius=o.shadow.radius,b.shadowMapSize=o.shadow.mapSize),Ct.directionalShadowMap[d]=l,Ct.directionalShadowMatrix[d]=o.shadow.matrix,Ct.directional[d++]=b;else if(o.isSpotLight)(b=$t.get(o)).position.setFromMatrixPosition(o.matrixWorld),b.position.applyMatrix4(p),b.color.copy(a).multiplyScalar(s),b.distance=u,b.direction.setFromMatrixPosition(o.matrixWorld),Tt.setFromMatrixPosition(o.target.matrixWorld),b.direction.sub(Tt),b.direction.transformDirection(p),b.coneCos=Math.cos(o.angle),b.penumbraCos=Math.cos(o.angle*(1-o.penumbra)),b.decay=0===o.distance?0:o.decay,b.shadow=o.castShadow,o.castShadow&&(b.shadowBias=o.shadow.bias,b.shadowRadius=o.shadow.radius,b.shadowMapSize=o.shadow.mapSize),Ct.spotShadowMap[g]=l,Ct.spotShadowMatrix[g]=o.shadow.matrix,Ct.spot[g++]=b;else if(o.isRectAreaLight)(b=$t.get(o)).color.copy(a).multiplyScalar(s/(o.width*o.height)),b.position.setFromMatrixPosition(o.matrixWorld),b.position.applyMatrix4(p),At.identity(),Et.copy(o.matrixWorld),Et.premultiply(p),At.extractRotation(Et),b.halfWidth.set(.5*o.width,0,0),b.halfHeight.set(0,.5*o.height,0),b.halfWidth.applyMatrix4(At),b.halfHeight.applyMatrix4(At),Ct.rectArea[y++]=b;else if(o.isPointLight)(b=$t.get(o)).position.setFromMatrixPosition(o.matrixWorld),b.position.applyMatrix4(p),b.color.copy(o.color).multiplyScalar(o.intensity),b.distance=o.distance,b.decay=0===o.distance?0:o.decay,b.shadow=o.castShadow,o.castShadow&&(b.shadowBias=o.shadow.bias,b.shadowRadius=o.shadow.radius,b.shadowMapSize=o.shadow.mapSize),Ct.pointShadowMap[m]=l,void 0===Ct.pointShadowMatrix[m]&&(Ct.pointShadowMatrix[m]=new _),Tt.setFromMatrixPosition(o.matrixWorld).negate(),Ct.pointShadowMatrix[m].identity().setPosition(Tt),Ct.point[m++]=b;else if(o.isHemisphereLight){var b;(b=$t.get(o)).direction.setFromMatrixPosition(o.matrixWorld),b.direction.transformDirection(p),b.direction.normalize(),b.skyColor.copy(o.color).multiplyScalar(s),b.groundColor.copy(o.groundColor).multiplyScalar(s),Ct.hemi[v++]=b}Ct.ambient[0]=c,Ct.ambient[1]=h,Ct.ambient[2]=f,Ct.directional.length=d,Ct.spot.length=g,Ct.rectArea.length=y,Ct.point.length=m,Ct.hemi.length=v,Ct.hash=d+","+m+","+g+","+y+","+v+","+Ct.shadows.length}(N),_t&&yt.endShadows(),Pt.calls=0,Pt.vertices=0,Pt.faces=0,Pt.points=0,void 0===n&&(n=null),this.setRenderTarget(n);var i=t.background;if(null===i?jt.buffers.color.setClear(nt.r,nt.g,nt.b,it,L):i&&i.isColor&&(jt.buffers.color.setClear(i.r,i.g,i.b,1,L),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),i&&i.isCubeTexture?(void 0===ne&&(ne=new Bt,re=new Nt(new Dt(5,5,5),new rt({uniforms:yd.cube.uniforms,vertexShader:yd.cube.vertexShader,fragmentShader:yd.cube.fragmentShader,side:hf,depthTest:!1,depthWrite:!1,fog:!1}))),ne.projectionMatrix.copy(e.projectionMatrix),ne.matrixWorld.extractRotation(e.matrixWorld),ne.matrixWorldInverse.getInverse(ne.matrixWorld),re.material.uniforms.tCube.value=i,re.modelViewMatrix.multiplyMatrices(ne.matrixWorldInverse,re.matrixWorld),Qt.update(re),V.renderBufferDirect(ne,null,re.geometry,re.material,re,null)):i&&i.isTexture&&(void 0===te&&(te=new zt(-1,1,1,-1,0,1),ee=new Nt(new Ft(2,2),new vt({depthTest:!1,depthWrite:!1,fog:!1}))),ee.material.map=i,Qt.update(ee),V.renderBufferDirect(te,null,ee.geometry,ee.material,ee,null)),t.overrideMaterial){var o=t.overrideMaterial;g(I,t,e,o),g(U,t,e,o)}else jt.setBlending(vf),g(I,t,e),g(U,t,e);se.render(t,e),ue.render(t,e,Q),n&&Kt.updateRenderTargetMipmap(n),jt.setDepthTest(!0),jt.setDepthWrite(!0),jt.setColorWrite(!0)}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFaceCulling=function(t,e){jt.setCullFace(t),jt.setFlipSided(e===sf)},this.allocTextureUnit=function(){var t=tt;return t>=Ut.maxTextures&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+Ut.maxTextures),tt+=1,t},this.setTexture2D=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTarget&&(t||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),Kt.setTexture2D(e,n)}}(),this.setTexture=function(){var t=!1;return function(e,n){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),Kt.setTexture2D(e,n)}}(),this.setTextureCube=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?Kt.setTextureCube(e,n):Kt.setTextureCubeDynamic(e,n)}}(),this.getCurrentRenderTarget=function(){return H},this.setRenderTarget=function(t){H=t,t&&void 0===Zt.get(t).__webglFramebuffer&&Kt.setupRenderTarget(t);var e,n=t&&t.isWebGLRenderTargetCube;if(t){var r=Zt.get(t);e=n?r.__webglFramebuffer[t.activeCubeFace]:r.__webglFramebuffer,Z.copy(t.scissor),K=t.scissorTest,Q.copy(t.viewport)}else e=null,Z.copy(pt).multiplyScalar(ft),K=dt,Q.copy(mt).multiplyScalar(ft);if(W!==e&&(Ot.bindFramebuffer(Ot.FRAMEBUFFER,e),W=e),jt.scissor(Z),jt.setScissorTest(K),jt.viewport(Q),n){var i=Zt.get(t.texture);Ot.framebufferTexture2D(Ot.FRAMEBUFFER,Ot.COLOR_ATTACHMENT0,Ot.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,r,i,o){if(!1!==(t&&t.isWebGLRenderTarget)){var a=Zt.get(t).__webglFramebuffer;if(a){var s=!1;a!==W&&(Ot.bindFramebuffer(Ot.FRAMEBUFFER,a),s=!0);try{var u=t.texture,l=u.format,c=u.type;if(l!==Lp&&E(l)!==Ot.getParameter(Ot.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(c===vp||E(c)===Ot.getParameter(Ot.IMPLEMENTATION_COLOR_READ_TYPE)||c===Sp&&(It.get("OES_texture_float")||It.get("WEBGL_color_buffer_float"))||c===Ep&&It.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Ot.checkFramebufferStatus(Ot.FRAMEBUFFER)===Ot.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&Ot.readPixels(e,n,r,i,E(l),E(c),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&Ot.bindFramebuffer(Ot.FRAMEBUFFER,W)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")}}function Kt(t,e){this.name="",this.color=new $(t),this.density=void 0!==e?e:25e-5}function Qt(t,e,n){this.name="",this.color=new $(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function Jt(){dt.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function $t(t,e,n,r,i){dt.call(this),this.lensFlares=[],this.positionScreen=new v,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,n,r,i)}function te(t){nt.call(this),this.type="SpriteMaterial",this.color=new $(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function ee(t){dt.call(this),this.type="Sprite",this.material=void 0!==t?t:new te}function ne(){dt.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function re(t,e,n){if(this.useVertexTexture=void 0===n||n,this.identityMatrix=new _,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var r=Math.sqrt(4*this.bones.length);r=ad.nextPowerOfTwo(Math.ceil(r)),r=Math.max(r,4),this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new tt(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,Lp,Sp)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var i=0,o=this.bones.length;i<o;i++)this.boneInverses.push(new _)}}function ie(){dt.call(this),this.type="Bone"}function oe(t,e,n){Nt.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new _,this.bindMatrixInverse=new _;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var i,o,a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],i=new ie,r.push(i),i.name=o.name,i.position.fromArray(o.pos),i.quaternion.fromArray(o.rotq),void 0!==o.scl&&i.scale.fromArray(o.scl);for(a=0,s=this.geometry.bones.length;a<s;++a)-1!==(o=this.geometry.bones[a]).parent&&null!==o.parent&&void 0!==r[o.parent]?r[o.parent].add(r[a]):this.add(r[a])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new re(r,void 0,n),this.matrixWorld)}function ae(t){nt.call(this),this.type="LineBasicMaterial",this.color=new $(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function se(t,e,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new ue(t,e);dt.call(this),this.type="Line",this.geometry=void 0!==t?t:new kt,this.material=void 0!==e?e:new ae({color:16777215*Math.random()})}function ue(t,e){se.call(this,t,e),this.type="LineSegments"}function le(t){nt.call(this),this.type="PointsMaterial",this.color=new $(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function ce(t,e){dt.call(this),this.type="Points",this.geometry=void 0!==t?t:new kt,this.material=void 0!==e?e:new le({color:16777215*Math.random()})}function he(){dt.call(this),this.type="Group"}function fe(t,e,n,r,i,o,a,s,u){function l(){requestAnimationFrame(l),t.readyState>=t.HAVE_CURRENT_DATA&&(c.needsUpdate=!0)}p.call(this,t,e,n,r,i,o,a,s,u),this.generateMipmaps=!1;var c=this;l()}function pe(t,e,n,r,i,o,a,s,u,l,c,h){p.call(this,null,o,a,s,u,l,r,i,c,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function de(t,e,n,r,i,o,a,s,u){p.call(this,t,e,n,r,i,o,a,s,u),this.needsUpdate=!0}function me(t,e,n,r,i,o,a,s,u,l){if((l=void 0!==l?l:Ip)!==Ip&&l!==Dp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===Ip&&(n=wp),void 0===n&&l===Dp&&(n=Pp),p.call(this,null,r,i,o,a,s,l,n,u),this.image={width:t,height:e},this.magFilter=void 0!==a?a:fp,this.minFilter=void 0!==s?s:fp,this.flipY=!1,this.generateMipmaps=!1}function ge(t){function e(t,e){return t-e}kt.call(this),this.type="WireframeGeometry";var n,r,i,o,a,s,u,l,c=[],h=[0,0],f={},p=["a","b","c"];if(t&&t.isGeometry){var d=t.faces;for(n=0,i=d.length;n<i;n++){var m=d[n];for(r=0;r<3;r++)h[0]=m[p[r]],h[1]=m[p[(r+1)%3]],h.sort(e),void 0===f[u=h.toString()]&&(f[u]={index1:h[0],index2:h[1]})}for(u in f)c.push((l=t.vertices[(s=f[u]).index1]).x,l.y,l.z),c.push((l=t.vertices[s.index2]).x,l.y,l.z)}else if(t&&t.isBufferGeometry){var g,y,_,b,w;if(l=new v,null!==t.index){for(g=t.attributes.position,y=t.index,0===(_=t.groups).length&&t.addGroup(0,y.count),o=0,a=_.length;o<a;++o)for(n=w=(b=_[o]).start,i=w+b.count;n<i;n+=3)for(r=0;r<3;r++)h[0]=y.getX(n+r),h[1]=y.getX(n+(r+1)%3),h.sort(e),void 0===f[u=h.toString()]&&(f[u]={index1:h[0],index2:h[1]});for(u in f)l.fromBufferAttribute(g,(s=f[u]).index1),c.push(l.x,l.y,l.z),l.fromBufferAttribute(g,s.index2),c.push(l.x,l.y,l.z)}else for(n=0,i=(g=t.attributes.position).count/3;n<i;n++)for(r=0;r<3;r++)l.fromBufferAttribute(g,3*n+r),c.push(l.x,l.y,l.z),l.fromBufferAttribute(g,3*n+(r+1)%3),c.push(l.x,l.y,l.z)}this.addAttribute("position",new At(c,3))}function ye(t,e,n){Lt.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new ve(t,e,n)),this.mergeVertices()}function ve(t,e,n){kt.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var r,i,o=[],a=[],s=[],u=e+1;for(r=0;r<=n;r++){var l=r/n;for(i=0;i<=e;i++){var c=i/e,h=t(c,l);a.push(h.x,h.y,h.z),s.push(c,l)}}for(r=0;r<n;r++)for(i=0;i<e;i++){var f=r*u+i+1,p=(r+1)*u+i+1,d=(r+1)*u+i;o.push(r*u+i,f,d),o.push(f,p,d)}this.setIndex(o),this.addAttribute("position",new At(a,3)),this.addAttribute("uv",new At(s,2)),this.computeVertexNormals()}function _e(t,e,n,r){Lt.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new be(t,e,n,r)),this.mergeVertices()}function be(t,e,n,r){function i(t){u.push(t.x,t.y,t.z)}function o(e,n){var r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function a(t,e,n,r){r<0&&1===t.x&&(l[e]=t.x-1),0===n.x&&0===n.z&&(l[e]=r/2/Math.PI+.5)}function s(t){return Math.atan2(t.z,-t.x)}kt.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1;var u=[],l=[];!function(t){for(var n=new v,r=new v,a=new v,s=0;s<e.length;s+=3)o(e[s+0],n),o(e[s+1],r),o(e[s+2],a),function(t,e,n,r){var o,a,s=Math.pow(2,r),u=[];for(o=0;o<=s;o++){u[o]=[];var l=t.clone().lerp(n,o/s),c=e.clone().lerp(n,o/s),h=s-o;for(a=0;a<=h;a++)u[o][a]=0===a&&o===s?l:l.clone().lerp(c,a/h)}for(o=0;o<s;o++)for(a=0;a<2*(s-o)-1;a++){var f=Math.floor(a/2);a%2==0?(i(u[o][f+1]),i(u[o+1][f]),i(u[o][f])):(i(u[o][f+1]),i(u[o+1][f+1]),i(u[o+1][f]))}}(n,r,a,t)}(r=r||0),function(t){for(var e=new v,n=0;n<u.length;n+=3)e.x=u[n+0],e.y=u[n+1],e.z=u[n+2],e.normalize().multiplyScalar(t),u[n+0]=e.x,u[n+1]=e.y,u[n+2]=e.z}(n),function(){for(var t=new v,e=0;e<u.length;e+=3){t.x=u[e+0],t.y=u[e+1],t.z=u[e+2];var n=s(t)/2/Math.PI+.5,r=function(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}(t)/Math.PI+.5;l.push(n,1-r)}!function(){for(var t=new v,e=new v,n=new v,r=new v,i=new f,o=new f,c=new f,h=0,p=0;h<u.length;h+=9,p+=6){t.set(u[h+0],u[h+1],u[h+2]),e.set(u[h+3],u[h+4],u[h+5]),n.set(u[h+6],u[h+7],u[h+8]),i.set(l[p+0],l[p+1]),o.set(l[p+2],l[p+3]),c.set(l[p+4],l[p+5]),r.copy(t).add(e).add(n).divideScalar(3);var d=s(r);a(i,p+0,t,d),a(o,p+2,e,d),a(c,p+4,n,d)}}(),function(){for(var t=0;t<l.length;t+=6){var e=l[t+0],n=l[t+2],r=l[t+4],i=Math.max(e,n,r),o=Math.min(e,n,r);i>.9&&o<.1&&(e<.2&&(l[t+0]+=1),n<.2&&(l[t+2]+=1),r<.2&&(l[t+4]+=1))}}()}(),this.addAttribute("position",new At(u,3)),this.addAttribute("normal",new At(u.slice(),3)),this.addAttribute("uv",new At(l,2)),this.normalizeNormals()}function we(t,e){Lt.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new xe(t,e)),this.mergeVertices()}function xe(t,e){be.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Te(t,e){Lt.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Se(t,e)),this.mergeVertices()}function Se(t,e){be.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ee(t,e){Lt.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Me(t,e)),this.mergeVertices()}function Me(t,e){var n=(1+Math.sqrt(5))/2;be.call(this,[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ae(t,e){Lt.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ce(t,e)),this.mergeVertices()}function Ce(t,e){var n=(1+Math.sqrt(5))/2,r=1/n;be.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Pe(t,e,n,r,i,o){Lt.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new Re(t,e,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function Re(t,e,n,r,i){function o(i){var o=t.getPointAt(i/e),s=a.normals[i],h=a.binormals[i];for(u=0;u<=r;u++){var f=u/r*Math.PI*2,m=Math.sin(f),g=-Math.cos(f);c.x=g*s.x+m*h.x,c.y=g*s.y+m*h.y,c.z=g*s.z+m*h.z,c.normalize(),d.push(c.x,c.y,c.z),l.x=o.x+n*c.x,l.y=o.y+n*c.y,l.z=o.z+n*c.z,p.push(l.x,l.y,l.z)}}kt.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},e=e||64,n=n||1,r=r||8;var a=t.computeFrenetFrames(e,i=i||!1);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var s,u,l=new v,c=new v,h=new f,p=[],d=[],m=[],g=[];!function(){for(s=0;s<e;s++)o(s);o(!1===i?e:0),function(){for(s=0;s<=e;s++)for(u=0;u<=r;u++)h.x=s/e,h.y=u/r,m.push(h.x,h.y)}(),function(){for(u=1;u<=e;u++)for(s=1;s<=r;s++){var t=(r+1)*u+(s-1),n=(r+1)*u+s,i=(r+1)*(u-1)+s;g.push((r+1)*(u-1)+(s-1),t,i),g.push(t,n,i)}}()}(),this.setIndex(g),this.addAttribute("position",new At(p,3)),this.addAttribute("normal",new At(d,3)),this.addAttribute("uv",new At(m,2))}function Oe(t,e,n,r,i,o,a){Lt.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Le(t,e,n,r,i,o)),this.mergeVertices()}function Le(t,e,n,r,i,o){function a(t,e,n,r,i){var o=Math.cos(t),a=Math.sin(t),s=n/e*t,u=Math.cos(s);i.x=r*(2+u)*.5*o,i.y=r*(2+u)*a*.5,i.z=r*Math.sin(s)*.5}kt.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},t=t||100,e=e||40,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var s,u,l=[],c=[],h=[],p=[],d=new v,m=new v,g=(new f,new v),y=new v,_=new v,b=new v,w=new v;for(s=0;s<=n;++s){var x=s/n*i*Math.PI*2;for(a(x,i,o,t,g),a(x+.01,i,o,t,y),b.subVectors(y,g),w.addVectors(y,g),_.crossVectors(b,w),w.crossVectors(_,b),_.normalize(),w.normalize(),u=0;u<=r;++u){var T=u/r*Math.PI*2,S=-e*Math.cos(T),E=e*Math.sin(T);d.x=g.x+(S*w.x+E*_.x),d.y=g.y+(S*w.y+E*_.y),d.z=g.z+(S*w.z+E*_.z),c.push(d.x,d.y,d.z),m.subVectors(d,g).normalize(),h.push(m.x,m.y,m.z),p.push(s/n),p.push(u/r)}}for(u=1;u<=n;u++)for(s=1;s<=r;s++){var M=(r+1)*u+(s-1),A=(r+1)*u+s,C=(r+1)*(u-1)+s;l.push((r+1)*(u-1)+(s-1),M,C),l.push(M,A,C)}this.setIndex(l),this.addAttribute("position",new At(c,3)),this.addAttribute("normal",new At(h,3)),this.addAttribute("uv",new At(p,2))}function ke(t,e,n,r,i){Lt.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Ne(t,e,n,r,i))}function Ne(t,e,n,r,i){kt.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||100,e=e||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=[],u=[],l=[],c=[],h=new v,f=new v,p=new v;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var d=a/r*i,m=o/n*Math.PI*2;f.x=(t+e*Math.cos(m))*Math.cos(d),f.y=(t+e*Math.cos(m))*Math.sin(d),f.z=e*Math.sin(m),u.push(f.x,f.y,f.z),h.x=t*Math.cos(d),h.y=t*Math.sin(d),p.subVectors(f,h).normalize(),l.push(p.x,p.y,p.z),c.push(a/r),c.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var g=(r+1)*(o-1)+a-1,y=(r+1)*(o-1)+a,_=(r+1)*o+a;s.push((r+1)*o+a-1,g,_),s.push(g,y,_)}this.setIndex(s),this.addAttribute("position",new At(u,3)),this.addAttribute("normal",new At(l,3)),this.addAttribute("uv",new At(c,2))}function Ie(t,e){"undefined"!=typeof t?(Lt.call(this),this.type="ExtrudeGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeFaceNormals()):t=[]}function De(t,e){var n=(e=e||{}).font;if(!1===(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Lt;var r=n.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Ie.call(this,r,e),this.type="TextGeometry"}function Ue(t,e,n,r,i,o,a){Lt.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Fe(t,e,n,r,i,o,a))}function Fe(t,e,n,r,i,o,a){kt.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var s,u,l=(o=void 0!==o?o:0)+(a=void 0!==a?a:Math.PI),c=0,h=[],f=new v,p=new v,d=[],m=[],g=[],y=[];for(u=0;u<=n;u++){var _=[],b=u/n;for(s=0;s<=e;s++){var w=s/e;f.x=-t*Math.cos(r+w*i)*Math.sin(o+b*a),f.y=t*Math.cos(o+b*a),f.z=t*Math.sin(r+w*i)*Math.sin(o+b*a),m.push(f.x,f.y,f.z),p.set(f.x,f.y,f.z).normalize(),g.push(p.x,p.y,p.z),y.push(w,1-b),_.push(c++)}h.push(_)}for(u=0;u<n;u++)for(s=0;s<e;s++){var x=h[u][s],T=h[u+1][s],S=h[u+1][s+1];(0!==u||o>0)&&d.push(h[u][s+1],x,S),(u!==n-1||l<Math.PI)&&d.push(x,T,S)}this.setIndex(d),this.addAttribute("position",new At(m,3)),this.addAttribute("normal",new At(g,3)),this.addAttribute("uv",new At(y,2))}function je(t,e,n,r,i,o){Lt.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Be(t,e,n,r,i,o))}function Be(t,e,n,r,i,o){kt.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},t=t||20,e=e||50,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var a,s,u,l=[],c=[],h=[],p=[],d=t,m=(e-t)/(r=void 0!==r?Math.max(1,r):1),g=new v,y=new f;for(s=0;s<=r;s++){for(u=0;u<=n;u++)a=i+u/n*o,g.x=d*Math.cos(a),g.y=d*Math.sin(a),c.push(g.x,g.y,g.z),h.push(0,0,1),y.x=(g.x/e+1)/2,y.y=(g.y/e+1)/2,p.push(y.x,y.y);d+=m}for(s=0;s<r;s++){var _=s*(n+1);for(u=0;u<n;u++){var b=(a=u+_)+n+1,w=a+n+2,x=a+1;l.push(a,b,x),l.push(b,w,x)}}this.setIndex(l),this.addAttribute("position",new At(c,3)),this.addAttribute("normal",new At(h,3)),this.addAttribute("uv",new At(p,2))}function ze(t,e,n,r){Lt.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new Ve(t,e,n,r)),this.mergeVertices()}function Ve(t,e,n,r){kt.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=ad.clamp(r,0,2*Math.PI);var i,o,a,s=[],u=[],l=[],c=1/e,h=new v,p=new f;for(o=0;o<=e;o++){var d=n+o*c*r,m=Math.sin(d),g=Math.cos(d);for(a=0;a<=t.length-1;a++)h.x=t[a].x*m,h.y=t[a].y,h.z=t[a].x*g,u.push(h.x,h.y,h.z),p.x=o/e,p.y=a/(t.length-1),l.push(p.x,p.y)}for(o=0;o<e;o++)for(a=0;a<t.length-1;a++){var y=(i=a+o*t.length)+t.length,_=i+t.length+1,b=i+1;s.push(i,y,b),s.push(y,_,b)}if(this.setIndex(s),this.addAttribute("position",new At(u,3)),this.addAttribute("uv",new At(l,2)),this.computeVertexNormals(),r===2*Math.PI){var w=this.attributes.normal.array,x=new v,T=new v,S=new v;for(i=e*t.length*3,o=0,a=0;o<t.length;o++,a+=3)x.x=w[a+0],x.y=w[a+1],x.z=w[a+2],T.x=w[i+a+0],T.y=w[i+a+1],T.z=w[i+a+2],S.addVectors(x,T).normalize(),w[a+0]=w[i+a+0]=S.x,w[a+1]=w[i+a+1]=S.y,w[a+2]=w[i+a+2]=S.z}}function Ge(t,e){Lt.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new He(t,e)),this.mergeVertices()}function He(t,e){function n(t){var n,s,l,c=i.length/3,h=t.extractPoints(e),f=h.shape,p=h.holes;if(!1===xd.isClockWise(f))for(f=f.reverse(),n=0,s=p.length;n<s;n++)!0===xd.isClockWise(l=p[n])&&(p[n]=l.reverse());var d=xd.triangulateShape(f,p);for(n=0,s=p.length;n<s;n++)f=f.concat(l=p[n]);for(n=0,s=f.length;n<s;n++){var m=f[n];i.push(m.x,m.y,0),o.push(0,0,1),a.push(m.x,m.y)}for(n=0,s=d.length;n<s;n++){var g=d[n];r.push(g[0]+c,g[1]+c,g[2]+c),u+=3}}kt.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var r=[],i=[],o=[],a=[],s=0,u=0;if(!1===Array.isArray(t))n(t);else for(var l=0;l<t.length;l++)n(t[l]),this.addGroup(s,u,l),s+=u,u=0;this.setIndex(r),this.addAttribute("position",new At(i,3)),this.addAttribute("normal",new At(o,3)),this.addAttribute("uv",new At(a,2))}function We(t,e){function n(t,e){return t-e}kt.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var r,i,o=[],a=Math.cos(ad.DEG2RAD*e),s=[0,0],u={},l=["a","b","c"];t.isBufferGeometry?(i=new Lt).fromBufferGeometry(t):i=t.clone(),i.mergeVertices(),i.computeFaceNormals();for(var c=i.vertices,h=i.faces,f=0,p=h.length;f<p;f++)for(var d=h[f],m=0;m<3;m++)s[0]=d[l[m]],s[1]=d[l[(m+1)%3]],s.sort(n),void 0===u[r=s.toString()]?u[r]={index1:s[0],index2:s[1],face1:f,face2:void 0}:u[r].face2=f;for(r in u){var g=u[r];if(void 0===g.face2||h[g.face1].normal.dot(h[g.face2].normal)<=a){var y=c[g.index1];o.push(y.x,y.y,y.z),o.push((y=c[g.index2]).x,y.y,y.z)}}this.addAttribute("position",new At(o,3))}function Xe(t,e,n,r,i,o,a,s){Lt.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new qe(t,e,n,r,i,o,a,s)),this.mergeVertices()}function qe(t,e,n,r,i,o,a,s){function u(n){var i,o,u,g=new f,b=new v,w=0,x=!0===n?t:e,T=!0===n?1:-1;for(o=m,i=1;i<=r;i++)h.push(0,y*T,0),p.push(0,T,0),d.push(.5,.5),m++;for(u=m,i=0;i<=r;i++){var S=i/r*s+a,E=Math.cos(S),M=Math.sin(S);b.x=x*M,b.y=y*T,b.z=x*E,h.push(b.x,b.y,b.z),p.push(0,T,0),g.x=.5*E+.5,g.y=.5*M*T+.5,d.push(g.x,g.y),m++}for(i=0;i<r;i++){var A=o+i,C=u+i;!0===n?c.push(C,C+1,A):c.push(C+1,C,A),w+=3}l.addGroup(_,w,!0===n?1:2),_+=w}kt.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var l=this;t=void 0!==t?t:20,e=void 0!==e?e:20,n=void 0!==n?n:100,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var c=[],h=[],p=[],d=[],m=0,g=[],y=n/2,_=0;!function(){var o,u,f=new v,b=new v,w=0,x=(e-t)/n;for(u=0;u<=i;u++){var T=[],S=u/i,E=S*(e-t)+t;for(o=0;o<=r;o++){var M=o/r,A=M*s+a,C=Math.sin(A),P=Math.cos(A);b.x=E*C,b.y=-S*n+y,b.z=E*P,h.push(b.x,b.y,b.z),f.set(C,x,P).normalize(),p.push(f.x,f.y,f.z),d.push(M,1-S),T.push(m++)}g.push(T)}for(o=0;o<r;o++)for(u=0;u<i;u++){var R=g[u+1][o],O=g[u+1][o+1],L=g[u][o+1];c.push(g[u][o],R,L),c.push(R,O,L),w+=6}l.addGroup(_,w,0),_+=w}(),!1===o&&(t>0&&u(!0),e>0&&u(!1)),this.setIndex(c),this.addAttribute("position",new At(h,3)),this.addAttribute("normal",new At(p,3)),this.addAttribute("uv",new At(d,2))}function Ye(t,e,n,r,i,o,a){Xe.call(this,0,t,e,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function Ze(t,e,n,r,i,o,a){qe.call(this,0,t,e,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function Ke(t,e,n,r){Lt.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Qe(t,e,n,r))}function Qe(t,e,n,r){kt.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||50,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,o,a=[],s=[],u=[],l=[],c=new v,h=new f;for(s.push(0,0,0),u.push(0,0,1),l.push(.5,.5),o=0,i=3;o<=e;o++,i+=3){var p=n+o/e*r;c.x=t*Math.cos(p),c.y=t*Math.sin(p),s.push(c.x,c.y,c.z),u.push(0,0,1),h.x=(s[i]/t+1)/2,h.y=(s[i+1]/t+1)/2,l.push(h.x,h.y)}for(i=1;i<=e;i++)a.push(i,i+1,0);this.setIndex(a),this.addAttribute("position",new At(s,3)),this.addAttribute("normal",new At(u,3)),this.addAttribute("uv",new At(l,2))}function Je(){rt.call(this,{uniforms:pd.merge([gd.lights,{opacity:{value:1}}]),vertexShader:dd.shadow_vert,fragmentShader:dd.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}})}function $e(t){rt.call(this,t),this.type="RawShaderMaterial"}function tn(t){this.uuid=ad.generateUUID(),this.type="MultiMaterial",this.materials=Array.isArray(t)?t:[],this.visible=!0}function en(t){nt.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new $(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new f(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function nn(t){en.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function rn(t){nt.call(this),this.type="MeshPhongMaterial",this.color=new $(16777215),this.specular=new $(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new f(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Yf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function on(t){rn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function an(t){nt.call(this,t),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new f(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function sn(t){nt.call(this),this.type="MeshLambertMaterial",this.color=new $(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Yf,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function un(t){nt.call(this),this.type="LineDashedMaterial",this.color=new $(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}function ln(t,e,n){var r=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===i&&void 0!==r.onStart&&r.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)}}function cn(t){this.manager=void 0!==t?t:Md}function hn(t){this.manager=void 0!==t?t:Md}function fn(t){this.manager=void 0!==t?t:Md}function pn(t,e){dt.call(this),this.type="Light",this.color=new $(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function dn(t,e,n){pn.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(dt.DefaultUp),this.updateMatrix(),this.groundColor=new $(e)}function mn(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new f(512,512),this.map=null,this.matrix=new _}function gn(){mn.call(this,new Bt(50,1,.5,500))}function yn(t,e,n,r,i,o){pn.call(this,t,e),this.type="SpotLight",this.position.copy(dt.DefaultUp),this.updateMatrix(),this.target=new dt,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new gn}function vn(t,e,n,r){pn.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new mn(new Bt(90,1,.5,500))}function _n(){mn.call(this,new zt(-5,5,5,-5,.5,500))}function bn(t,e){pn.call(this,t,e),this.type="DirectionalLight",this.position.copy(dt.DefaultUp),this.updateMatrix(),this.target=new dt,this.shadow=new _n}function wn(t,e){pn.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function xn(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function Tn(t,e,n,r){xn.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Sn(t,e,n,r){xn.call(this,t,e,n,r)}function En(t,e,n,r){xn.call(this,t,e,n,r)}function Mn(t,e,n,r){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keyframes in track named "+t);this.name=t,this.times=Ad.convertArray(e,this.TimeBufferType),this.values=Ad.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function An(t,e,n,r){Mn.call(this,t,e,n,r)}function Cn(t,e,n,r){xn.call(this,t,e,n,r)}function Pn(t,e,n,r){Mn.call(this,t,e,n,r)}function Rn(t,e,n,r){Mn.call(this,t,e,n,r)}function On(t,e,n,r){Mn.call(this,t,e,n,r)}function Ln(t,e,n){Mn.call(this,t,e,n)}function kn(t,e,n,r){Mn.call(this,t,e,n,r)}function Nn(t,e,n,r){Mn.apply(this,arguments)}function In(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=ad.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function Dn(t){this.manager=void 0!==t?t:Md,this.textures={}}function Un(t){this.manager=void 0!==t?t:Md}function Fn(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function jn(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:Md,this.withCredentials=!1}function Bn(t,e,n,r,i){var o=.5*(r-e),a=.5*(i-n),s=t*t;return(2*n-2*r+o+a)*(t*s)+(-3*n+3*r-2*o-a)*s+o*t+n}function zn(t,e,n,r){return function(n,r){var i=1-t;return i*i*e}()+2*(1-t)*t*n+t*t*r}function Vn(t,e,n,r,i){return function(n,r){var i=1-t;return i*i*i*e}()+function(e,r){var i=1-t;return 3*i*i*t*n}()+3*(1-t)*t*t*r+t*t*t*i}function Gn(){}function Hn(t,e){this.v1=t,this.v2=e}function Wn(){this.curves=[],this.autoClose=!1}function Xn(t,e,n,r,i,o,a,s){this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0}function qn(t){this.points=void 0===t?[]:t}function Yn(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}function Zn(t,e,n){this.v0=t,this.v1=e,this.v2=n}function Kn(t){Wn.call(this),this.currentPoint=new f,t&&this.fromPoints(t)}function Qn(){Kn.apply(this,arguments),this.holes=[]}function Jn(){this.subPaths=[],this.currentPath=null}function $n(t){this.data=t}function tr(t){this.manager=void 0!==t?t:Md}function er(t,e,n,r){pn.call(this,t,e),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function nr(t,e,n){dt.call(this),this.type="CubeCamera";var r=new Bt(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new v(1,0,0)),this.add(r);var i=new Bt(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new v(-1,0,0)),this.add(i);var o=new Bt(90,1,t,e);o.up.set(0,0,1),o.lookAt(new v(0,1,0)),this.add(o);var a=new Bt(90,1,t,e);a.up.set(0,0,-1),a.lookAt(new v(0,-1,0)),this.add(a);var s=new Bt(90,1,t,e);s.up.set(0,-1,0),s.lookAt(new v(0,0,1)),this.add(s);var u=new Bt(90,1,t,e);u.up.set(0,-1,0),u.lookAt(new v(0,0,-1)),this.add(u),this.renderTarget=new g(n,n,{format:Op,magFilter:mp,minFilter:mp}),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,l=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,r,n),n.activeCubeFace=1,t.render(e,i,n),n.activeCubeFace=2,t.render(e,o,n),n.activeCubeFace=3,t.render(e,a,n),n.activeCubeFace=4,t.render(e,s,n),n.texture.generateMipmaps=l,n.activeCubeFace=5,t.render(e,u,n),t.setRenderTarget(null)}}function rr(){dt.call(this),this.type="AudioListener",this.context=Od.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function ir(t){dt.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function or(t){ir.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function ar(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function sr(t,e,n){this.binding=t,this.valueSize=n;var r,i=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function ur(t,e,n){this.path=e,this.parsedPath=n||ur.parseTrackName(e),this.node=ur.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function lr(t){this.uuid=ad.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function cr(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,o=new Array(i),a={endingStart:qp,endingEnd:qp},s=0;s!==i;++s){var u=r[s].createInterpolant(null);o[s]=u,u.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Xp,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function hr(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function fr(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function pr(){kt.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function dr(t,e,n,r){this.uuid=ad.generateUUID(),this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function mr(t,e){this.uuid=ad.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function gr(t,e,n){mr.call(this,t,e),this.meshPerAttribute=n||1}function yr(t,e,n){_t.call(this,t,e),this.meshPerAttribute=n||1}function vr(t,e,n,r){this.ray=new ht(t,e),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function _r(t,e){return t.distance-e.distance}function br(t,e,n,r){if(!1!==t.visible&&(t.raycast(e,n),!0===r))for(var i=t.children,o=0,a=i.length;o<a;o++)br(i[o],e,n,!0)}function wr(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function xr(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function Tr(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function Sr(t,e){Nt.call(this,t,e),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length;this.createAnimation("__default",0,n-1,n/1),this.setAnimationWeight("__default",1)}function Er(t){dt.call(this),this.material=t,this.render=function(t){}}function Mr(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var u=new kt,l=new At(2*a*3,3);u.addAttribute("position",l),ue.call(this,u,new ae({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Ar(t){dt.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new kt,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,i=1;r<32;r++,i++){var o=r/32*Math.PI*2,a=i/32*Math.PI*2;n.push(Math.cos(o),Math.sin(o),1,Math.cos(a),Math.sin(a),1)}e.addAttribute("position",new At(n,3));var s=new ae({fog:!1});this.cone=new ue(e,s),this.add(this.cone),this.update()}function Cr(t){this.bones=this.getBoneList(t);for(var e=new kt,n=[],r=[],i=new $(0,0,1),o=new $(0,1,0),a=0;a<this.bones.length;a++){var s=this.bones[a];s.parent&&s.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(i.r,i.g,i.b),r.push(o.r,o.g,o.b))}e.addAttribute("position",new At(n,3)),e.addAttribute("color",new At(r,3));var u=new ae({vertexColors:yf,depthTest:!1,depthWrite:!1,transparent:!0});ue.call(this,e,u),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Pr(t,e){this.light=t,this.light.updateMatrixWorld();var n=new Fe(e,4,2),r=new vt({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),Nt.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function Rr(t){dt.call(this),this.light=t,this.light.updateMatrixWorld();var e=new vt({color:t.color,fog:!1}),n=new vt({color:t.color,fog:!1,wireframe:!0}),r=new kt;r.addAttribute("position",new _t(new Float32Array(18),3)),this.add(new Nt(r,e)),this.add(new Nt(r,n)),this.update()}function Or(t,e){dt.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var n=new Se(e);n.rotateY(.5*Math.PI);var r=new vt({vertexColors:yf,wireframe:!0}),i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.addAttribute("color",new _t(o,3)),this.add(new Nt(n,r)),this.update()}function Lr(t,e,n,r){t=t||10,e=e||10,n=new $(void 0!==n?n:4473924),r=new $(void 0!==r?r:8947848);for(var i=e/2,o=t/e,a=t/2,s=[],u=[],l=0,c=0,h=-a;l<=e;l++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);var f=l===i?n:r;f.toArray(u,c),f.toArray(u,c+=3),f.toArray(u,c+=3),f.toArray(u,c+=3),c+=3}var p=new kt;p.addAttribute("position",new At(s,3)),p.addAttribute("color",new At(u,3));var d=new ae({vertexColors:yf});ue.call(this,p,d)}function kr(t,e,n,r,i,o){t=t||10,e=e||16,n=n||8,r=r||64,i=new $(void 0!==i?i:4473924),o=new $(void 0!==o?o:8947848);var a,s,u,l,c,h,f,p=[],d=[];for(l=0;l<=e;l++)u=l/e*(2*Math.PI),a=Math.sin(u)*t,s=Math.cos(u)*t,p.push(0,0,0),p.push(a,0,s),d.push((f=1&l?i:o).r,f.g,f.b),d.push(f.r,f.g,f.b);for(l=0;l<=n;l++)for(f=1&l?i:o,h=t-t/n*l,c=0;c<r;c++)u=c/r*(2*Math.PI),a=Math.sin(u)*h,s=Math.cos(u)*h,p.push(a,0,s),d.push(f.r,f.g,f.b),u=(c+1)/r*(2*Math.PI),a=Math.sin(u)*h,s=Math.cos(u)*h,p.push(a,0,s),d.push(f.r,f.g,f.b);var m=new kt;m.addAttribute("position",new At(p,3)),m.addAttribute("color",new At(d,3));var g=new ae({vertexColors:yf});ue.call(this,m,g)}function Nr(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new kt,l=new At(2*a*3,3);u.addAttribute("position",l),ue.call(this,u,new ae({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Ir(t,e){dt.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var n=new kt;n.addAttribute("position",new At([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new ae({fog:!1});this.add(new se(n,r)),(n=new kt).addAttribute("position",new At([0,0,0,0,0,1],3)),this.add(new se(n,r)),this.update()}function Dr(t){function e(t,e,r){n(t,r),n(e,r)}function n(t,e){o.push(0,0,0),a.push(e.r,e.g,e.b),void 0===s[t]&&(s[t]=[]),s[t].push(o.length/3-1)}var r=new kt,i=new ae({color:16777215,vertexColors:gf}),o=[],a=[],s={},u=new $(16755200),l=new $(16711680),c=new $(43775),h=new $(16777215),f=new $(3355443);e("n1","n2",u),e("n2","n4",u),e("n4","n3",u),e("n3","n1",u),e("f1","f2",u),e("f2","f4",u),e("f4","f3",u),e("f3","f1",u),e("n1","f1",u),e("n2","f2",u),e("n3","f3",u),e("n4","f4",u),e("p","n1",l),e("p","n2",l),e("p","n3",l),e("p","n4",l),e("u1","u2",c),e("u2","u3",c),e("u3","u1",c),e("c","t",h),e("p","c",f),e("cn1","cn2",f),e("cn3","cn4",f),e("cf1","cf2",f),e("cf3","cf4",f),r.addAttribute("position",new At(o,3)),r.addAttribute("color",new At(a,3)),ue.call(this,r,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function Ur(t,e){void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new kt;i.setIndex(new _t(n,1)),i.addAttribute("position",new _t(r,3)),ue.call(this,i,new ae({color:e})),void 0!==t&&this.update(t)}function Fr(t,e,n,r,i,o){dt.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===Ld&&((Ld=new kt).addAttribute("position",new At([0,0,0,0,1,0],3)),(kd=new qe(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new se(Ld,new ae({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Nt(kd,new vt({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,o)}function jr(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=new kt;n.addAttribute("position",new At(e,3)),n.addAttribute("color",new At([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new ae({vertexColors:yf});ue.call(this,n,r)}function Br(){function t(t,o,a,s){e=t,n=a,r=-3*t+3*o-2*a-s,i=2*t-2*o+a+s}var e=0,n=0,r=0,i=0;return{initCatmullRom:function(e,n,r,i,o){t(n,r,o*(r-e),o*(i-n))},initNonuniformCatmullRom:function(e,n,r,i,o,a,s){var u=(n-e)/o-(r-e)/(o+a)+(r-n)/a,l=(r-n)/a-(i-n)/(a+s)+(i-r)/s;t(n,r,u*=a,l*=a)},calc:function(t){var o=t*t;return e+n*t+r*o+i*(o*t)}}}function zr(t){this.points=t||[],this.closed=!1}function Vr(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}function Gr(t,e,n){this.v0=t,this.v1=e,this.v2=n}function Hr(t,e){this.v1=t,this.v2=e}function Wr(t,e,n,r,i,o){Xn.call(this,t,e,n,n,r,i,o)}function Xr(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),zr.call(this,t),this.type="catmullrom"}function qr(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  test-sceen1 works!\n"])),(t()(),_h["\u0275ted"](-1,null,["\n\n"]))],null,null)}function Yr(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  webglview works!\n"])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275eld"](3,16777216,null,null,2,"foundry-test-sceen1",[],null,null,null,qr,zd)),_h["\u0275did"](4,114688,null,0,Bd,[_h.ViewContainerRef],null,null),(t()(),_h["\u0275ted"](-1,null,["\n  \n"])),(t()(),_h["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,4,0)},null)}function Zr(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"span",[["class","bs-remove-tab"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(n.preventDefault(),r=!1!==i.removeTab(t.parent.context.$implicit)&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,[" \u274c"]))],null,null)}function Kr(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,13,"li",[],[[2,"active",null],[2,"disabled",null]],null,null,null,null)),_h["\u0275did"](1,278528,null,0,Eh.NgClass,[_h.IterableDiffers,_h.KeyValueDiffers,_h.ElementRef,_h.Renderer2],{ngClass:[0,"ngClass"]},null),_h["\u0275pad"](2,2),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275eld"](4,0,null,null,8,"a",[["class","nav-link"],["href","javascript:void(0);"]],[[1,"id",0],[2,"active",null],[2,"disabled",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=0!=(t.context.$implicit.active=!0)&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275eld"](6,16777216,null,null,2,"span",[],null,null,null,null,null)),_h["\u0275did"](7,16384,null,0,Wd,[_h.ViewContainerRef],{ngTransclude:[0,"ngTransclude"]},null),(t()(),_h["\u0275ted"](8,null,["",""])),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275and"](16777216,null,null,1,null,Zr)),_h["\u0275did"](11,16384,null,0,Eh.NgIf,[_h.ViewContainerRef,_h.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275ted"](-1,null,[" "]))],function(t,e){t(e,1,0,t(e,2,0,"nav-item",e.context.$implicit.customClass||"")),t(e,7,0,e.context.$implicit.headingRef),t(e,11,0,e.context.$implicit.removable)},function(t,e){t(e,0,0,e.context.$implicit.active,e.context.$implicit.disabled),t(e,4,0,e.context.$implicit.id?e.context.$implicit.id+"-link":"",e.context.$implicit.active,e.context.$implicit.disabled),t(e,8,0,e.context.$implicit.heading)})}function Qr(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,5,"ul",[["class","nav"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==n.preventDefault()&&r),r},null,null)),_h["\u0275did"](1,278528,null,0,Eh.NgClass,[_h.IterableDiffers,_h.KeyValueDiffers,_h.ElementRef,_h.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275and"](16777216,null,null,1,null,Kr)),_h["\u0275did"](4,802816,null,0,Eh.NgForOf,[_h.ViewContainerRef,_h.TemplateRef,_h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275eld"](7,0,null,null,3,"div",[["class","tab-content"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,[" "])),_h["\u0275ncd"](null,0),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275ted"](-1,null,[" "]))],function(t,e){var n=e.component;t(e,1,0,"nav",n.classMap),t(e,4,0,n.tabs)},null)}function Jr(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,2,"pre",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](1,null,["",""])),_h["\u0275pid"](0,Eh.JsonPipe,[]),(t()(),_h["\u0275ted"](-1,null,["\n"]))],null,function(t,e){var n=e.component;t(e,1,0,_h["\u0275unv"](e,1,0,_h["\u0275nov"](e,2).transform(n.primitives)))})}function $r(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](2,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doCommand(t.context.$implicit)&&r),r},null,null)),(t()(),_h["\u0275ted"](3,null,["",""])),(t()(),_h["\u0275ted"](-1,null,["\n  "]))],null,function(t,e){t(e,3,0,e.context.$implicit)})}function ti(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](2,0,null,null,1,"fo-page-panel",[],null,null,null,ei,nm)),_h["\u0275did"](3,114688,null,0,em,[],{node:[0,"node"]},null),(t()(),_h["\u0275ted"](-1,null,["\n  "]))],function(t,e){t(e,3,0,e.context.$implicit)},null)}function ei(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,11,"div",[["class","panel panel-default"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](2,0,null,null,1,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](3,null,["",": "," - ",""])),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275ted"](-1,null,["\n\n  "])),(t()(),_h["\u0275and"](16777216,null,null,1,null,$r)),_h["\u0275did"](7,802816,null,0,Eh.NgForOf,[_h.ViewContainerRef,_h.TemplateRef,_h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_h["\u0275ted"](-1,null,["\n\n  "])),(t()(),_h["\u0275and"](16777216,null,null,1,null,ti)),_h["\u0275did"](10,802816,null,0,Eh.NgForOf,[_h.ViewContainerRef,_h.TemplateRef,_h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_h["\u0275ted"](-1,null,["\n\n"]))],function(t,e){var n=e.component;t(e,7,0,n.commands),t(e,10,0,n.node.nodes.members)},function(t,e){var n=e.component;t(e,3,0,n.node.myName,n.node.myType,n.node.color)})}function ni(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](2,0,null,null,1,"fo-page-panel",[],null,null,null,ei,nm)),_h["\u0275did"](3,114688,null,0,em,[],{node:[0,"node"]},null),(t()(),_h["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,3,0,e.context.$implicit)},null)}function ri(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275ted"](-1,null,["\n"])),(t()(),_h["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](2,null,["",": ",""])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275and"](16777216,null,null,1,null,ni)),_h["\u0275did"](5,802816,null,0,Eh.NgForOf,[_h.ViewContainerRef,_h.TemplateRef,_h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_h["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,5,0,e.component.rootPage.nodes.members)},function(t,e){var n=e.component;t(e,2,0,n.rootPage.myName,n.rootPage.myType)})}function ii(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  fo-model works!\n"])),(t()(),_h["\u0275ted"](-1,null,["\n"]))],null,null)}function oi(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](2,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doCommand(t.context.$implicit)&&r),r},null,null)),(t()(),_h["\u0275ted"](3,null,["",""])),(t()(),_h["\u0275ted"](-1,null,["\n  "]))],null,function(t,e){t(e,3,0,e.context.$implicit)})}function ai(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,10,"div",[["class","panel panel-default"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](2,0,null,null,7,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](4,0,null,null,1,"button",[["class","btn btn-info"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doCreate()&&r),r},null,null)),(t()(),_h["\u0275ted"](5,null,["",""])),(t()(),_h["\u0275ted"](-1,null,["\n\n  "])),(t()(),_h["\u0275and"](16777216,null,null,1,null,oi)),_h["\u0275did"](8,802816,null,0,Eh.NgForOf,[_h.ViewContainerRef,_h.TemplateRef,_h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_h["\u0275ted"](-1,null,["\n"])),(t()(),_h["\u0275ted"](-1,null,["\n\n"]))],function(t,e){t(e,8,0,e.component.stencilItem.spec.getCommands())},function(t,e){t(e,5,0,e.component.stencilItem.name)})}function si(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),_h["\u0275did"](1,278528,null,0,Eh.NgClass,[_h.IterableDiffers,_h.KeyValueDiffers,_h.ElementRef,_h.Renderer2],{ngClass:[0,"ngClass"]},null),_h["\u0275pod"](2,{"text-muted":0}),(t()(),_h["\u0275ted"](3,null,[" "," "]))],function(t,e){t(e,1,0,t(e,2,0,e.component.isDisabled))},function(t,e){t(e,3,0,e.component.heading)})}function ui(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,25,"div",[["class","panel card"]],null,null,null,null,null)),_h["\u0275did"](1,278528,null,0,Eh.NgClass,[_h.IterableDiffers,_h.KeyValueDiffers,_h.ElementRef,_h.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275eld"](3,0,null,null,12,"div",[["class","panel-heading card-header"],["role","tab"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleOpen(n)&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275eld"](5,0,null,null,9,"div",[["class","panel-title"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275eld"](7,0,null,null,6,"div",[["class","accordion-toggle"],["role","button"]],[[1,"aria-expanded",0]],null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275and"](16777216,null,null,1,null,si)),_h["\u0275did"](10,16384,null,0,Eh.NgIf,[_h.ViewContainerRef,_h.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_h["\u0275ted"](-1,null,[" "])),_h["\u0275ncd"](null,0),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275eld"](17,0,null,null,7,"div",[["class","panel-collapse collapse"],["role","tabpanel"]],[[2,"collapse",null],[4,"display",null],[2,"in",null],[2,"show",null],[1,"aria-expanded",0],[1,"aria-hidden",0],[2,"collapsing",null]],null,null,null,null)),_h["\u0275did"](18,16384,null,0,lm,[_h.ElementRef,_h.Renderer2],{collapse:[0,"collapse"]},null),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275eld"](20,0,null,null,3,"div",[["class","panel-body card-block card-body"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,[" "])),_h["\u0275ncd"](null,1),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275ted"](-1,null,[" "]))],function(t,e){var n=e.component;t(e,1,0,"panel card",n.panelClass),t(e,10,0,n.heading),t(e,18,0,!n.isOpen)},function(t,e){t(e,7,0,e.component.isOpen),t(e,17,0,_h["\u0275nov"](e,18).isCollapse,_h["\u0275nov"](e,18).display,_h["\u0275nov"](e,18).isExpanded,_h["\u0275nov"](e,18).isExpanded,_h["\u0275nov"](e,18).isExpanded,_h["\u0275nov"](e,18).isCollapsed,_h["\u0275nov"](e,18).isCollapsing)})}function li(t){return _h["\u0275vid"](0,[_h["\u0275ncd"](null,0)],null,null)}function ci(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"fo-stencil-panel",[],null,null,null,ai,um)),_h["\u0275did"](1,114688,null,0,sm,[$h],{stencilItem:[0,"stencilItem"],rootPage:[1,"rootPage"]},null)],function(t,e){t(e,1,0,e.context.$implicit,e.component.rootPage)},null)}function hi(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,5,"accordion-group",[["class","panel"],["style","display: block"]],[[2,"panel-open",null]],null,null,ui,dm)),_h["\u0275did"](1,245760,null,0,pm,[fm],{heading:[0,"heading"],isOpen:[1,"isOpen"]},null),(t()(),_h["\u0275ted"](-1,1,["\n        "])),(t()(),_h["\u0275and"](16777216,null,1,1,null,ci)),_h["\u0275did"](4,802816,null,0,Eh.NgForOf,[_h.ViewContainerRef,_h.TemplateRef,_h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_h["\u0275ted"](-1,1,["\n      "]))],function(t,e){var n=e.component;t(e,1,0,e.context.$implicit,!0),t(e,4,0,n.groups[e.context.$implicit])},function(t,e){t(e,0,0,_h["\u0275nov"](e,1).isOpen)})}function fi(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,5,"accordion",[["class","panel-group"],["role","tablist"],["style","display: block"]],[[1,"aria-multiselectable",0]],null,null,li,mm)),_h["\u0275did"](1,49152,null,0,fm,[hm],null,null),(t()(),_h["\u0275ted"](-1,0,["\n    "])),(t()(),_h["\u0275and"](16777216,null,0,1,null,hi)),_h["\u0275did"](4,802816,null,0,Eh.NgForOf,[_h.ViewContainerRef,_h.TemplateRef,_h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_h["\u0275ted"](-1,0,["\n"])),(t()(),_h["\u0275ted"](-1,null,["\n\n"]))],function(t,e){t(e,4,0,e.component.headings)},function(t,e){t(e,0,0,_h["\u0275nov"](e,1).closeOthers)})}function pi(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-info"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doCreate(t.context.$implicit)&&r),r},null,null)),(t()(),_h["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.context.$implicit.name)})}function di(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,5,"accordion-group",[["class","panel"],["style","display: block"]],[[2,"panel-open",null]],null,null,ui,dm)),_h["\u0275did"](1,245760,null,0,pm,[fm],{heading:[0,"heading"],isOpen:[1,"isOpen"]},null),(t()(),_h["\u0275ted"](-1,1,["\n      "])),(t()(),_h["\u0275and"](16777216,null,1,1,null,pi)),_h["\u0275did"](4,802816,null,0,Eh.NgForOf,[_h.ViewContainerRef,_h.TemplateRef,_h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_h["\u0275ted"](-1,1,["\n  "]))],function(t,e){var n=e.component;t(e,1,0,e.context.$implicit,!0),t(e,4,0,n.groups[e.context.$implicit])},function(t,e){t(e,0,0,_h["\u0275nov"](e,1).isOpen)})}function mi(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,5,"accordion",[["class","panel-group"],["role","tablist"],["style","display: block"]],[[1,"aria-multiselectable",0]],null,null,li,mm)),_h["\u0275did"](1,49152,null,0,fm,[hm],null,null),(t()(),_h["\u0275ted"](-1,0,["\n  "])),(t()(),_h["\u0275and"](16777216,null,0,1,null,di)),_h["\u0275did"](4,802816,null,0,Eh.NgForOf,[_h.ViewContainerRef,_h.TemplateRef,_h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_h["\u0275ted"](-1,0,["\n"])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,4,0,e.component.headings)},function(t,e){t(e,0,0,_h["\u0275nov"](e,1).closeOthers)})}function gi(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,89,"accordion",[["class","panel-group"],["role","tablist"],["style","display: block"]],[[1,"aria-multiselectable",0]],null,null,li,mm)),_h["\u0275did"](1,49152,null,0,fm,[hm],{closeOthers:[0,"closeOthers"]},null),(t()(),_h["\u0275ted"](-1,0,["\n  "])),(t()(),_h["\u0275eld"](3,0,null,0,8,"accordion-group",[["class","panel"],["heading","Glyph"],["style","display: block"]],[[2,"panel-open",null]],null,null,ui,dm)),_h["\u0275did"](4,245760,null,0,pm,[fm],{heading:[0,"heading"]},null),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](6,0,null,1,1,"button",[["class","btn btn-info"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doAddGlyph()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["add Glyph"])),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](9,0,null,1,1,"button",[["class","btn btn-info"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doAddSubGlyph()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["add SubGlyph"])),(t()(),_h["\u0275ted"](-1,1,["\n  "])),(t()(),_h["\u0275ted"](-1,0,["\n\n  "])),(t()(),_h["\u0275eld"](13,0,null,0,20,"accordion-group",[["class","panel"],["heading","Shape"],["style","display: block"]],[[2,"panel-open",null]],null,null,ui,dm)),_h["\u0275did"](14,245760,null,0,pm,[fm],{heading:[0,"heading"]},null),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](16,0,null,1,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doAddOneByOne()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["1x1"])),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](19,0,null,1,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doAddTwoByOne()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["2x1"])),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](22,0,null,1,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doAddTwoByTwo()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["2x2"])),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](25,0,null,1,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doAddTwoByFour()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["2x4"])),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](28,0,null,1,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doAddTenByTen()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["10x10"])),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](31,0,null,1,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doAddThreeByThree()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["3x3 Circle"])),(t()(),_h["\u0275ted"](-1,1,["\n  "])),(t()(),_h["\u0275ted"](-1,0,["\n\n  "])),(t()(),_h["\u0275eld"](35,0,null,0,17,"accordion-group",[["class","panel"],["heading","Animation"],["style","display: block"]],[[2,"panel-open",null]],null,null,ui,dm)),_h["\u0275did"](36,245760,null,0,pm,[fm],{heading:[0,"heading"]},null),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](38,0,null,1,1,"button",[["class","btn btn-info"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doBoundry()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Boundry"])),(t()(),_h["\u0275ted"](-1,1,["\n\n    "])),(t()(),_h["\u0275eld"](41,0,null,1,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doAddOneByTen()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Spin"])),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](44,0,null,1,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doAddStack()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Box inside"])),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](47,0,null,1,1,"button",[["class","btn btn-info"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doObjRect()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Rect"])),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](50,0,null,1,1,"button",[["class","btn btn-info"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doObjGroup()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Group"])),(t()(),_h["\u0275ted"](-1,1,["\n  "])),(t()(),_h["\u0275ted"](-1,0,["\n\n  "])),(t()(),_h["\u0275eld"](54,0,null,0,11,"accordion-group",[["class","panel"],["heading","Glue"],["style","display: block"]],[[2,"panel-open",null]],null,null,ui,dm)),_h["\u0275did"](55,245760,null,0,pm,[fm],{heading:[0,"heading"]},null),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](57,0,null,1,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doShape1D()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Shape 1D"])),(t()(),_h["\u0275ted"](-1,1,["\n\n    "])),(t()(),_h["\u0275eld"](60,0,null,1,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doShapeGlue()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Glue 1D"])),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](63,0,null,1,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doObjGlue()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Glue 1D"])),(t()(),_h["\u0275ted"](-1,1,["\n  "])),(t()(),_h["\u0275ted"](-1,0,["\n\n  "])),(t()(),_h["\u0275eld"](67,0,null,0,14,"accordion-group",[["class","panel"],["heading","Sets"],["style","display: block"]],[[2,"panel-open",null]],null,null,ui,dm)),_h["\u0275did"](68,245760,null,0,pm,[fm],{heading:[0,"heading"]},null),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](70,0,null,1,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doBlocks()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Blocks"])),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](73,0,null,1,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doText()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Text"])),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](76,0,null,1,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doImage()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Image"])),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](79,0,null,1,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doParticleEngine()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Particle Engine"])),(t()(),_h["\u0275ted"](-1,1,["\n "])),(t()(),_h["\u0275ted"](-1,0,["\n\n  "])),(t()(),_h["\u0275eld"](83,0,null,0,5,"accordion-group",[["class","panel"],["heading","Knowledge"],["style","display: block"]],[[2,"panel-open",null]],null,null,ui,dm)),_h["\u0275did"](84,245760,null,0,pm,[fm],{heading:[0,"heading"]},null),(t()(),_h["\u0275ted"](-1,1,["\n    "])),(t()(),_h["\u0275eld"](86,0,null,1,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.stage.doDocker()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Blocks"])),(t()(),_h["\u0275ted"](-1,1,["\n  "])),(t()(),_h["\u0275ted"](-1,0,["\n"])),(t()(),_h["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,1,0,!0),t(e,4,0,"Glyph"),t(e,14,0,"Shape"),t(e,36,0,"Animation"),t(e,55,0,"Glue"),t(e,68,0,"Sets"),t(e,84,0,"Knowledge")},function(t,e){t(e,0,0,_h["\u0275nov"](e,1).closeOthers),t(e,3,0,_h["\u0275nov"](e,4).isOpen),t(e,13,0,_h["\u0275nov"](e,14).isOpen),t(e,35,0,_h["\u0275nov"](e,36).isOpen),t(e,54,0,_h["\u0275nov"](e,55).isOpen),t(e,67,0,_h["\u0275nov"](e,68).isOpen),t(e,83,0,_h["\u0275nov"](e,84).isOpen)})}function yi(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,56,"tabset",[["type","pills"]],[[2,"tab-container",null]],null,null,Qr,Yd)),_h["\u0275did"](1,180224,null,0,qd,[Xd,_h.Renderer2],{type:[0,"type"]},null),(t()(),_h["\u0275ted"](-1,0,["\n  "])),(t()(),_h["\u0275eld"](3,0,null,0,10,"tab",[["heading","Live"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),_h["\u0275did"](4,212992,null,0,Zd,[qd,_h.ElementRef,_h.Renderer2],{heading:[0,"heading"]},null),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](6,0,null,null,2,"pre",[["class","well"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](7,null,["",""])),_h["\u0275pid"](0,Eh.JsonPipe,[]),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275ted"](-1,null,["\n\n    "])),(t()(),_h["\u0275ted"](-1,null,["\n\n    "])),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275ted"](-1,0,["\n  "])),(t()(),_h["\u0275eld"](15,0,null,0,5,"tab",[["heading","Runtime"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],[[null,"select"]],function(t,e,n){var r=!0;return"select"===e&&(r=!1!==t.component.doRefreshRuntimeTypes()&&r),r},null,null)),_h["\u0275did"](16,212992,null,0,Zd,[qd,_h.ElementRef,_h.Renderer2],{heading:[0,"heading"]},{select:"select"}),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](18,0,null,null,1,"fo-runtime",[],null,null,null,Jr,Qd)),_h["\u0275did"](19,114688,null,0,Kd,[],null,null),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275ted"](-1,0,["\n  "])),(t()(),_h["\u0275eld"](22,0,null,0,5,"tab",[["heading","Page"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),_h["\u0275did"](23,212992,null,0,Zd,[qd,_h.ElementRef,_h.Renderer2],{heading:[0,"heading"]},null),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](25,0,null,null,1,"fo-drawing",[],null,null,null,ri,im)),_h["\u0275did"](26,114688,null,0,rm,[],{rootPage:[0,"rootPage"]},null),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275ted"](-1,0,["\n  "])),(t()(),_h["\u0275eld"](29,0,null,0,5,"tab",[["heading","Model"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),_h["\u0275did"](30,212992,null,0,Zd,[qd,_h.ElementRef,_h.Renderer2],{heading:[0,"heading"]},null),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](32,0,null,null,1,"fo-model",[],null,null,null,ii,am)),_h["\u0275did"](33,114688,null,0,om,[],null,null),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275ted"](-1,0,["\n  "])),(t()(),_h["\u0275eld"](36,0,null,0,5,"tab",[["heading","Stencil"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],[[null,"select"]],function(t,e,n){var r=!0;return"select"===e&&(r=!1!==t.component.doRefreshStencil()&&r),r},null,null)),_h["\u0275did"](37,212992,null,0,Zd,[qd,_h.ElementRef,_h.Renderer2],{heading:[0,"heading"]},{select:"select"}),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](39,0,null,null,1,"fo-stencil",[],null,null,null,fi,ym)),_h["\u0275did"](40,114688,null,0,gm,[],{rootPage:[0,"rootPage"]},null),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275ted"](-1,0,["\n  "])),(t()(),_h["\u0275eld"](43,0,null,0,5,"tab",[["heading","Concepts"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],[[null,"select"]],function(t,e,n){var r=!0;return"select"===e&&(r=!1!==t.component.doRefreshConcepts()&&r),r},null,null)),_h["\u0275did"](44,212992,null,0,Zd,[qd,_h.ElementRef,_h.Renderer2],{heading:[0,"heading"]},{select:"select"}),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](46,0,null,null,1,"fo-concept",[],null,null,null,mi,_m)),_h["\u0275did"](47,114688,null,0,vm,[],{rootPage:[0,"rootPage"]},null),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275ted"](-1,0,["\n  "])),(t()(),_h["\u0275eld"](50,0,null,0,5,"tab",[["heading","Commands"]],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),_h["\u0275did"](51,212992,null,0,Zd,[qd,_h.ElementRef,_h.Renderer2],{heading:[0,"heading"]},null),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](53,0,null,null,1,"fo-command",[],null,null,null,gi,wm)),_h["\u0275did"](54,114688,null,0,bm,[],{stage:[0,"stage"]},null),(t()(),_h["\u0275ted"](-1,null,["  \n  "])),(t()(),_h["\u0275ted"](-1,0,["\n"]))],function(t,e){var n=e.component;t(e,1,0,"pills"),t(e,4,0,"Live"),t(e,16,0,"Runtime"),t(e,19,0),t(e,23,0,"Page"),t(e,26,0,n.rootPage),t(e,30,0,"Model"),t(e,33,0),t(e,37,0,"Stencil"),t(e,40,0,n.rootPage),t(e,44,0,"Concepts"),t(e,47,0,n.rootPage),t(e,51,0,"Commands"),t(e,54,0,n.stage)},function(t,e){var n=e.component;t(e,0,0,_h["\u0275nov"](e,1).clazz),t(e,3,0,_h["\u0275nov"](e,4).id,_h["\u0275nov"](e,4).active,_h["\u0275nov"](e,4).addClass),t(e,7,0,_h["\u0275unv"](e,7,0,_h["\u0275nov"](e,8).transform(n.stage.mouseLoc))),t(e,15,0,_h["\u0275nov"](e,16).id,_h["\u0275nov"](e,16).active,_h["\u0275nov"](e,16).addClass),t(e,22,0,_h["\u0275nov"](e,23).id,_h["\u0275nov"](e,23).active,_h["\u0275nov"](e,23).addClass),t(e,29,0,_h["\u0275nov"](e,30).id,_h["\u0275nov"](e,30).active,_h["\u0275nov"](e,30).addClass),t(e,36,0,_h["\u0275nov"](e,37).id,_h["\u0275nov"](e,37).active,_h["\u0275nov"](e,37).addClass),t(e,43,0,_h["\u0275nov"](e,44).id,_h["\u0275nov"](e,44).active,_h["\u0275nov"](e,44).addClass),t(e,50,0,_h["\u0275nov"](e,51).id,_h["\u0275nov"](e,51).active,_h["\u0275nov"](e,51).addClass)})}function vi(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return gg.Get;case"POST":return gg.Post;case"PUT":return gg.Put;case"DELETE":return gg.Delete;case"OPTIONS":return gg.Options;case"HEAD":return gg.Head;case"PATCH":return gg.Patch}throw new Error('Invalid request method. The method "'+t+'" is not supported.')}function _i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function bi(t,e){return t.createConnection(e).response}function wi(t,e,n,r){return t.merge(new kg(e?{method:e.method||n,url:e.url||r,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType}:{method:n,url:r}))}function xi(){return new Og}function Ti(t,e){return new zg(t,e)}function Si(t){return _h["\u0275vid"](0,[_h["\u0275qud"](402653184,1,{canvasRef:0}),(t()(),_h["\u0275eld"](1,0,null,null,25,"p",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](3,0,null,null,1,"a",[["href","http://curran.github.io/HTML5Examples/"],["target","_blank"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["Canvas Example "])),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](6,0,null,null,1,"a",[["href","http://www.typescriptgames.com/HTML5CanvasBasics.html"],["target","_blank"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["Canvas TypeScript Example "])),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](9,0,null,null,1,"a",[["href","https://medium.com/@tarik.nzl/creating-a-canvas-component-with-free-hand-drawing-with-rxjs-and-angular-61279f577415"],["target","_blank"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["Canvas with RX "])),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](12,0,null,null,1,"a",[["href","https://www.w3schools.com/tags/ref_canvas.asp"],["target","_blank"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["Canvas ref "])),(t()(),_h["\u0275ted"](-1,null,["\n\n  "])),(t()(),_h["\u0275eld"](15,0,null,null,1,"a",[["href","https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/translate"],["target","_blank"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["Translate "])),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](18,0,null,null,1,"a",[["href","https://www.w3resource.com/html5-canvas/html5-canvas-matrix-transforms.php"],["target","_blank"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["Transforms "])),(t()(),_h["\u0275ted"](-1,null,["\n\n  "])),(t()(),_h["\u0275eld"](21,0,null,null,1,"a",[["href","https://www.alanzucconi.com/2016/02/10/tranfsormation-matrix/"],["target","_blank"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["2D Math "])),(t()(),_h["\u0275ted"](-1,null,["\n\n  "])),(t()(),_h["\u0275eld"](24,0,null,null,1,"a",[["href","https://valor-software.com/ngx-bootstrap"],["target","_blank"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["ngx-bootstrap "])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275ted"](-1,null,["\n"])),(t()(),_h["\u0275eld"](28,0,null,null,31,"div",[["class","row"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](30,0,null,null,28,"div",[["aria-label","Toolbar with button groups"],["class","btn-toolbar"],["role","toolbar"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](32,0,null,null,13,"div",[["aria-label","General Edit commands"],["class","btn-group mr-2"],["role","group"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275eld"](34,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doClear()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Clear"])),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275eld"](37,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doDelete()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["delete"])),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275eld"](40,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doDuplicate()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["duplicate"])),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275eld"](43,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doUndo()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["undo"])),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275ted"](-1,null,["\n\n    "])),(t()(),_h["\u0275eld"](47,0,null,null,10,"div",[["aria-label","General Edit commands"],["class","btn-group mr-2"],["role","group"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275eld"](49,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doVert()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Vert"])),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275eld"](52,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doHorz()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Horz"])),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275eld"](55,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doLoadConcept()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Load Concepts"])),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275ted"](-1,null,["\n\n  "])),(t()(),_h["\u0275ted"](-1,null,["\n"])),(t()(),_h["\u0275ted"](-1,null,["\n"])),(t()(),_h["\u0275eld"](61,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](63,0,null,null,3,"div",[["class","col-md-8"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](65,0,[[1,0],["canvas",1]],null,0,"canvas",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275ted"](-1,null,["\n\n  "])),(t()(),_h["\u0275eld"](68,0,null,null,4,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](70,0,null,null,1,"fo-inspector",[],null,null,null,yi,Tm)),_h["\u0275did"](71,114688,null,0,xm,[],{stage:[0,"stage"]},null),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,71,0,e.component)},null)}function Ei(t){return _h["\u0275vid"](0,[_h["\u0275qud"](402653184,1,{canvas:0}),(t()(),_h["\u0275eld"](1,0,[[1,0],["canvas",1]],null,0,"canvas",[],null,null,null,null,null))],null,null)}function Mi(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,":svg:rect",[["id","select"]],[[1,"height",0],[1,"width",0]],null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n    "]))],null,function(t,e){var n=e.component;t(e,0,0,n.height,n.width)})}function Ai(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](1,0,null,null,12,":svg:g",[["transform","translate (40 40) "]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doClick()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](3,0,null,null,1,":svg:rect",[["style","fill:green; "],["x","0"],["y","0"]],[[1,"height",0],[1,"width",0]],null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](6,0,null,null,0,":svg:circle",[["cx","25"],["cy","25"],["r","20"],["style","fill:orange; "]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](8,0,null,null,1,":svg:text",[["id","display"],["x","20"]],[[1,"y",0]],null,null,null,null)),(t()(),_h["\u0275ted"](9,null,[" ",""])),(t()(),_h["\u0275ted"](-1,null,["\n\n    "])),(t()(),_h["\u0275and"](16777216,null,null,1,null,Mi)),_h["\u0275did"](12,16384,null,0,Eh.NgIf,[_h.ViewContainerRef,_h.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_h["\u0275ted"](-1,null,["\n\n  "])),(t()(),_h["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,12,0,e.component.isSelected)},function(t,e){var n=e.component;t(e,3,0,n.height,n.width),t(e,8,0,n.height/3),t(e,9,0,n.title)})}function Ci(t){return _h["\u0275vid"](0,[_h["\u0275qud"](402653184,1,{_container:0}),(t()(),_h["\u0275eld"](1,0,null,null,24,"div",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n\n  "])),(t()(),_h["\u0275eld"](3,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](5,0,null,null,1,"button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.addCircle(n)&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Add Circle"])),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](8,0,null,null,1,"button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.addComponent(n)&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Add Component"])),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275ted"](-1,null,["\n\n  "])),(t()(),_h["\u0275eld"](12,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](14,0,null,null,9,"div",[["class","col-sm-4 col-sm-offset-2"],["id","drawing"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n\n      "])),(t()(),_h["\u0275eld"](16,16777216,[[1,3],["container",1]],null,6,":svg:svg",[["height","300"],["id","page"],["width","800"]],null,[[null,"mousedown"],[null,"mousemove"],[null,"mouseup"]],function(t,e,n){var r=!0,i=t.component;return"mousedown"===e&&(r=!1!==i.Grab(n)&&r),"mousemove"===e&&(r=!1!==i.Drag(n)&&r),"mouseup"===e&&(r=!1!==i.Drop(n)&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["\n\n\n        "])),(t()(),_h["\u0275eld"](18,0,null,null,0,":svg:rect",[["fill","yellow"],["height","110%"],["id","BackDrop"],["pointer-events","all"],["width","110%"],["x","-10%"],["y","-10%"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n\n        "])),(t()(),_h["\u0275eld"](20,0,null,null,1,":svg:g",[["foundry-circle",""]],null,null,null,Ai,ly)),_h["\u0275did"](21,114688,null,0,uy,[],null,null),(t()(),_h["\u0275ted"](-1,null,["\n\n      "])),(t()(),_h["\u0275ted"](-1,null,["\n\n    "])),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275ted"](-1,null,["\n\n"]))],function(t,e){t(e,21,0)},null)}function Pi(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,":svg:circle",[],[[1,"cx",0],[1,"cy",0],[1,"r",0]],null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n    "]))],null,function(t,e){t(e,0,0,e.context.$implicit.x,e.context.$implicit.y,e.context.$implicit.r)})}function Ri(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  Lets do a quick SVG test Ok?\n"])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275eld"](4,0,null,null,10,":svg:svg",[["xmlns","http://www.w3.org/2000/svg"]],[[1,"height",0],[1,"width",0]],null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](6,0,null,null,7,":svg:g",[["transform","translate(130 200) rotate(45 50 50) scale(2.5)"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275and"](16777216,null,null,1,null,Pi)),_h["\u0275did"](9,802816,null,0,Eh.NgForOf,[_h.ViewContainerRef,_h.TemplateRef,_h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](11,0,null,null,1,":svg:rect",[["height","100"],["style","stroke:#000; fill: #0086B2"],["transform","translate(130) rotate(45 50 50)"],["width","100"],["x","50"],["y","50"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275ted"](-1,null,["\n\n\n"])),(t()(),_h["\u0275eld"](16,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  Did that work?\n"]))],function(t,e){t(e,9,0,e.component.circles)},function(t,e){var n=e.component;t(e,4,0,n.graph.height,n.graph.width)})}function Oi(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  treeview works!\n"])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275eld"](3,0,null,null,1,"foundry-treeitem",[],null,null,null,Ri,my)),_h["\u0275did"](4,114688,null,0,dy,[],null,null),(t()(),_h["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,4,0)},null)}function Li(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  listview works!\n"])),(t()(),_h["\u0275ted"](-1,null,["\n"]))],null,null)}function ki(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,2,":svg:rect",[["id","select"]],[[1,"height",0],[1,"width",0]],null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n        "])),(t()(),_h["\u0275ted"](-1,null,["\n        "]))],null,function(t,e){var n=e.component;t(e,0,0,n.viewModel.height,n.viewModel.width)})}function Ni(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275eld"](1,0,null,null,10,":svg:g",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doClick()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](3,0,null,null,1,":svg:rect",[["id","shape"],["x","0"],["y","0"]],[[1,"height",0],[1,"width",0]],null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](6,0,null,null,1,":svg:text",[["id","display"],["x","20"]],[[1,"y",0]],null,null,null,null)),(t()(),_h["\u0275ted"](7,null,[" ",""])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275and"](16777216,null,null,1,null,ki)),_h["\u0275did"](10,16384,null,0,Eh.NgIf,[_h.ViewContainerRef,_h.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,10,0,e.component.viewModel.isSelected)},function(t,e){var n=e.component;t(e,3,0,n.viewModel.height,n.viewModel.width),t(e,6,0,n.viewModel.height/3),t(e,7,0,n.viewModel.name)})}function Ii(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,":svg:text",[["id","horz"],["x","10"],["y","40"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.viewModel.title)})}function Di(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,":svg:text",[["id","vert"],["style","writing-mode: tb;"],["x","20"],["y","20"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.viewModel.title)})}function Ui(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,16777216,null,null,2,":svg:g",[["foundry-swimelement",""]],null,null,null,Ni,Py)),_h["\u0275did"](1,114688,null,0,Cy,[_h.ViewContainerRef],{viewModel:[0,"viewModel"]},null),(t()(),_h["\u0275ted"](-1,null,["\n"])),(t()(),_h["\u0275and"](0,null,null,0))],function(t,e){t(e,1,0,e.context.$implicit)},null)}function Fi(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,2,":svg:rect",[["id","select"]],[[1,"height",0],[1,"width",0]],null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n        "])),(t()(),_h["\u0275ted"](-1,null,["\n        "]))],null,function(t,e){var n=e.component;t(e,0,0,n.viewModel.height,n.viewModel.width)})}function ji(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,":svg:rect",[["style","stroke:#000"]],[[1,"height",0],[1,"width",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doClick()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["\n"])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275and"](16777216,null,null,1,null,Ii)),_h["\u0275did"](4,16384,null,0,Eh.NgIf,[_h.ViewContainerRef,_h.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_h["\u0275ted"](-1,null,["\n"])),(t()(),_h["\u0275and"](16777216,null,null,1,null,Di)),_h["\u0275did"](7,16384,null,0,Eh.NgIf,[_h.ViewContainerRef,_h.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275and"](16777216,null,null,1,null,Ui)),_h["\u0275did"](10,802816,null,0,Eh.NgForOf,[_h.ViewContainerRef,_h.TemplateRef,_h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275and"](16777216,null,null,1,null,Fi)),_h["\u0275did"](14,16384,null,0,Eh.NgIf,[_h.ViewContainerRef,_h.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,4,0,n.viewModel.hasSubcomponents),t(e,7,0,!n.viewModel.hasSubcomponents),t(e,10,0,n.viewModel.subcomponents()),t(e,14,0,n.viewModel.isSelected)},function(t,e){var n=e.component;t(e,0,0,n.viewModel.height,n.viewModel.width)})}function Bi(t){return function(t){return function(e){var n=new ky(t),r=e.lift(n);return n.caught=r}}(t)(this)}function zi(t,e){return function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Iy(t,e))}}(t,e)(this)}function Vi(t,e,n){return function(t,e,n){return function(r){return r.lift(new Uy(t,e,n))}}(t,e,n)(this)}function Gi(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,16777216,null,null,2,":svg:g",[["foundry-swimlane",""]],null,null,null,ji,Oy)),_h["\u0275did"](1,114688,null,0,Ry,[_h.ViewContainerRef],{viewModel:[0,"viewModel"]},null),(t()(),_h["\u0275ted"](-1,null,["\n\n        "])),(t()(),_h["\u0275and"](0,null,null,0))],function(t,e){t(e,1,0,e.context.$implicit)},null)}function Hi(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,23,"div",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n\n  "])),(t()(),_h["\u0275eld"](2,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](4,0,null,null,1,"button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.addCircle(n)&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Add Circle"])),(t()(),_h["\u0275ted"](-1,null,["\n\n  "])),(t()(),_h["\u0275ted"](-1,null,["\n\n  "])),(t()(),_h["\u0275eld"](8,0,null,null,14,"div",[["class","row"],["id","drawing"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](10,0,null,null,11,":svg:svg",[["id","page"]],[[1,"height",0],[1,"width",0]],[[null,"mousedown"],[null,"mousemove"],[null,"mouseup"]],function(t,e,n){var r=!0,i=t.component;return"mousedown"===e&&(r=!1!==i.Grab(n)&&r),"mousemove"===e&&(r=!1!==i.Drag(n)&&r),"mouseup"===e&&(r=!1!==i.Drop(n)&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275eld"](12,0,null,null,1,":svg:text",[["id","title"],["x","10"],["y","35"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](13,null,["",""])),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275eld"](15,0,null,null,4,":svg:g",[["transform","translate(0 50)"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n        "])),(t()(),_h["\u0275and"](16777216,null,null,1,null,Gi)),_h["\u0275did"](18,802816,null,0,Eh.NgForOf,[_h.ViewContainerRef,_h.TemplateRef,_h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275ted"](-1,null,["\n\n\n      "])),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275ted"](-1,null,["\n\n"]))],function(t,e){t(e,18,0,e.component.viewModel.subcomponents())},function(t,e){var n=e.component;t(e,10,0,n.viewModel.height,n.viewModel.width),t(e,13,0,n.viewModel.title)})}function Wi(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new Xi(r)}function Xi(t){this._=t}function qi(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Vy,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function Yi(){this._="@"+(++Yy).toString(36)}function Zi(t,e,n){return function(r){var i=tv;tv=r;try{t.call(this,this.__data__,e,n)}finally{tv=i}}}function Ki(t,e,n,r){var i=tv;t.sourceEvent=tv,tv=t;try{return e.apply(n,r)}finally{tv=i}}function Qi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Ji(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function $i(t,e){return t.style.getPropertyValue(e)||sv(t).getComputedStyle(t,null).getPropertyValue(e)}function to(t){return t.trim().split(/^|\s+/)}function eo(t){return t.classList||new no(t)}function no(t){this._node=t,this._names=to(t.getAttribute("class")||"")}function ro(t,e){for(var n=eo(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function io(t,e){for(var n=eo(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function oo(){this.nextSibling&&this.parentNode.appendChild(this)}function ao(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function so(){var t=this.parentNode;t&&t.removeChild(this)}function uo(t,e,n){var r=sv(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function lo(t,e){this._groups=t,this._parents=e}function co(){return new lo([[document.documentElement]],uv)}function ho(){tv.stopImmediatePropagation()}function fo(t,e,n,r,i,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}function po(){return!tv.button}function mo(){return this.parentNode}function go(t){return null==t?{x:tv.x,y:tv.y}:t}function yo(){return"ontouchstart"in this}function vo(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function _o(){}function bo(t){var e;return t=(t+"").trim().toLowerCase(),(e=bv.exec(t))?(e=parseInt(e[1],16),new Eo(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=wv.exec(t))?wo(parseInt(e[1],16)):(e=xv.exec(t))?new Eo(e[1],e[2],e[3],1):(e=Tv.exec(t))?new Eo(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Sv.exec(t))?xo(e[1],e[2],e[3],e[4]):(e=Ev.exec(t))?xo(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Mv.exec(t))?Mo(e[1],e[2]/100,e[3]/100,1):(e=Av.exec(t))?Mo(e[1],e[2]/100,e[3]/100,e[4]):Cv.hasOwnProperty(t)?wo(Cv[t]):"transparent"===t?new Eo(NaN,NaN,NaN,0):null}function wo(t){return new Eo(t>>16&255,t>>8&255,255&t,1)}function xo(t,e,n,r){return r<=0&&(t=e=n=NaN),new Eo(t,e,n,r)}function To(t){return t instanceof _o||(t=bo(t)),t?(t=t.rgb(),new Eo(t.r,t.g,t.b,t.opacity)):new Eo}function So(t,e,n,r){return 1===arguments.length?To(t):new Eo(t,e,n,null==r?1:r)}function Eo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Mo(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Co(t,e,n,r)}function Ao(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Co)return new Co(t.h,t.s,t.l,t.opacity);if(t instanceof _o||(t=bo(t)),!t)return new Co;if(t instanceof Co)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Co(a,s,u,t.opacity)}(t):new Co(t,e,n,null==r?1:r)}function Co(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Po(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ro(t){if(t instanceof Oo)return new Oo(t.l,t.a,t.b,t.opacity);if(t instanceof Uo){var e=t.h*Pv;return new Oo(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Eo||(t=To(t));var n=Io(t.r),r=Io(t.g),i=Io(t.b),o=Lo((.4124564*n+.3575761*r+.1804375*i)/Ov),a=Lo((.2126729*n+.7151522*r+.072175*i)/Lv);return new Oo(116*a-16,500*(o-a),200*(a-Lo((.0193339*n+.119192*r+.9503041*i)/kv)),t.opacity)}function Oo(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Lo(t){return t>Uv?Math.pow(t,1/3):t/Dv+Nv}function ko(t){return t>Iv?t*t*t:Dv*(t-Nv)}function No(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Io(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Do(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Uo)return new Uo(t.h,t.c,t.l,t.opacity);t instanceof Oo||(t=Ro(t));var e=Math.atan2(t.b,t.a)*Rv;return new Uo(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Uo(t,e,n,null==r?1:r)}function Uo(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Fo(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof jo)return new jo(t.h,t.s,t.l,t.opacity);t instanceof Eo||(t=To(t));var e=t.g/255,n=t.b/255,r=(Gv*n+zv*(t.r/255)-Vv*e)/(Gv+zv-Vv),i=n-r,o=(Bv*(e-r)-Fv*i)/jv,a=Math.sqrt(o*o+i*i)/(Bv*r*(1-r)),s=a?Math.atan2(o,i)*Rv-120:NaN;return new jo(s<0?s+360:s,a,r,t.opacity)}(t):new jo(t,e,n,null==r?1:r)}function jo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Bo(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function zo(t,e){return function(n){return t+n*e}}function Vo(t,e){var n=e-t;return n?zo(t,n>180||n<-180?n-360*Math.round(n/360):n):Kv(isNaN(t)?e:t)}function Go(t,e){var n=e-t;return n?zo(t,n):Kv(isNaN(t)?e:t)}function Ho(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=So(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}function Wo(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:Jv(t,i)},{i:u-2,x:Jv(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),u.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Jv(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s),function(t,e,n,o){t!==e?u.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Jv(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Jv(t,n)},{i:s-2,x:Jv(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}function Xo(t){return function(e,n){var r=t((e=Ao(e)).h,(n=Ao(n)).h),i=Go(e.s,n.s),o=Go(e.l,n.l),a=Go(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}function qo(t){return function(e,n){var r=t((e=Do(e)).h,(n=Do(n)).h),i=Go(e.c,n.c),o=Go(e.l,n.l),a=Go(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}function Yo(t){return function e(n){function r(e,r){var i=t((e=Fo(e)).h,(r=Fo(r)).h),o=Go(e.s,r.s),a=Go(e.l,r.l),s=Go(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}function Zo(){return f_||(m_(Ko),f_=d_.now()+p_)}function Ko(){f_=0}function Qo(){this._call=this._time=this._next=null}function Jo(t,e,n){var r=new Qo;return r.restart(t,e,n),r}function $o(){f_=(h_=d_.now())+p_,s_=u_=0;try{!function(){Zo(),++s_;for(var t,e=Yv;e;)(t=f_-e._time)>=0&&e._call.call(null,t),e=e._next;--s_}()}finally{s_=0,function(){for(var t,e,n=Yv,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Yv=e);Zv=t,ea(r)}(),f_=0}}function ta(){var t=d_.now(),e=t-h_;e>c_&&(p_-=e,h_=t)}function ea(t){s_||(u_&&(u_=clearTimeout(u_)),t-f_>24?(t<1/0&&(u_=setTimeout($o,t-d_.now()-p_)),l_&&(l_=clearInterval(l_))):(l_||(h_=d_.now(),l_=setInterval(ta,c_)),s_=1,m_($o)))}function na(t,e){var n=ia(t,e);if(n.state>__)throw new Error("too late; already scheduled");return n}function ra(t,e){var n=ia(t,e);if(n.state>w_)throw new Error("too late; already started");return n}function ia(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function oa(t,e,n){var r=t._id;return t.each(function(){var t=ra(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return ia(t,r).value[e]}}function aa(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function sa(){return++P_}function ua(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return L_.time=Zo(),L_;return n}function la(t){return{type:t}}function ca(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ha(){}function fa(t,e){var n=new ha;if(t instanceof ha)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function pa(){}function da(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function ma(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,l,c,h,f,p=t._root,d={data:r},m=t._x0,g=t._y0,y=t._x1,v=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((l=e>=(o=(m+y)/2))?m=o:y=o,(c=n>=(a=(g+v)/2))?g=a:v=a,i=p,!(p=p[h=c<<1|l]))return i[h]=d,t;if(s=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===s&&n===u)return d.next=p,i?i[h]=d:t._root=d,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(m+y)/2))?m=o:y=o,(c=n>=(a=(g+v)/2))?g=a:v=a}while((h=c<<1|l)==(f=(u>=a)<<1|s>=o));return i[f]=p,i[h]=d,t}function ga(t,e,n){var r=new ya(null==e?function(t){return t[0]}:e,null==n?function(t){return t[1]}:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function ya(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function va(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function _a(t){return t.x+t.vx}function ba(t){return t.y+t.vy}function wa(t){return t.index}function xa(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Ta(t){return t.x}function Sa(t){return t.y}function Ea(t){return new Ma(t)}function Ma(t){if(!(e=ab.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],l=e[8]&&+e[8].slice(1),c=e[9]||"";"n"===c?(u=!0,c="g"):ob[c]||(c=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=l,this.type=c}function Aa(){this.reset()}function Ca(t,e,n){var r=t.s=e+n,i=r-e;t.t=e-(r-i)+(n-i)}function Pa(t){return t>1?fb:t<-1?-fb:Math.asin(t)}function Ra(t,e){return[t>hb?t-pb:t<-hb?t+pb:t,e]}function Oa(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function La(){}function ka(t){return function(e,n){var r=vb(e),i=vb(n),o=t(r*i);return[o*i*wb(e),o*wb(n)]}}function Na(t){return function(e,n){var r=xb(e*e+n*n),i=t(r),o=wb(i),a=vb(i);return[yb(e*o,r*a),Pa(r&&n*o/r)]}}function Ia(t,e){return[t,e]}function Da(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Ua(t,e){var n,r,i,o,a,s=new za(t),u=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=Fa);n=l.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(r=n.children[o]=new za(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Ba)}function Fa(t){return t.children}function ja(t){t.data=t.data.data}function Ba(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function za(t){this.data=t,this.depth=this.height=0,this.parent=null}function Va(t,e,n,r,i,o){for(var a,s,u,l,c,h,f,p,d,m,g,y=[],v=e.children,_=0,b=0,w=v.length,x=e.value;_<w;){u=i-n,l=o-r;do{c=v[b++].value}while(!c&&b<w);for(h=f=c,g=c*c*(m=Math.max(l/u,u/l)/(x*t)),d=Math.max(f/g,g/h);b<w;++b){if(c+=s=v[b].value,s<h&&(h=s),s>f&&(f=s),g=c*c*m,(p=Math.max(f/g,g/h))>d){c-=s;break}d=p}y.push(a={value:c,dice:u<l,children:v.slice(_,b)}),a.dice?Sb(a,n,r,i,x?r+=l*c/x:o):Eb(a,n,r,x?n+=u*c/x:i,o),x-=c,_=b}return y}function Ga(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function Ha(t){if(!t._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,i=n[r];n[r]=function(t,e){return function(n,r){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?Wa(t,n):(t._data[e]=r,t._waiting?Ha(t):Xa(t))))}}(t,e),--t._waiting,++t._active,n=i.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||Cb)}}(t)}catch(e){if(t._tasks[t._ended+t._active-1])Wa(t,e);else if(!t._data)throw e}}function Wa(t,e){var n,r=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--r>=0;)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,Xa(t)}function Xa(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function qa(t){function e(e){var o=e+"",a=n.get(o);if(!a){if(i!==Db)return i;n.set(o,a=r.push(e))}return t[(a-1)%t.length]}var n=D_(),r=[],i=Db;return t=null==t?[]:Ib.call(t),e.domain=function(t){if(!arguments.length)return r.slice();r=[],n=D_();for(var i,o,a=-1,s=t.length;++a<s;)n.has(o=(i=t[a])+"")||n.set(o,r.push(i));return e},e.range=function(n){return arguments.length?(t=Ib.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(i=t,e):i},e.copy=function(){return qa().domain(r).range(t).unknown(i)},e}function Ya(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return Ya(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return Ub.setTime(+e),Fb.setTime(+r),t(Ub),t(Fb),Math.floor(n(Ub,Fb))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}function Za(t){return Ya(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Bb)/zb})}function Ka(t){return Ya(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/zb})}function Qa(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ja(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $a(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function ts(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function es(t){return t.replace(uw,"\\$&")}function ns(t){return new RegExp("^(?:"+t.map(es).join("|")+")","i")}function rs(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function is(t,e,n){var r=aw.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function os(t,e,n){var r=aw.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function as(t,e,n){var r=aw.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ss(t,e,n){var r=aw.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function us(t,e,n){var r=aw.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ls(t,e,n){var r=aw.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function cs(t,e,n){var r=aw.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hs(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fs(t,e,n){var r=aw.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ps(t,e,n){var r=aw.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ds(t,e,n){var r=aw.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ms(t,e,n){var r=aw.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gs(t,e,n){var r=aw.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ys(t,e,n){var r=aw.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function vs(t,e,n){var r=aw.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _s(t,e,n){var r=aw.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bs(t,e,n){var r=sw.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ws(t,e,n){var r=aw.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xs(t,e,n){var r=aw.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function Ts(t,e){return ts(t.getDate(),e,2)}function Ss(t,e){return ts(t.getHours(),e,2)}function Es(t,e){return ts(t.getHours()%12||12,e,2)}function Ms(t,e){return ts(1+Vb.count(qb(t),t),e,3)}function As(t,e){return ts(t.getMilliseconds(),e,3)}function Cs(t,e){return As(t,e)+"000"}function Ps(t,e){return ts(t.getMonth()+1,e,2)}function Rs(t,e){return ts(t.getMinutes(),e,2)}function Os(t,e){return ts(t.getSeconds(),e,2)}function Ls(t){var e=t.getDay();return 0===e?7:e}function ks(t,e){return ts(Gb.count(qb(t),t),e,2)}function Ns(t,e){var n=t.getDay();return t=n>=4||0===n?Wb(t):Wb.ceil(t),ts(Wb.count(qb(t),t)+(4===qb(t).getDay()),e,2)}function Is(t){return t.getDay()}function Ds(t,e){return ts(Hb.count(qb(t),t),e,2)}function Us(t,e){return ts(t.getFullYear()%100,e,2)}function Fs(t,e){return ts(t.getFullYear()%1e4,e,4)}function js(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ts(e/60|0,"0",2)+ts(e%60,"0",2)}function Bs(t,e){return ts(t.getUTCDate(),e,2)}function zs(t,e){return ts(t.getUTCHours(),e,2)}function Vs(t,e){return ts(t.getUTCHours()%12||12,e,2)}function Gs(t,e){return ts(1+Yb.count(iw(t),t),e,3)}function Hs(t,e){return ts(t.getUTCMilliseconds(),e,3)}function Ws(t,e){return Hs(t,e)+"000"}function Xs(t,e){return ts(t.getUTCMonth()+1,e,2)}function qs(t,e){return ts(t.getUTCMinutes(),e,2)}function Ys(t,e){return ts(t.getUTCSeconds(),e,2)}function Zs(t){var e=t.getUTCDay();return 0===e?7:e}function Ks(t,e){return ts(Zb.count(iw(t),t),e,2)}function Qs(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Qb(t):Qb.ceil(t),ts(Qb.count(iw(t),t)+(4===iw(t).getUTCDay()),e,2)}function Js(t){return t.getUTCDay()}function $s(t,e){return ts(Kb.count(iw(t),t),e,2)}function tu(t,e){return ts(t.getUTCFullYear()%100,e,2)}function eu(t,e){return ts(t.getUTCFullYear()%1e4,e,4)}function nu(){return"+0000"}function ru(){return"%"}function iu(t){return+t}function ou(t){return Math.floor(+t/1e3)}function au(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function su(t){this._context=t}function uu(t){this._curve=t}function lu(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function cu(t){this._context=t}function hu(t,e){this._basis=new cu(t),this._beta=e}function fu(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function pu(t,e){this._context=t,this._k=(1-e)/6}function du(t,e){this._context=t,this._k=(1-e)/6}function mu(t,e){this._context=t,this._k=(1-e)/6}function gu(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>fw){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>fw){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function yu(t,e){this._context=t,this._alpha=e}function vu(t,e){this._context=t,this._alpha=e}function _u(t,e){this._context=t,this._alpha=e}function bu(t){return t<0?-1:1}function wu(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(bu(o)+bu(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function xu(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Tu(t,e,n){var r=t._x0,i=t._x1,o=t._y1,a=(i-r)/3;t._context.bezierCurveTo(r+a,t._y0+a*e,i-a,o-a*n,i,o)}function Su(t){this._context=t}function Eu(t){this._context=t}function Mu(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Au(){this._=null}function Cu(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Pu(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Ru(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Ou(t){for(;t.L;)t=t.L;return t}function Lu(t,e,n,r){var i=[null,null],o=bw.push(i)-1;return i.left=t,i.right=e,n&&Nu(i,t,e,n),r&&Nu(i,e,t,r),vw[t.index].halfedges.push(o),vw[e.index].halfedges.push(o),i}function ku(t,e,n){var r=[e,n];return r.left=t,r}function Nu(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Iu(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=0,h=1,f=s[0]-u,p=s[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*f,l+c*p]),h<1&&(t[1]=[u+h*f,l+h*p]),!0)}}}}}function Du(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],p=c[0],d=c[1],m=(h+p)/2,g=(f+d)/2;if(d===f){if(m<e||m>=r)return;if(h>p){if(u){if(u[1]>=i)return}else u=[m,n];o=[m,i]}else{if(u){if(u[1]<n)return}else u=[m,i];o=[m,n]}}else if(a=(h-p)/(d-f),s=g-a*m,a<-1||a>1)if(h>p){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<d){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function Uu(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Fu(t,e){return e[+(e.left!==t.site)]}function ju(t,e){return e[+(e.left===t.site)]}function Bu(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,c=o[0]-a,h=o[1]-s,f=2*(u*h-l*c);if(!(f>=-Ew)){var p=u*u+l*l,d=c*c+h*h,m=(h*p-l*d)/f,g=(u*d-c*p)/f,y=xw.pop()||new function(){Cu(this),this.x=this.y=this.arc=this.site=this.cy=null};y.arc=t,y.site=i,y.x=m+a,y.y=(y.cy=g+s)+Math.sqrt(m*m+g*g),t.circle=y;for(var v=null,_=_w._;_;)if(y.y<_.y||y.y===_.y&&y.x<=_.x){if(!_.L){v=_.P;break}_=_.L}else{if(!_.R){v=_;break}_=_.R}_w.insert(v,y),v||(gw=y)}}}}function zu(t){var e=t.circle;e&&(e.P||(gw=e.N),_w.remove(e),xw.push(e),Cu(e),t.circle=null)}function Vu(t){var e=Tw.pop()||new function(){Cu(this),this.edge=this.site=this.circle=null};return e.site=t,e}function Gu(t){zu(t),yw.remove(t),Tw.push(t),Cu(t)}function Hu(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];Gu(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Sw&&Math.abs(r-u.circle.cy)<Sw;)o=u.P,s.unshift(u),Gu(u),u=o;s.unshift(u),zu(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<Sw&&Math.abs(r-l.circle.cy)<Sw;)a=l.N,s.push(l),Gu(l),l=a;s.push(l),zu(l);var c,h=s.length;for(c=1;c<h;++c)Nu((l=s[c]).edge,(u=s[c-1]).site,l.site,i);(l=s[h-1]).edge=Lu((u=s[0]).site,l.site,null,i),Bu(u),Bu(l)}function Wu(t){for(var e,n,r,i,o=t[0],a=t[1],s=yw._;s;)if((r=Xu(s,a)-o)>Sw)s=s.L;else{if(!((i=o-function(t,e){var n=t.N;if(n)return Xu(n,e);var r=t.site;return r[1]===e?r[0]:1/0}(s,a))>Sw)){r>-Sw?(e=s.P,n=s):i>-Sw?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}vw[t.index]={site:t,halfedges:[]};var u=Vu(t);if(yw.insert(e,u),e||n){if(e===n)return zu(e),n=Vu(e.site),yw.insert(u,n),u.edge=n.edge=Lu(e.site,u.site),Bu(e),void Bu(n);if(n){zu(e),zu(n);var l=e.site,c=l[0],h=l[1],f=t[0]-c,p=t[1]-h,d=n.site,m=d[0]-c,g=d[1]-h,y=2*(f*g-p*m),v=f*f+p*p,_=m*m+g*g,b=[(g*v-p*_)/y+c,(f*_-m*v)/y+h];Nu(n.edge,l,d,b),u.edge=Lu(l,t,null,b),n.edge=Lu(t,d,null,b),Bu(e),Bu(n)}else u.edge=Lu(e.site,u.site)}}function Xu(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var c=s-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function qu(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Yu(t,e){return e[1]-t[1]||e[0]-t[0]}function Zu(t,e){var n,r,i,o=t.sort(Yu).pop();for(bw=[],vw=new Array(t.length),yw=new ww,_w=new ww;;)if(i=gw,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(Wu(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Hu(i.arc)}if(function(){for(var t,e,n,r,i=0,o=vw.length;i<o;++i)if((t=vw[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=Uu(t,bw[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=bw.length;o--;)Du(i=bw[o],t,e,n,r)&&Iu(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Sw||Math.abs(i[0][1]-i[1][1])>Sw)||delete bw[o]}(a,s,u,l),function(t,e,n,r){var i,o,a,s,u,l,c,h,f,p,d,m,g=vw.length,y=!0;for(i=0;i<g;++i)if(o=vw[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)bw[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)d=(p=ju(o,bw[u[s]]))[0],m=p[1],h=(c=Fu(o,bw[u[++s%l]]))[0],f=c[1],(Math.abs(d-h)>Sw||Math.abs(m-f)>Sw)&&(u.splice(s,0,bw.push(ku(a,p,Math.abs(d-t)<Sw&&r-m>Sw?[t,Math.abs(h-t)<Sw?f:r]:Math.abs(m-r)<Sw&&n-d>Sw?[Math.abs(f-r)<Sw?h:n,r]:Math.abs(d-n)<Sw&&m-e>Sw?[n,Math.abs(h-n)<Sw?f:e]:Math.abs(m-e)<Sw&&d-t>Sw?[Math.abs(f-e)<Sw?h:t,e]:null))-1),++l);l&&(y=!1)}if(y){var v,_,b,w=1/0;for(i=0,y=null;i<g;++i)(o=vw[i])&&(b=(v=(a=o.site)[0]-t)*v+(_=a[1]-e)*_)<w&&(w=b,y=o);if(y){var x=[t,e],T=[t,r],S=[n,r],E=[n,e];y.halfedges.push(bw.push(ku(a=y.site,x,T))-1,bw.push(ku(a,T,S))-1,bw.push(ku(a,S,E))-1,bw.push(ku(a,E,x))-1)}}for(i=0;i<g;++i)(o=vw[i])&&(o.halfedges.length||delete vw[i])}(a,s,u,l)}this.edges=bw,this.cells=vw,yw=_w=bw=vw=null}function Ku(t,e,n){this.k=t,this.x=e,this.y=n}function Qu(t,e,n){return void 0===n&&(n=0),n?"translate("+t+","+e+") scale ("+n+")":"translate("+t+","+e+")"}function Ju(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,10,"p",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  dockerecosystem works!\n  "])),(t()(),_h["\u0275eld"](2,0,null,null,1,"a",[["href","https://bl.ocks.org/mbostock/4062045"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["forcediagram"])),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](5,0,null,null,1,"button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.scaleIn()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Scale in"])),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](8,0,null,null,1,"button",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.scaleOut()&&r),r},null,null)),(t()(),_h["\u0275ted"](-1,null,["Scale out"])),(t()(),_h["\u0275ted"](-1,null,["\n\n\n"])),(t()(),_h["\u0275ted"](-1,null,["\n\n\n"])),(t()(),_h["\u0275eld"](12,0,null,null,1,"div",[["class","draggable drag-drop"],["id","no-drop"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,[" #no-drop "])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275eld"](15,0,null,null,1,"div",[["class","draggable drag-drop"],["id","yes-drop"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,[" #yes-drop "])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275eld"](18,0,null,null,4,"div",[["class","dropzone"],["id","outer-dropzone"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  #outer-dropzone\n  "])),(t()(),_h["\u0275eld"](20,0,null,null,1,"div",[["class","dropzone"],["id","inner-dropzone"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["#inner-dropzone"])),(t()(),_h["\u0275ted"](-1,null,["\n"]))],null,null)}function $u(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  test-forcediagram works!\n  "])),(t()(),_h["\u0275eld"](2,0,null,null,1,"a",[["href","https://bl.ocks.org/mbostock/4062045"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["forcediagram"])),(t()(),_h["\u0275ted"](-1,null,["\n"])),(t()(),_h["\u0275ted"](-1,null,["\n\n"]))],null,null)}function tl(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  networkview works!\n"])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275eld"](3,16777216,null,null,2,"foundry-dockerecosystem",[],null,null,null,Ju,kw)),_h["\u0275did"](4,114688,null,0,Ow,[_h.ViewContainerRef,Lw],null,null),(t()(),_h["\u0275ted"](-1,null,[" "])),(t()(),_h["\u0275ted"](-1,null,["\n"])),(t()(),_h["\u0275eld"](7,16777216,null,null,2,"foundry-test-forcediagram",[],null,null,null,$u,Iw)),_h["\u0275did"](8,114688,null,0,Nw,[zg,_h.ViewContainerRef],null,null),(t()(),_h["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,4,0),t(e,8,0)},null)}function el(t,e){return function(t,e){return Object(Hw.a)(t,e,1)}(t,e)(this)}function nl(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),Object(Hw.a)(t,e,n)(this)}function rl(t){var e=t.subscriber;e.closed||(e.next(t.value),e.complete())}function il(t){var e=t.subscriber;e.closed||e.error(t.err)}function ol(){return Object(lx.a)(1)(this)}function al(t,e){return function(t,e){return function(n){return n.lift(new px(t,e,n))}}(t,e)(this)}function sl(t,e,n){return function(t,e,n){return function(r){return r.lift(new mx(t,e,n,r))}}(t,e,n)(this)}function ul(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(lx.a)(t)(this)}function ll(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new yx(t,e,n))}}function cl(t){return function(e){return 0===t?new nx.a:e.lift(new bx(t))}}function hl(t,e){return arguments.length>=2?function(n){return Object(Sx.a)(ll(t,e),cl(1),function(t){return void 0===t&&(t=null),function(e){return e.lift(new xx(t))}}(e))(n)}:function(e){return Object(Sx.a)(ll(function(e,n,r){return t(e,n,r+1)}),cl(1))(e)}}function fl(t){return new Hx(t)}function pl(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function dl(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];!function(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==Gx)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&dl(t.children,e)}(r,r?e||r.path?e&&!r.path?e+"/":!e&&r.path?r.path:e+"/"+r.path:"":e)}}function ml(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i,o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0}function gl(t){return Array.prototype.concat.apply([],t)}function yl(t){return t.length>0?t[t.length-1]:null}function vl(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function _l(t){var e=ul.call(t);return al.call(e,function(t){return!0===t})}function bl(t){return Object(_h["\u0275isObservable"])(t)?t:Object(_h["\u0275isPromise"])(t)?fx(Promise.resolve(t)):Gw(t)}function wl(t,e,n){return n?ml(t.queryParams,e.queryParams)&&xl(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&Tl(t.root,e.root)}function xl(t,e){if(!El(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!xl(t.children[n],e.children[n]))return!1}return!0}function Tl(t,e){return Sl(t,e,e.segments)}function Sl(t,e,n){if(t.segments.length>n.length)return!!El(i=t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!El(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!Tl(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!El(t.segments,i)&&!!t.children[Gx]&&Sl(t.children[Gx],e,o)}function El(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function Ml(t,e){var n=[];return vl(t.children,function(t,r){r===Gx&&(n=n.concat(e(t,r)))}),vl(t.children,function(t,r){r!==Gx&&(n=n.concat(e(t,r)))}),n}function Al(t){return t.segments.map(function(t){return Ol(t)}).join("/")}function Cl(t,e){if(!t.hasChildren())return Al(t);if(e){var n=t.children[Gx]?Cl(t.children[Gx],!1):"",r=[];return vl(t.children,function(t,e){e!==Gx&&r.push(e+":"+Cl(t,!1))}),r.length>0?n+"("+r.join("//")+")":n}var i=Ml(t,function(e,n){return n===Gx?[Cl(t.children[Gx],!1)]:[n+":"+Cl(e,!1)]});return Al(t)+"/("+i.join("//")+")"}function Pl(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}function Rl(t){return decodeURIComponent(t)}function Ol(t){return""+Pl(t.path)+function(t){return Object.keys(t).map(function(e){return";"+Pl(e)+"="+Pl(t[e])}).join("")}(t.parameters)}function Ll(t){var e=t.match($x);return e?e[0]:""}function kl(t){return new dg.a(function(e){return e.error(new rT(t))})}function Nl(t){return new dg.a(function(e){return e.error(new iT(t))})}function Il(t){return new dg.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}function Dl(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||pl)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ul(t){if(1===t.numberOfChildren&&t.children[Gx]){var e=t.children[Gx];return new Yx(t.segments.concat(e.segments),e.children)}return t}function Fl(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function jl(t){return t.outlet||Gx}function Bl(t,e){if(t===e.value)return e;for(var n=0,r=e.children;n<r.length;n++){var i=Bl(t,r[n]);if(i)return i}return null}function zl(t,e){if(t===e.value)return[e];for(var n=0,r=e.children;n<r.length;n++){var i=zl(t,r[n]);if(i.length)return i.unshift(e),i}return[]}function Vl(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}function Gl(t,e){var n=function(n,r){var i=new cT([],{},{},"",{},Gx,e,null,t.root,-1,{});return new hT("",new sT(i,[]))}(),r=new zw([new Zx("",{})]),i=new zw({}),o=new zw({}),a=new zw({}),s=new zw(""),u=new lT(r,i,a,s,o,Gx,e,n.root);return u.snapshot=n.root,new uT(new sT(u,[]),n)}function Hl(t){for(var e=t.pathFromRoot,n=e.length-1;n>=1;){var r=e[n],i=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(i.component)break;n--}}return e.slice(n).reduce(function(t,e){return{params:Object(pg.a)({},t.params,e.params),data:Object(pg.a)({},t.data,e.data),resolve:Object(pg.a)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}function Wl(t,e){e.value._routerState=t,e.children.forEach(function(e){return Wl(t,e)})}function Xl(t){var e=t.children.length>0?" { "+t.children.map(Xl).join(", ")+" } ":"";return""+t.value+e}function ql(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ml(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ml(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!ml(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ml(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Yl(t,e){return ml(t.params,e.params)&&function(t,e){return El(t,e)&&t.every(function(t,n){return ml(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Yl(t.parent,e.parent))}function Zl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){(o=n.value)._futureSnapshot=e.value;var r=function(t,n,r){return e.children.map(function(e){for(var n=0,i=r.children;n<i.length;n++){var o=i[n];if(t.shouldReuseRoute(o.value.snapshot,e.value))return Zl(t,e,o)}return Zl(t,e)})}(t,0,n);return new sT(o,r)}if(t.retrieve(e.value)){var i=t.retrieve(e.value).route;return Kl(e,i),i}var o=function(t){return new lT(new zw(t.url),new zw(t.params),new zw(t.queryParams),new zw(t.fragment),new zw(t.data),t.outlet,t.component,t)}(e.value);return r=e.children.map(function(e){return Zl(t,e)}),new sT(o,r)}function Kl(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)Kl(t.children[n],e.children[n])}function Ql(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Jl(t,e,n,r,i){var o={};return r&&vl(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),n.root===t?new qx(e,o,i):new qx($l(n.root,t,e),o,i)}function $l(t,e,n){var r={};return vl(t.children,function(t,i){r[i]=t===e?n:$l(t,e,n)}),new Yx(t.segments,r)}function tc(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Gx]:""+t}function ec(t,e,n){if(t||(t=new Yx([],{})),0===t.segments.length&&t.hasChildren())return nc(t,e,n);var r=function(t,n,r){for(var i=0,o=e,a={match:!1,pathIndex:0,commandIndex:0};o<t.segments.length;){if(i>=r.length)return a;var s=t.segments[o],u=tc(r[i]),l=i<r.length-1?r[i+1]:null;if(o>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!ic(u,l,s))return a;i+=2}else{if(!ic(u,{},s))return a;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(t,0,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Yx(t.segments.slice(0,r.pathIndex),{});return o.children[Gx]=new Yx(t.segments.slice(r.pathIndex),t.children),nc(o,0,i)}return r.match&&0===i.length?new Yx(t.segments,{}):r.match&&!t.hasChildren()?rc(t,e,n):r.match?nc(t,0,i):rc(t,e,n)}function nc(t,e,n){if(0===n.length)return new Yx(t.segments,{});var r=function(t){return"object"!=typeof t[0]?(e={},e[Gx]=t,e):void 0===t[0].outlets?(n={},n[Gx]=t,n):t[0].outlets;var e,n}(n),i={};return vl(r,function(n,r){null!==n&&(i[r]=ec(t.children[r],e,n))}),vl(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new Yx(t.segments,i)}function rc(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=function(t){var e={};return vl(n[i].outlets,function(t,n){null!==t&&(e[n]=rc(new Yx([],{}),0,t))}),e}();return new Yx(r,o)}if(0===i&&Ql(n[0]))r.push(new Zx(t.segments[e].path,n[0])),i++;else{var a=tc(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&Ql(s)?(r.push(new Zx(a,function(t){var e={};return vl(s,function(t,n){return e[n]=""+t}),e}())),i+=2):(r.push(new Zx(a,{})),i++)}}return new Yx(r,{})}function ic(t,e,n){return t==n.path&&ml(e,n.parameters)}function oc(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function ac(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function sc(t,e,n,r){if(n.length>0&&function(t,e,n){return r.some(function(n){return uc(t,e,n)&&lc(n)!==Gx})}(t,n)){var i=new Yx(e,function(t,e,n,r){var i={};i[Gx]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(var o=0,a=n;o<a.length;o++){var s=a[o];if(""===s.path&&lc(s)!==Gx){var u=new Yx([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[lc(s)]=u}}return i}(t,e,r,new Yx(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(function(n){return uc(t,e,n)})}(t,n)){var o=new Yx(t.segments,function(t,e,n,i){for(var o={},a=0,s=r;a<s.length;a++){var u=s[a];if(uc(t,e,u)&&!i[lc(u)]){var l=new Yx([],{});l._sourceSegment=t,l._segmentIndexShift=t.segments.length,o[lc(u)]=l}}return Object(pg.a)({},i,o)}(t,n,0,t.children));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}var a=new Yx(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}function uc(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function lc(t){return t.outlet||Gx}function cc(t){return t.data||{}}function hc(t){return t.resolve||{}}function fc(t){throw t}function pc(t){return Gw(null)}function dc(t){ql(t.value),t.children.forEach(dc)}function mc(t){return""===t||!!t}function gc(){return new _h.NgProbeToken("Router",ET)}function yc(t,e,n){return void 0===n&&(n={}),n.useHash?new Eh.HashLocationStrategy(t,e):new Eh.PathLocationStrategy(t,e)}function vc(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function _c(t){return[{provide:_h.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:wT,multi:!0,useValue:t}]}function bc(t,e,n,r,i,o,a,s,u,l,c){void 0===u&&(u={});var h=new ET(null,e,n,r,i,o,a,gl(s));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.enableTracing){var f=Object(Ah["\u0275getDOM"])();h.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),h}function wc(t){return t.routerState.root}function xc(t){return t.appInitializer.bind(t)}function Tc(t){return t.bootstrapListener.bind(t)}function Sc(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,55,"div",[["class","navbar navbar-inverse "],["role","navigation"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](2,0,null,null,52,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275eld"](4,0,null,null,1,"a",[["class","navbar-brand"],["href","http://localhost:4200/canvas"],["target","_blank"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["+"])),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275eld"](7,0,null,null,3,"a",[["class","navbar-brand"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==_h["\u0275nov"](t,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),_h["\u0275did"](8,671744,null,0,AT,[ET,lT,Eh.LocationStrategy],{routerLink:[0,"routerLink"]},null),_h["\u0275pad"](9,1),(t()(),_h["\u0275ted"](-1,null,["Welcome"])),(t()(),_h["\u0275ted"](-1,null,["\n\n\n    "])),(t()(),_h["\u0275eld"](12,0,null,null,41,"div",[["class","nav navbar-nav navbar-right "]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n      \n      "])),(t()(),_h["\u0275eld"](14,0,null,null,3,"a",[["class","nav navbar-brand "]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==_h["\u0275nov"](t,15).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),_h["\u0275did"](15,671744,null,0,AT,[ET,lT,Eh.LocationStrategy],{routerLink:[0,"routerLink"]},null),_h["\u0275pad"](16,1),(t()(),_h["\u0275ted"](-1,null,["Canvas"])),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275eld"](19,0,null,null,3,"a",[["class","nav navbar-brand "]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==_h["\u0275nov"](t,20).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),_h["\u0275did"](20,671744,null,0,AT,[ET,lT,Eh.LocationStrategy],{routerLink:[0,"routerLink"]},null),_h["\u0275pad"](21,1),(t()(),_h["\u0275ted"](-1,null,["Test"])),(t()(),_h["\u0275ted"](-1,null,["\n\n      "])),(t()(),_h["\u0275eld"](24,0,null,null,3,"a",[["class","nav navbar-brand "]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==_h["\u0275nov"](t,25).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),_h["\u0275did"](25,671744,null,0,AT,[ET,lT,Eh.LocationStrategy],{routerLink:[0,"routerLink"]},null),_h["\u0275pad"](26,1),(t()(),_h["\u0275ted"](-1,null,["WebGL"])),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275eld"](29,0,null,null,3,"a",[["class","nav navbar-brand "]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==_h["\u0275nov"](t,30).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),_h["\u0275did"](30,671744,null,0,AT,[ET,lT,Eh.LocationStrategy],{routerLink:[0,"routerLink"]},null),_h["\u0275pad"](31,1),(t()(),_h["\u0275ted"](-1,null,["SVG"])),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275eld"](34,0,null,null,3,"a",[["class","nav navbar-brand "]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==_h["\u0275nov"](t,35).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),_h["\u0275did"](35,671744,null,0,AT,[ET,lT,Eh.LocationStrategy],{routerLink:[0,"routerLink"]},null),_h["\u0275pad"](36,1),(t()(),_h["\u0275ted"](-1,null,["Tree"])),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275eld"](39,0,null,null,3,"a",[["class","nav navbar-brand "]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==_h["\u0275nov"](t,40).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),_h["\u0275did"](40,671744,null,0,AT,[ET,lT,Eh.LocationStrategy],{routerLink:[0,"routerLink"]},null),_h["\u0275pad"](41,1),(t()(),_h["\u0275ted"](-1,null,["List"])),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275eld"](44,0,null,null,3,"a",[["class","nav navbar-brand "]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==_h["\u0275nov"](t,45).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),_h["\u0275did"](45,671744,null,0,AT,[ET,lT,Eh.LocationStrategy],{routerLink:[0,"routerLink"]},null),_h["\u0275pad"](46,1),(t()(),_h["\u0275ted"](-1,null,["Swim"])),(t()(),_h["\u0275ted"](-1,null,["\n      "])),(t()(),_h["\u0275eld"](49,0,null,null,3,"a",[["class","nav navbar-brand "]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==_h["\u0275nov"](t,50).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),_h["\u0275did"](50,671744,null,0,AT,[ET,lT,Eh.LocationStrategy],{routerLink:[0,"routerLink"]},null),_h["\u0275pad"](51,1),(t()(),_h["\u0275ted"](-1,null,["Network"])),(t()(),_h["\u0275ted"](-1,null,["\n    "])),(t()(),_h["\u0275ted"](-1,null,["\n\n  "])),(t()(),_h["\u0275ted"](-1,null,["\n"])),(t()(),_h["\u0275ted"](-1,null,["\n\n"])),(t()(),_h["\u0275eld"](57,0,null,null,4,"div",[["class","content"],["style","padding-top:0px"]],null,null,null,null,null)),(t()(),_h["\u0275ted"](-1,null,["\n  "])),(t()(),_h["\u0275eld"](59,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),_h["\u0275did"](60,212992,null,0,RT,[PT,_h.ViewContainerRef,_h.ComponentFactoryResolver,[8,null],_h.ChangeDetectorRef],null,null),(t()(),_h["\u0275ted"](-1,null,["\n"]))],function(t,e){t(e,8,0,t(e,9,0,"/welcome")),t(e,15,0,t(e,16,0,"/canvas")),t(e,20,0,t(e,21,0,"/test")),t(e,25,0,t(e,26,0,"/webgl")),t(e,30,0,t(e,31,0,"/svg")),t(e,35,0,t(e,36,0,"/tree")),t(e,40,0,t(e,41,0,"/list")),t(e,45,0,t(e,46,0,"/swim")),t(e,50,0,t(e,51,0,"/network")),t(e,60,0)},function(t,e){t(e,7,0,_h["\u0275nov"](e,8).target,_h["\u0275nov"](e,8).href),t(e,14,0,_h["\u0275nov"](e,15).target,_h["\u0275nov"](e,15).href),t(e,19,0,_h["\u0275nov"](e,20).target,_h["\u0275nov"](e,20).href),t(e,24,0,_h["\u0275nov"](e,25).target,_h["\u0275nov"](e,25).href),t(e,29,0,_h["\u0275nov"](e,30).target,_h["\u0275nov"](e,30).href),t(e,34,0,_h["\u0275nov"](e,35).target,_h["\u0275nov"](e,35).href),t(e,39,0,_h["\u0275nov"](e,40).target,_h["\u0275nov"](e,40).href),t(e,44,0,_h["\u0275nov"](e,45).target,_h["\u0275nov"](e,45).href),t(e,49,0,_h["\u0275nov"](e,50).target,_h["\u0275nov"](e,50).href)})}function Ec(t,e){return void 0===e&&(e=null),{type:2,steps:t,options:e}}function Mc(t){return{type:6,styles:t,offset:null}}function Ac(t){Promise.resolve(null).then(t)}function Cc(t){switch(t.length){case 0:return new qT;case 1:return t[0];default:return new YT(t)}}function Pc(t,e,n,r,i,o){void 0===i&&(i={}),void 0===o&&(o={});var a=[],s=[],u=-1,l=null;if(r.forEach(function(t){var n=t.offset,r=n==u,c=r&&l||{};Object.keys(t).forEach(function(n){var r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case ZT:s=i[n];break;case XT:s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}c[r]=s}),r||s.push(c),l=c,u=n}),a.length)throw new Error("Unable to animate due to the following errors:\n - "+a.join("\n - "));return s}function Rc(t,e,n,r){switch(e){case"start":t.onStart(function(){return r(n&&Oc(n,"start",t.totalTime))});break;case"done":t.onDone(function(){return r(n&&Oc(n,"done",t.totalTime))});break;case"destroy":t.onDestroy(function(){return r(n&&Oc(n,"destroy",t.totalTime))})}}function Oc(t,e,n){var r=Lc(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,void 0==n?t.totalTime:n),i=t._data;return null!=i&&(r._data=i),r}function Lc(t,e,n,r,i,o){return void 0===i&&(i=""),void 0===o&&(o=0),{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o}}function kc(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function Nc(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}function Ic(t){return eS||(eS=Dc()||{}),!eS.style||t in eS.style}function Dc(){return"undefined"!=typeof document?document.body:null}function Uc(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Fc(parseFloat(e[1]),e[2])}function Fc(t,e){switch(e){case"s":return t*sS;default:return t}}function jc(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'+t+'" is invalid.'),{duration:0,delay:0,easing:""};r=Fc(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=Fc(Math.floor(parseFloat(s)),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var l=!1,c=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),l=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&e.splice(c,0,'The provided timing value "'+t+'" is invalid.')}return{duration:r,delay:i,easing:o}}(t,e,n)}function Bc(t,e){return void 0===e&&(e={}),Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function zc(t,e,n){if(void 0===n&&(n={}),e)for(var r in t)n[r]=t[r];else Bc(t,n);return n}function Vc(t,e){t.style&&Object.keys(e).forEach(function(n){var r=Yc(n);t.style[r]=e[n]})}function Gc(t,e){t.style&&Object.keys(e).forEach(function(e){var n=Yc(e);t.style[n]=""})}function Hc(t){return Array.isArray(t)?1==t.length?t[0]:Ec(t):t}function Wc(t){var e=[];if("string"==typeof t){for(var n=t.toString(),r=void 0;r=hS.exec(n);)e.push(r[1]);hS.lastIndex=0}return e}function Xc(t,e,n){var r=t.toString(),i=r.replace(hS,function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function qc(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}function Yc(t){return t.replace(fS,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[1].toUpperCase()})}function Zc(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Kc(t,e){var n=dS.has(t)||mS.has(t),r=dS.has(e)||mS.has(e);return function(i,o){var a=t==pS||t==i,s=e==pS||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?dS.has(t):mS.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?dS.has(e):mS.has(e)),a&&s}}function Qc(t,e,n){return new yS(t).build(e,n)}function Jc(t){return!Array.isArray(t)&&"object"==typeof t}function $c(t){return t?(t=Bc(t)).params&&(t.params=function(t){return t?Bc(t):null}(t.params)):t={},t}function th(t,e,n){return{duration:t,delay:e,easing:n}}function eh(t,e,n,r,i,o,a,s){return void 0===a&&(a=null),void 0===s&&(s=!1),{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}function nh(t,e,n,r,i,o,a,s,u,l){return void 0===o&&(o={}),void 0===a&&(a={}),void 0===l&&(l=[]),(new xS).buildKeyframes(t,e,n,r,i,o,a,s,u,l)}function rh(t,e){void 0===e&&(e=3);var n=Math.pow(10,e-1);return Math.round(t*n)/n}function ih(t,e,n,r,i,o,a,s,u,l,c,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:l,postStyleProps:c,errors:h}}function oh(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}function ah(t){return t&&1===t.nodeType}function sh(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function uh(t,e,n,r,i){var o=[];n.forEach(function(t){return o.push(sh(t))});var a=[];r.forEach(function(n,r){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[zS]=BS,a.push(r))}),t.set(r,o)});var s=0;return n.forEach(function(t){return sh(t,o[s++])}),a}function lh(t,e){function n(t){if(!t)return i;var e=a.get(t);if(e)return e;var s=t.parentNode;return e=r.has(s)?s:o.has(s)?i:n(s),a.set(t,e),e}var r=new Map;if(t.forEach(function(t){return r.set(t,[])}),0==e.length)return r;var i=1,o=new Set(e),a=new Map;return e.forEach(function(t){var e=n(t);e!==i&&r.get(e).push(t)}),r}function ch(t,e){if(t.classList)t.classList.add(e);else{var n=t[YS];n||(n=t[YS]={}),n[e]=!0}}function hh(t,e){if(t.classList)t.classList.remove(e);else{var n=t[YS];n&&delete n[e]}}function fh(t,e){for(var n=0;n<t.length;n++){var r=t[n];r instanceof YT?fh(r.players,e):e.push(r)}}function ph(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach(function(t){return i.add(t)}):e.set(t,r),n.delete(t),!0}function dh(t,e){return window.getComputedStyle(t)[e]}function mh(t,e,n,r,i){return t.setProperty(e,"@@"+n+":"+r,i)}function gh(){return"undefined"!=typeof Element&&"function"==typeof Element.prototype.animate?new QS:new oS}function yh(){return new CS}function vh(t,e,n){return new eE(t,e,n)}Object.defineProperty(e,"__esModule",{value:!0});var _h=n("LMZF"),bh={production:!0,local:!1,signalRServer:"http://localhost:5001/chathub",signalfoundry:"/chathub"},wh=function(){},xh=function(){function t(){}return t.get=function(t){return this._emitters[t]||(this._emitters[t]=new _h.EventEmitter),this._emitters[t]},t._emitters={},t}(),Th=new(function(){function t(){}return t.prototype.error=function(t,e){var n={title:e||"",message:t};xh.get("SHOWERROR").emit(n)},t.prototype.warning=function(t,e){var n={title:e||"",message:t};xh.get("SHOWWARNING").emit(n)},t.prototype.success=function(t,e){var n={title:e||"",message:t};xh.get("SHOWSUCCESS").emit(n)},t.prototype.info=function(t,e){var n={title:e||"",message:t};xh.get("SHOWINFO").emit(n)},t}()),Sh=function(){function t(t,e,n){this.toastrService=t,this.options=e,this.vcr=n,this.title="ngFoundry",this.toastrService.setRootViewContainerRef(n),this.options.showCloseButton=!0,this.options.newestOnTop=!0,this.options.positionClass="toast-top-right"}return Object.defineProperty(t.prototype,"IsProduction",{get:function(){return bh.production},enumerable:!0,configurable:!0}),t.prototype.openToast=function(t,e,n){this.toastrService[t](e,n,this.options)},t.prototype.clearToasts=function(){this.toastrService.clearAllToasts()},t.prototype.showCustom=function(){this.toastrService.custom('<span style="color: red">Message in red.</span>',null,{enableHTML:!0})},t.prototype.ngOnInit=function(){var t=this;xh.get("SHOWERROR").subscribe(function(e){t.openToast("error",e.title,e.message)}),xh.get("SHOWWARNING").subscribe(function(e){t.openToast("warning",e.title,e.message)}),xh.get("SHOWINFO").subscribe(function(e){t.openToast("info",e.title,e.message)}),xh.get("SHOWSUCCESS").subscribe(function(e){t.openToast("success",e.title,e.message)})},t}(),Eh=n("Un6q"),Mh=n("CQHW"),Ah=n("RyBE"),Ch=n("t6g9"),Ph=_h["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"inOut",definitions:[{type:0,name:"flyRight, flyLeft",styles:{type:6,styles:{opacity:1,transform:"translateX(0)"},offset:null},options:void 0},{type:0,name:"fade",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:0,name:"slideDown, slideUp",styles:{type:6,styles:{opacity:1,transform:"translateY(0)"},offset:null},options:void 0},{type:1,expr:"void => flyRight",animation:[{type:6,styles:{opacity:0,transform:"translateX(100%)"},offset:null},{type:4,styles:void 0,timings:"0.2s ease-in"}],options:null},{type:1,expr:"flyRight => void",animation:[{type:4,styles:{type:6,styles:{opacity:0,transform:"translateX(100%)"},offset:null},timings:"0.2s 10ms ease-out"}],options:null},{type:1,expr:"void => flyLeft",animation:[{type:6,styles:{opacity:0,transform:"translateX(-100%)"},offset:null},{type:4,styles:void 0,timings:"0.2s ease-in"}],options:null},{type:1,expr:"flyLeft => void",animation:[{type:4,styles:{type:6,styles:{opacity:0,transform:"translateX(-100%)"},offset:null},timings:"0.2s 10ms ease-out"}],options:null},{type:1,expr:"void => fade",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:void 0,timings:"0.3s ease-in"}],options:null},{type:1,expr:"fade => void",animation:[{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"0.3s 10ms ease-out"}],options:null},{type:1,expr:"void => slideDown",animation:[{type:6,styles:{opacity:0,transform:"translateY(-200%)"},offset:null},{type:4,styles:void 0,timings:"0.3s ease-in"}],options:null},{type:1,expr:"slideDown => void",animation:[{type:4,styles:{type:6,styles:{opacity:0,transform:"translateY(-200%)"},offset:null},timings:"0.3s 10ms ease-out"}],options:null},{type:1,expr:"void => slideUp",animation:[{type:6,styles:{opacity:0,transform:"translateY(200%)"},offset:null},{type:4,styles:void 0,timings:"0.3s ease-in"}],options:null},{type:1,expr:"slideUp => void",animation:[{type:4,styles:{type:6,styles:{opacity:0,transform:"translateY(200%)"},offset:null},timings:"0.3s 10ms ease-out"}],options:null}],options:{}}]}}),Rh=_h["\u0275ccf"]("toast-container",Mh.ToastContainer,function(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"toast-container",[],null,null,null,u,Ph)),_h["\u0275did"](1,180224,null,0,Mh.ToastContainer,[Ah.DomSanitizer,_h.ChangeDetectorRef,_h.NgZone,Ch.ToastOptions],null,null)],null,null)},{},{},[]),Oh=new(function(){function t(){this.hasOwnProperty=Object.prototype.hasOwnProperty}return t.prototype.getFunctionName=function(t){var e=t.toString();return e=e.substr("function ".length),(e=e.substr(0,e.indexOf("("))).trim()},t.prototype.generateUUID=function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:7&n|8).toString(16)})},t.prototype.asJson=function(t){var e=this.stringify(t);return JSON.parse(e)},t.prototype.stringify=function(t,e,n){function r(t){return t&&t.asReference?"resolveRef("+t.asReference()+","+t.constructor.name+")":t}return void 0===e&&(e=void 0),void 0===n&&(n=3),JSON.stringify(t,function(t,e){switch(t){case"myParent":return r(e);case"myMembers":return e?e.map(function(t){return r(t)}):e;case"_lookup":case"_members":return e}if(!t.startsWith("_"))return e},n)},t.prototype.splitNamespaceType=function(t,e){var n=t.split("::"),r={namespace:"",name:t};return 2==n.length?r={namespace:n[0],name:n[1]}:e&&(r={namespace:n[0],name:e}),r},t.prototype.getNamespace=function(t){var e=t.myType?t.myType.split("::"):[""];return e=e[0]},t.prototype.getType=function(t){var e=t.myType?t.myType.split("::"):[""];return e=2==e.length?e[1]:e[0]},t.prototype.namespace=function(t,e){return t+"::"+e},t.prototype.randomInt=function(t,e){return t+Math.floor(Math.random()*(e-t+1))},t.prototype.random=function(t,e){return t+Math.random()*(e-t)},t.prototype.randomRGBColor=function(){return"rgb("+(255*Math.random()|0)+","+(255*Math.random()|0)+","+(255*Math.random()|0)+")"},t.prototype.isSelf=function(t){return t.matches("@")||t.matches("this")||t.matches("self")},t.prototype.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},t.prototype.isFunction=function(t){return"function"==typeof t},t.prototype.isString=function(t){return"string"==typeof t},t.prototype.isNumber=function(t){return"number"==typeof t},t.prototype.isDate=function(t){return t instanceof Date},t.prototype.isObject=function(t){return t&&"object"==typeof t},t.prototype.isCustomLinkName=function(t){return!1},t.prototype.isTyped=function(t){return t&&t.isInstanceOf},t.prototype.isEmpty=function(t){if(null==t)return!0;if(t.length>0)return!1;if(0===t.length)return!0;if("object"!=typeof t)return!0;for(var e in t)if(this.hasOwnProperty.call(t,e))return!1;return!0},t.prototype.removeDQ=function(t){return t.replace(/^"(.*)"$/,"$1")},t.prototype.unwrap=function(t){return t.substring(1,t.length-1)},t.prototype.wrapDQ=function(t){return'"'+t+'"'},t.prototype.wrapSQ=function(t){return"'"+t+"'"},t.prototype.decomposeHostPath=function(t){var e=t.toLowerCase(),n=(e=(e=e.replace("http://","")).replace("https://","")).split("/")[0];return{fullpath:t,host:n,path:e.replace(n,"")}},t.prototype.extend=function(t,e){if(!e)return t;for(var n in e)this.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},t.prototype.mixin=function(t,e){if(!e)return t;if(!t)return e;for(var n in e)t[n]=e[n];return t},t.prototype.mixExact=function(e,n){if(!n)return e;if(!e)return n;for(var r in n)t.hasOwnProperty.call(e,r)&&(e[r]=n[r]);return e},t.prototype.mixout=function(t,e){if(!e)return t;if(!t)return e;for(var n in e)this.hasOwnProperty.call(t,n)&&delete t[n];return t},t.prototype.mixMap=function(t,e){if(!e)return t;var n={};for(var r in t)n[e[r]||r]=t[r];return n},t.prototype.intersect=function(t,e){if(!e)return t;if(!t)return e;var n={};for(var r in t)n[r]=this.hasOwnProperty.call(e,r)?e[r]:t[r];return n},t.prototype.union=function(t,e){var n={};if(t)for(var r in t)n[r]=t[r];if(e)for(var r in e)n[r]=e[r];return n},t.prototype.defineCalculatedProperty=function(t,e,n){return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:n}),t},t.prototype.getMethods=function(t){var e=[];for(var n in t.prototype)"function"==typeof t[n]&&e.push(n);return e},t.prototype.asArray=function(t,e){return this.isArray(t)?t:this.mapOverKeyValue(t,function(t,n){return e?e(t,n):n})},t.prototype.applyOverKeyValue=function(t,e){var n=this,r={};return(t?Object.keys(t):[]).forEach(function(i){if(n.hasOwnProperty.call(t,i)){var o=e(i,t[i]);o&&(r[i]=o)}}),r},t.prototype.mapOverKeyValue=function(t,e){var n=this,r=[];return(t?Object.keys(t):[]).forEach(function(i){if(n.hasOwnProperty.call(t,i)){var o=e(i,t[i]);o&&r.push(o)}}),r},t.prototype.forEachKeyValue=function(t,e){var n=this;(t?Object.keys(t):[]).forEach(function(r){n.hasOwnProperty.call(t,r)&&e(r,t[r])})},t.prototype.findKeyForValue=function(t,e){for(var n in t)if(this.hasOwnProperty.call(t,e)&&t[n].matches(e))return n;return t},t.prototype.overrideComputed=function(t,e){Oh.forEachKeyValue(e,function(e,n){try{Oh.isFunction(n)?Oh.defineCalculatedProperty(t,e,n):t[e]=n}catch(t){console.log(t)}})},t.prototype.extendComputed=function(t,e){Oh.forEachKeyValue(e,function(e,n){try{t[e]||(Oh.isFunction(n)?Oh.defineCalculatedProperty(t,e,n):t[e]=n)}catch(t){console.log(t)}})},t.prototype.pluck=function(t){return function(e){return e[t]}},t.prototype.distinctItems=function(t){var e={};return t.forEach(function(t){e[t]=t}),Object.keys(e)},t.prototype.groupBy=function(t,e){var n={};return e.forEach(function(e){var r=t(e);n[r]||(n[r]=[]),n[r].push(e)}),n},t}()),Lh=function(){function t(t,e){this.myName="unknown",e&&(this.myParent=function(){return e}),this.override(t)}return t.beep=function(){new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=").play()},t.jsonAlert=function(t){alert(JSON.stringify(t,void 0,3))},Object.defineProperty(t.prototype,"myType",{get:function(){return this.constructor.name},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"myGuid",{get:function(){return this._myGuid||(this._myGuid=Oh.generateUUID()),this._myGuid},set:function(t){this._myGuid||(this._myGuid=t)},enumerable:!0,configurable:!0}),t.prototype.asReference=function(){var t=this.myParent&&this.myParent();return t?this.myName+"."+t.asReference():"root"},t.prototype.then=function(t){return t(this),this},t.prototype.hasAncestor=function(t){if(t===this)return!0;var e=this.myParent&&this.myParent();return t===e||e&&e.hasAncestor(t)},Object.defineProperty(t.prototype,"hasParent",{get:function(){return!(!this.myParent||!this.myParent())},enumerable:!0,configurable:!0}),t.prototype.removeParent=function(t){return this.hasParent&&this.myParent()==t&&(this.myParent=void 0),this.hasParent},t.prototype.notifyOnChange=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r]},t.prototype.wait=function(t,e){return setTimeout(e,t),this},t.prototype.getChildAt=function(t){},t.prototype.override=function(t){return t&&Oh.overrideComputed(this,t),this},t.prototype.extend=function(t){return t&&Oh.extendComputed(this,t),this},t.prototype.getMethodList=function(){var t=function(t){return Object.getOwnPropertyNames(t).filter(function(e){return"function"==typeof t[e]})}(this),e=this,n={};return t.forEach(function(t){n[t]=e[t]()}),t},Object.defineProperty(t.prototype,"debug",{get:function(){return Oh.stringify(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asJson",{get:function(){var t=Oh.stringify(this);return JSON.parse(t)},enumerable:!0,configurable:!0}),t.prototype.jsonMerge=function(t){var e=Oh.asJson(this);return Oh.isEmpty(t)||Oh.forEachKeyValue(t,function(t,n){e[t]||Oh.isEmpty(n)||(e[t]=n&&n.asJson||n)}),e},t}(),kh=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nh=function(t){function e(e){void 0===e&&(e=void 0);var n=t.call(this)||this;return n._members=new Array,e&&e.forEach(function(t){return n.addMember(t)}),n}return kh(e,t),e.prototype.getChildAt=function(t){return this._members[t]},e.prototype.isEmpty=function(){return 0==this._members.length},e.prototype.clearAll=function(){this._members=[]},Object.defineProperty(e.prototype,"length",{get:function(){return this._members.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasMembers",{get:function(){return this.length>0},enumerable:!0,configurable:!0}),e.prototype.map=function(t){return this._members.map(t)},e.prototype.forEach=function(t){this._members.forEach(t)},e.prototype.first=function(){return this._members[0]},e.prototype.last=function(){return this._members[this._members.length-1]},e.prototype.filter=function(t){return this._members.filter(t)},e.prototype.findMember=function(t){return this._members[0]},e.prototype.getMember=function(t){return this._members[t]},e.prototype.copyMembers=function(t){var e=this;return t.members.forEach(function(t){e.addMember(t)}),this},e.prototype.addMember=function(t){return this._members.push(t),t},e.prototype.removeMembers=function(t){var e=this;return t.members.forEach(function(t){e.removeMember(t)}),this},e.prototype.removeMember=function(t){var e=this._members.indexOf(t);return e>-1&&this._members.splice(e,1),t},Object.defineProperty(e.prototype,"members",{get:function(){return this._members},enumerable:!0,configurable:!0}),e.prototype.moveToTop=function(t){var e=this._members.indexOf(t);return-1!=e&&(this._members.splice(e,1),this._members.push(t)),this._members},e}(Lh),Ih=new function(){this.registry={},this.Pub=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.registry[t]&&this.registry[t].forEach(function(t){t.apply(null,e)})},this.Sub=function(t,e){this.registry[t]?this.registry[t].push(e):this.registry[t]=[e]},this.Unsub=function(t,e){this.registry[t]&&delete this.registry[t]}},Dh=function(){function t(){}return t.primitives=function(){return Object.keys(this.modelPrimitives)},t.metaPrimitives=function(){return Object.keys(this.knowledgePrimitives)},t.newInstance=function(t,e){return this.create(this.modelPrimitives[t],e)},t.define=function(t){var e=t.name;return this.modelPrimitives[e]=t,Ih.Pub("onRuntimeTypeChanged",e),t},t.create=function(t,e){return new t(e)},t.establish=function(t,e){return new t(e)},t.knowledge=function(t){var e=t.name;return this.knowledgePrimitives[e]=t,Ih.Pub("onKnowledgeChanged",e),t},t.modelPrimitives={},t.knowledgePrimitives={},t}(),Uh=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fh=function(t){function e(e,n,r){var i=t.call(this,e,r)||this;return i._index=0,i._childDepth=0,i._subcomponents=new Nh,i._subcomponents.myName="Subparts",n&&n.forEach(function(t){return i.addSubcomponent(t)}),i}return Uh(e,t),Object.defineProperty(e.prototype,"myClass",{get:function(){return this._class||this.constructor.name},set:function(t){this._class=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asJson",{get:function(){return this.toJson()},enumerable:!0,configurable:!0}),e.prototype.toJson=function(){return{myGuid:this.myGuid,myType:this.myType,myClass:this.myClass}},e.prototype.initialize=function(t,e,n){return void 0===t&&(t=Number.NaN),void 0===e&&(e=Number.NaN),void 0===n&&(n=Number.NaN),this},e.prototype.addAsSubcomponent=function(t,e){return t.addSubcomponent(this,e),this},e.prototype.removeFromParent=function(){var t=this.myParent&&this.myParent();return t&&t.removeSubcomponent(this),this.myParent=void 0,this},e.prototype.addSubcomponent=function(t,e){var n=this;if(t)return t.myParent&&t.myParent()||(t.myParent=function(){return n},e&&t.override(e)),t._index=this._subcomponents.length,t._childDepth=this._childDepth+1,this._subcomponents.addMember(t),t},e.prototype.removeSubcomponent=function(t){if(t)return(this.myParent&&this.myParent())==this&&(t.myParent=void 0),t._index=-1,t._childDepth=0,this._subcomponents.removeMember(t),t},Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childDepth",{get:function(){return this._childDepth},enumerable:!0,configurable:!0}),e.prototype.getChildAt=function(t){return this.hasSubcomponents&&this._subcomponents.getMember(t)},Object.defineProperty(e.prototype,"prevChild",{get:function(){var t=this.index-1,e=this.myParent&&this.myParent();if(e&&t>-1)return e.getChildAt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextChild",{get:function(){var t=this.index+1,e=this.myParent&&this.myParent();if(e&&t<this._subcomponents.length)return e.getChildAt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Subcomponents",{get:function(){return this.nodes.members},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nodes",{get:function(){return this._subcomponents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasSubcomponents",{get:function(){var t=this.nodes;return t&&t.hasMembers},enumerable:!0,configurable:!0}),e}(Lh);Dh.define(Fh);var jh=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bh=function(t){function e(e){return t.call(this,e)||this}return jh(e,t),e}(Lh);Dh.knowledge(Bh);var zh=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vh=function(t){function e(e){void 0===e&&(e=void 0);var n=t.call(this,e)||this;return n._lookup={},n}return zh(e,t),e.prototype.addItem=function(t,e){return this._lookup[t]=e,e},e.prototype.removeItem=function(t){var e=this._lookup[t];return delete this._lookup[t],e},e.prototype.getItem=function(t){return this._lookup[t]},e.prototype.findItem=function(t,e,n){var r=this.getItem(t);return!r&&e?(e(t),r=this.getItem(t)):r&&n&&n(r),r},e.prototype.found=function(t,e,n){var r=this.getItem(t);return r&&e?(e(r),r=this.getItem(t)):r||n&&n(t),r},e.prototype.clearAll=function(){this._lookup={}},Object.defineProperty(e.prototype,"keys",{get:function(){return Object.keys(this._lookup)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"members",{get:function(){var t=this;return this.keys.map(function(e){return t._lookup[e]})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._lookup},enumerable:!0,configurable:!0}),e.prototype.mapMembers=function(t){var e=this;return this.keys.map(function(n){return t(e._lookup[n])})},e.prototype.forEachKeyValue=function(t){var e=this;this.keys.forEach(function(n){t(n,e._lookup[n])})},e.prototype.applyTo=function(t){for(var e in this._lookup)t(this._lookup[e])},Object.defineProperty(e.prototype,"asJson",{get:function(){return this.jsonMerge(this._lookup)},enumerable:!0,configurable:!0}),e.prototype.jsonMerge=function(t){var e={};return Oh.isEmpty(t)||Oh.forEachKeyValue(t,function(t,n){e[t]||Oh.isEmpty(n)||(e[t]=n&&n.asJson||n)}),e},e}(Bh),Gh=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hh=function(t){function e(e){return void 0===e&&(e=void 0),t.call(this,e)||this}return Gh(e,t),e}(Bh),Wh=function(t){function e(e,n){void 0===n&&(n=void 0);var r=t.call(this,n)||this;return r._mySource=void 0,r._mySource=e,r}return Gh(e,t),Object.defineProperty(e.prototype,"title",{get:function(){return this._title?this._title:this.myName},set:function(t){this._title=t},enumerable:!0,configurable:!0}),e}(Hh),Xh=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qh=function(t){function e(e){var n=t.call(this,e)||this;return n._create=function(t,e,n){return new Fh(t,e,n)},n}return Xh(e,t),Object.defineProperty(e.prototype,"primitive",{get:function(){return this._primitive},set:function(t){this._primitive=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specification",{get:function(){return this._specification},set:function(t){this._specification=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this._attributes||(this._attributes=new Vh({myName:"attributes"})),this._attributes},set:function(t){this._attributes=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"projections",{get:function(){return this._projections||(this._projections=new Vh({myName:"projections"})),this._projections},set:function(t){this._projections=t},enumerable:!0,configurable:!0}),e.prototype.definePrimitive=function(t){return this.primitive=t.name,this._create=function(e,n,r){return new t(e,n,r)},this},e.prototype.establishAttribute=function(t,e){var n=this.attributes,r=n.getItem(t);return r||((r=n.addItem(t,new Hh(e))).myName=t,Ih.Pub("attribute",["added",this,r])),r},e.prototype.establishProjection=function(t,e){var n=this.projections,r=n.getItem(t);return r||(r=new Yh(this,e),n.addItem(t,r),r.myName=t),r},Object.defineProperty(e.prototype,"debug",{get:function(){return Oh.stringify({base:this,spec:this._specification,primitive:this._primitive,attributes:this._attributes,projections:this._projections})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asJson",{get:function(){var t=Oh.asJson(this);return t.primitive=this._primitive,t.specification=this._specification,t.attributes=Oh.asArray(this.attributes.asJson),t.projections=Oh.asArray(this.projections.asJson),t},enumerable:!0,configurable:!0}),e.prototype.newInstance=function(t,e,n){var r=Oh.union(this.specification,t),i=this._create(r,e,n);return i.initialize(),i},e}(Bh);Dh.knowledge(qh);var Yh=function(t){function e(e,n){var r=t.call(this,n)||this;return r._mySource=void 0,r._mySource=e,Ih.Sub("attribute",function(t,e,n){r._mySource===e&&r.establishViewAttribute(n)}),r}return Xh(e,t),e.prototype.establishViewAttribute=function(t,e){void 0===e&&(e=void 0);var n=t.myName,r=this.attributes.getItem(n);return r||(r=new Wh(t,e),this.attributes.addItem(n,r),r.myName=n),r},e}(qh);Dh.knowledge(Yh);var Zh=function(){return function(t){t&&Oh.mixin(this,t)}}(),Kh=function(){function t(){}return t.namespaces=function(){return Object.keys(this.lookup)},t.names=function(t){return Object.keys(this.lookup[t])},t.allConceptItems=function(){var t=new Array;return Oh.forEachKeyValue(this.lookup,function(e,n){Oh.forEachKeyValue(n,function(n,r){var i=new Zh({id:e+"::"+n,namespace:e,name:n,concept:r});t.push(i)})}),t},t.find=function(t){var e=Oh.splitNamespaceType(t);return this.findConcept(e.namespace,e.name)},t.register=function(t,e){var n=Oh.splitNamespaceType(t);return this.registerConcept(n.namespace,n.name,e)},t.registerConcept=function(t,e,n){return this.lookup[t]||(this.lookup[t]={}),this.lookup[t][e]=n,n},t.findConcept=function(t,e){var n=this.lookup[t];return n&&n[e]},t.define=function(t,e,n){var r=Oh.splitNamespaceType(t),i=r.namespace,o=r.name,a=new qh({myName:t});a.definePrimitive(e),a.specification=n||{};var s=this.registerConcept(i,o,a);return Ih.Pub("onKnowledgeChanged",s),s},t.override=function(t){var e=t.specification,n=t.primitive,r=new qh(t),i=Dh.modelPrimitives[n];if(!i)throw Error("runtimeType not found "+i);r.definePrimitive(i),r.specification=e;var o=Oh.splitNamespaceType(r.myName),a=this.registerConcept(o.namespace,o.name,r);return Ih.Pub("onKnowledgeChanged",a),a},t.newInstance=function(t,e,n){var r=Oh.splitNamespaceType(t),i=this.findConcept(r.namespace,r.name).newInstance(e);return n&&n(i),i},t.lookup={},t}(),Qh=function(){function t(t){this.signalR=t,this.typeinText="",this.postList=[],this.model=[],this.def=new qh}return t.prototype.doToast=function(){Th.info("info message","my title")},t.prototype.doVersion=function(){this.signalR.askforVersion()},t.prototype.doPost=function(){this.signalR.send(this.inputRef.innerText||this.typeinText),this.typeinText=""},t.prototype.onKeyUp=function(t){this.typeinText=t},t.prototype.onInput=function(t){this.typeinText=t,this.doPost()},t.prototype.ngOnInit=function(){var t=this;this.signalR.start().then(function(){t.signalR.receive(function(e){Th.info(JSON.stringify(e),"receive"),t.postList.push(e)})});var e=function(){return"hello"},n={first:"steve",last:"strong",full:function(){return"hello all "+this.first+" - "+this.last},xxx:e,yyy:e.toString(),zzz:new Function('{ return "hello" }')(),morestuff:function(t){return this.first+" - "+this.last}};this.def=new qh({first:"mile",last:"davis"}),this.model=[this.def,this.def.newInstance(),new Fh(n)]},t}(),Jh=n("3Rms"),$h=function(){function t(){this._started=!1,this.hubURL=bh.local?bh.signalRServer:bh.signalfoundry,this._guid=Oh.generateUUID(),this.connection||(this.connection=new Jh.HubConnection(this.hubURL))}return Object.defineProperty(t.prototype,"hub",{get:function(){return this._started&&this.connection},enumerable:!0,configurable:!0}),t.prototype.send=function(t){this.hub&&(console.log("text: "+t),this.hub.invoke("send",t))},t.prototype.pubCommand=function(t,e,n){this.hub&&(e._channel=this._guid,this.hub.invoke("command",t,e,n))},t.prototype.subCommand=function(t,e){var n=this;this.hub?this.hub.on(t,function(t,r){t._channel!=n._guid&&e(t,r)}):Th.warning("cannot connect at this moment",this.hubURL)},t.prototype.receive=function(t){this.hub?this.hub.on("send",function(e){console.log("receive: "+JSON.stringify(e,void 0,3)),t(e)}):Th.warning("cannot connect at this moment",this.hubURL)},t.prototype.askforVersion=function(){this.hub&&this.hub.invoke("version")},t.prototype.start=function(){var t,e=this;return this._started?t=Promise.resolve(void 0):(t=this.connection.start()).then(function(){e._started=!0,e.hub.on("version",function(t){Th.success(e.hubURL,"Connected.. "+t)}),e.askforVersion()}).catch(function(t){Th.error(JSON.stringify(t),e.hubURL)}),t},t}(),tf=_h["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),ef=_h["\u0275ccf"]("foundry-welcome",Qh,function(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"foundry-welcome",[],null,null,null,c,tf)),_h["\u0275did"](1,114688,null,0,Qh,[$h],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]);void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),h.prototype={addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;var n=[],r=0,i=e.length;for(r=0;r<i;r++)n[r]=e[r];for(r=0;r<i;r++)n[r].call(this,t)}}}};var nf="84",rf=0,of=1,af=2,sf=0,uf=1,lf=2,cf=0,hf=1,ff=2,pf=1,df=2,mf=0,gf=1,yf=2,vf=0,_f=1,bf=2,wf=3,xf=4,Tf=5,Sf=100,Ef=101,Mf=102,Af=103,Cf=104,Pf=200,Rf=201,Of=202,Lf=203,kf=204,Nf=205,If=206,Df=207,Uf=208,Ff=209,jf=210,Bf=0,zf=1,Vf=2,Gf=3,Hf=4,Wf=5,Xf=6,qf=7,Yf=0,Zf=1,Kf=2,Qf=0,Jf=1,$f=2,tp=3,ep=4,np=301,rp=302,ip=303,op=304,ap=305,sp=306,up=307,lp=1e3,cp=1001,hp=1002,fp=1003,pp=1004,dp=1005,mp=1006,gp=1007,yp=1008,vp=1009,_p=1010,bp=1011,wp=1012,xp=1013,Tp=1014,Sp=1015,Ep=1016,Mp=1017,Ap=1018,Cp=1019,Pp=1020,Rp=1021,Op=1022,Lp=1023,kp=1024,Np=1025,Ip=1026,Dp=1027,Up=2001,Fp=2002,jp=2003,Bp=2004,zp=2100,Vp=2101,Gp=2102,Hp=2103,Wp=2151,Xp=2201,qp=2400,Yp=0,Zp=1,Kp=2,Qp=3e3,Jp=3001,$p=3007,td=3002,ed=3004,nd=3005,rd=3006,id=3200,od=3201,ad={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0;return function(){for(var i=0;i<36;i++)8===i||13===i||18===i||23===i?n[i]="-":14===i?n[i]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),t=15&r,r>>=4,n[i]=e[19===i?3&t|8:t]);return n.join("")}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*ad.DEG2RAD},radToDeg:function(t){return t*ad.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}};f.prototype={constructor:f,isVector2:!0,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new f,e=new f),t.set(n,n),e.set(r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}};var sd=0;p.DEFAULT_IMAGE=void 0,p.DEFAULT_MAPPING=300,p.prototype={constructor:p,isTexture:!0,set needsUpdate(t){!0===t&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var e={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=ad.generateUUID()),void 0===t.images[n.uuid]&&(t.images[n.uuid]={uuid:n.uuid,url:function(t){var e;return void 0!==t.toDataURL?e=t:((e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}(n)}),e.image=n.uuid}return t.textures[this.uuid]=e,e},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300===this.mapping){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case lp:t.x=t.x-Math.floor(t.x);break;case cp:t.x=t.x<0?0:1;break;case hp:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case lp:t.y=t.y-Math.floor(t.y);break;case cp:t.y=t.y<0?0:1;break;case hp:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},Object.assign(p.prototype,h.prototype),d.prototype={constructor:d,isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,o=t.elements,a=o[0],s=o[4],u=o[8],l=o[1],c=o[5],h=o[9],f=o[2],p=o[6],d=o[10];if(Math.abs(s-l)<.01&&Math.abs(u-f)<.01&&Math.abs(h-p)<.01){if(Math.abs(s+l)<.1&&Math.abs(u+f)<.1&&Math.abs(h+p)<.1&&Math.abs(a+c+d-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(a+1)/2,g=(c+1)/2,y=(d+1)/2,v=(s+l)/4,_=(u+f)/4,b=(h+p)/4;return m>g&&m>y?m<.01?(n=0,r=.707106781,i=.707106781):(r=v/(n=Math.sqrt(m)),i=_/n):g>y?g<.01?(n=.707106781,r=0,i=.707106781):(n=v/(r=Math.sqrt(g)),i=b/r):y<.01?(n=.707106781,r=.707106781,i=0):(n=_/(i=Math.sqrt(y)),r=b/i),this.set(n,r,i,e),this}var w=Math.sqrt((p-h)*(p-h)+(u-f)*(u-f)+(l-s)*(l-s));return Math.abs(w)<.001&&(w=1),this.x=(p-h)/w,this.y=(u-f)/w,this.z=(l-s)/w,this.w=Math.acos((a+c+d-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new d,e=new d),t.set(n,n,n,n),e.set(r,r,r,r),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},m.prototype={constructor:m,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(m.prototype,h.prototype),(g.prototype=Object.create(m.prototype)).constructor=g,g.prototype.isWebGLRenderTargetCube=!0,y.prototype={constructor:y,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!1===(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=Math.cos(t._x/2),r=Math.cos(t._y/2),i=Math.cos(t._z/2),o=Math.sin(t._x/2),a=Math.sin(t._y/2),s=Math.sin(t._z/2),u=t.order;return"XYZ"===u?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):"YXZ"===u?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):"ZXY"===u?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):"ZYX"===u?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):"YZX"===u?(this._x=o*r*i+n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i-o*a*s):"XZY"===u&&(this._x=o*r*i-n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i+o*a*s),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],u=n[9],l=n[2],c=n[6],h=n[10],f=r+s+h;return f>0?(e=.5/Math.sqrt(f+1),this._w=.25/e,this._x=(c-u)*e,this._y=(o-l)*e,this._z=(a-i)*e):r>s&&r>h?(e=2*Math.sqrt(1+r-s-h),this._w=(c-u)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+l)/e):s>h?(e=2*Math.sqrt(1+s-r-h),this._w=(o-l)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(u+c)/e):(e=2*Math.sqrt(1+h-r-s),this._w=(a-i)/e,this._x=(o+l)/e,this._y=(u+c)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e;return function(n,r){return void 0===t&&(t=new v),(e=n.dot(r)+1)<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(t=1/t),this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,o=t._w,a=e._x,s=e._y,u=e._z,l=e._w;return this._x=n*l+o*a+r*u-i*s,this._y=r*l+o*s+i*a-n*u,this._z=i*l+o*u+n*s-r*a,this._w=o*l-n*a-r*s-i*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var u=Math.atan2(s,a),l=Math.sin((1-e)*u)/s,c=Math.sin(e*u)/s;return this._w=o*l+this._w*c,this._x=n*l+this._x*c,this._y=r*l+this._y*c,this._z=i*l+this._z*c,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(y,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,o,a){var s=n[r+0],u=n[r+1],l=n[r+2],c=n[r+3],h=i[o+0],f=i[o+1],p=i[o+2],d=i[o+3];if(c!==d||s!==h||u!==f||l!==p){var m=1-a,g=s*h+u*f+l*p+c*d,y=g>=0?1:-1,v=1-g*g;if(v>Number.EPSILON){var _=Math.sqrt(v),b=Math.atan2(_,g*y);m=Math.sin(m*b)/_,a=Math.sin(a*b)/_}var w=a*y;if(s=s*m+h*w,u=u*m+f*w,l=l*m+p*w,c=c*m+d*w,m===1-a){var x=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=x,u*=x,l*=x,c*=x}}t[e]=s,t[e+1]=u,t[e+2]=l,t[e+3]=c}}),v.prototype={constructor:v,isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t;return function(e){return!1===(e&&e.isEuler)&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===t&&(t=new y),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t;return function(e,n){return void 0===t&&(t=new y),this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r+i[12],this.y=i[1]*e+i[5]*n+i[9]*r+i[13],this.z=i[2]*e+i[6]*n+i[10]*r+i[14],this.divideScalar(i[3]*e+i[7]*n+i[11]*r+i[15])},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z,s=t.w,u=s*e+o*r-a*n,l=s*n+a*e-i*r,c=s*r+i*n-o*e,h=-i*e-o*n-a*r;return this.x=u*s+h*-i+l*-a-c*-o,this.y=l*s+h*-o+c*-i-u*-a,this.z=c*s+h*-a+u*-o-l*-i,this},project:function(){var t;return function(e){return void 0===t&&(t=new _),t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t;return function(e){return void 0===t&&(t=new _),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new v,e=new v),t.set(n,n,n),e.set(r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var n=this.x,r=this.y,i=this.z;return this.x=r*t.z-i*t.y,this.y=i*t.x-n*t.z,this.z=n*t.y-r*t.x,this},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new v),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new v),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(ad.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){if("number"==typeof t){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var n=t;t=e,e=n}return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},_.prototype={constructor:_,isMatrix4:!0,set:function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=u,g[6]=l,g[10]=c,g[14]=h,g[3]=f,g[7]=p,g[11]=d,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new _).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(e){void 0===t&&(t=new v);var n=this.elements,r=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),o=1/t.setFromMatrixColumn(e,1).length(),a=1/t.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,this}}(),makeRotationFromEuler:function(t){!1===(t&&t.isEuler)&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){var h=o*l,f=o*c,p=a*l,d=a*c;e[0]=s*l,e[4]=-s*c,e[8]=u,e[1]=f+p*u,e[5]=h-d*u,e[9]=-a*s,e[2]=d-h*u,e[6]=p+f*u,e[10]=o*s}else if("YXZ"===t.order){var m=s*c,g=u*l;e[0]=(y=s*l)+(v=u*c)*a,e[4]=g*a-m,e[8]=o*u,e[1]=o*c,e[5]=o*l,e[9]=-a,e[2]=m*a-g,e[6]=v+y*a,e[10]=o*s}else if("ZXY"===t.order){var y,v;m=s*c,g=u*l,e[0]=(y=s*l)-(v=u*c)*a,e[4]=-o*c,e[8]=g+m*a,e[1]=m+g*a,e[5]=o*l,e[9]=v-y*a,e[2]=-o*u,e[6]=a,e[10]=o*s}else if("ZYX"===t.order)h=o*l,f=o*c,p=a*l,d=a*c,e[0]=s*l,e[4]=p*u-f,e[8]=h*u+d,e[1]=s*c,e[5]=d*u+h,e[9]=f*u-p,e[2]=-u,e[6]=a*s,e[10]=o*s;else if("YZX"===t.order){var _=o*s,b=o*u,w=a*s,x=a*u;e[0]=s*l,e[4]=x-_*c,e[8]=w*c+b,e[1]=c,e[5]=o*l,e[9]=-a*l,e[2]=-u*l,e[6]=b*c+w,e[10]=_-x*c}else"XZY"===t.order&&(_=o*s,b=o*u,w=a*s,x=a*u,e[0]=s*l,e[4]=-c,e[8]=u*l,e[1]=_*c+x,e[5]=o*l,e[9]=b*c-w,e[2]=w*c-b,e[6]=a*l,e[10]=x*c+_);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z,o=t.w,a=n+n,s=r+r,u=i+i,l=n*a,c=n*s,h=n*u,f=r*s,p=r*u,d=i*u,m=o*a,g=o*s,y=o*u;return e[0]=1-(f+d),e[4]=c-y,e[8]=h+g,e[1]=c+y,e[5]=1-(l+d),e[9]=p-m,e[2]=h-g,e[6]=p+m,e[10]=1-(l+f),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t,e,n;return function(r,i,o){void 0===t&&(t=new v,e=new v,n=new v);var a=this.elements;return n.subVectors(r,i).normalize(),0===n.lengthSq()&&(n.z=1),t.crossVectors(o,n).normalize(),0===t.lengthSq()&&(n.z+=1e-4,t.crossVectors(o,n).normalize()),e.crossVectors(n,t),a[0]=t.x,a[4]=e.x,a[8]=n.x,a[1]=t.y,a[5]=e.y,a[9]=n.y,a[2]=t.z,a[6]=e.z,a[10]=n.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],l=n[1],c=n[5],h=n[9],f=n[13],p=n[2],d=n[6],m=n[10],g=n[14],y=n[3],v=n[7],_=n[11],b=n[15],w=r[0],x=r[4],T=r[8],S=r[12],E=r[1],M=r[5],A=r[9],C=r[13],P=r[2],R=r[6],O=r[10],L=r[14],k=r[3],N=r[7],I=r[11],D=r[15];return i[0]=o*w+a*E+s*P+u*k,i[4]=o*x+a*M+s*R+u*N,i[8]=o*T+a*A+s*O+u*I,i[12]=o*S+a*C+s*L+u*D,i[1]=l*w+c*E+h*P+f*k,i[5]=l*x+c*M+h*R+f*N,i[9]=l*T+c*A+h*O+f*I,i[13]=l*S+c*C+h*L+f*D,i[2]=p*w+d*E+m*P+g*k,i[6]=p*x+d*M+m*R+g*N,i[10]=p*T+d*A+m*O+g*I,i[14]=p*S+d*C+m*L+g*D,i[3]=y*w+v*E+_*P+b*k,i[7]=y*x+v*M+_*R+b*N,i[11]=y*T+v*A+_*O+b*I,i[15]=y*S+v*C+_*L+b*D,this},multiplyToArray:function(t,e,n){var r=this.elements;return this.multiplyMatrices(t,e),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t;return function(e){void 0===t&&(t=new v);for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],a=t[5],s=t[9],u=t[13],l=t[2],c=t[6],h=t[10],f=t[14];return t[3]*(+i*s*c-r*u*c-i*a*h+n*u*h+r*a*f-n*s*f)+t[7]*(+e*s*f-e*u*h+i*o*h-r*o*f+r*u*l-i*s*l)+t[11]*(+e*u*c-e*a*f-i*o*c+n*o*f+i*a*l-n*u*l)+t[15]*(-r*a*l-e*s*c+e*a*h+r*o*c-n*o*h+n*s*l)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],l=r[5],c=r[6],h=r[7],f=r[8],p=r[9],d=r[10],m=r[11],g=r[12],y=r[13],v=r[14],_=r[15],b=p*v*h-y*d*h+y*c*m-l*v*m-p*c*_+l*d*_,w=g*d*h-f*v*h-g*c*m+u*v*m+f*c*_-u*d*_,x=f*y*h-g*p*h+g*l*m-u*y*m-f*l*_+u*p*_,T=g*p*c-f*y*c-g*l*d+u*y*d+f*l*v-u*p*v,S=i*b+o*w+a*x+s*T;if(0===S){var E="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(!0===e)throw new Error(E);return console.warn(E),this.identity()}var M=1/S;return n[0]=b*M,n[1]=(y*d*s-p*v*s-y*a*m+o*v*m+p*a*_-o*d*_)*M,n[2]=(l*v*s-y*c*s+y*a*h-o*v*h-l*a*_+o*c*_)*M,n[3]=(p*c*s-l*d*s-p*a*h+o*d*h+l*a*m-o*c*m)*M,n[4]=w*M,n[5]=(f*v*s-g*d*s+g*a*m-i*v*m-f*a*_+i*d*_)*M,n[6]=(g*c*s-u*v*s-g*a*h+i*v*h+u*a*_-i*c*_)*M,n[7]=(u*d*s-f*c*s+f*a*h-i*d*h-u*a*m+i*c*m)*M,n[8]=x*M,n[9]=(g*p*s-f*y*s-g*o*m+i*y*m+f*o*_-i*p*_)*M,n[10]=(u*y*s-g*l*s+g*o*h-i*y*h-u*o*_+i*l*_)*M,n[11]=(f*l*s-u*p*s-f*o*h+i*p*h+u*o*m-i*l*m)*M,n[12]=T*M,n[13]=(f*y*a-g*p*a+g*o*d-i*y*d-f*o*v+i*p*v)*M,n[14]=(g*l*a-u*y*a-g*o*c+i*y*c+u*o*v-i*l*v)*M,n[15]=(u*p*a-f*l*a+f*o*c-i*p*c-u*o*d+i*l*d)*M,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,a=t.y,s=t.z,u=i*o,l=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,l*a+n,l*s-r*o,0,u*s-r*a,l*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(){var t,e;return function(n,r,i){void 0===t&&(t=new v,e=new _);var o=this.elements,a=t.set(o[0],o[1],o[2]).length(),s=t.set(o[4],o[5],o[6]).length(),u=t.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],e.elements.set(this.elements);var l=1/a,c=1/s,h=1/u;return e.elements[0]*=l,e.elements[1]*=l,e.elements[2]*=l,e.elements[4]*=c,e.elements[5]*=c,e.elements[6]*=c,e.elements[8]*=h,e.elements[9]*=h,e.elements[10]*=h,r.setFromRotationMatrix(e),i.x=a,i.y=s,i.z=u,this}}(),makePerspective:function(t,e,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(n-r),u=(e+t)/(e-t),l=(n+r)/(n-r),c=-(o+i)/(o-i),h=-2*o*i/(o-i);return a[0]=2*i/(e-t),a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=s,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=c,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,n,r,i,o){var a=this.elements,s=1/(e-t),u=1/(n-r),l=1/(o-i),c=(e+t)*s,h=(n+r)*u,f=(o+i)*l;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}},(b.prototype=Object.create(p.prototype)).constructor=b,b.prototype.isCubeTexture=!0,Object.defineProperty(b.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var ud=new p,ld=new b,cd=[],hd=[];Z.prototype.setValue=function(t,e){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var o=n[r];o.setValue(t,e[o.id])}};var fd=/([\w\d_]+)(\])?(\[|\.)?/g;J.prototype.setValue=function(t,e,n){var r=this.map[e];void 0!==r&&r.setValue(t,n,this.renderer)},J.prototype.set=function(t,e,n){var r=this.map[n];void 0!==r&&r.setValue(t,e[n],this.renderer)},J.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},J.upload=function(t,e,n,r){for(var i=0,o=e.length;i!==o;++i){var a=e[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,r)}},J.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var o=t[r];o.id in e&&n.push(o)}return n};var pd={merge:function(t){for(var e={},n=0;n<t.length;n++){var r=this.clone(t[n]);for(var i in r)e[i]=r[i]}return e},clone:function(t){var e={};for(var n in t){e[n]={};for(var r in t[n]){var i=t[n][r];e[n][r]=i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?i.clone():Array.isArray(i)?i.slice():i}}return e}},dd={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\n\tint config = 0;\n\tif ( L[0].z > 0.0 ) config += 1;\n\tif ( L[1].z > 0.0 ) config += 2;\n\tif ( L[2].z > 0.0 ) config += 4;\n\tif ( L[3].z > 0.0 ) config += 8;\n\tn = 0;\n\tif ( config == 0 ) {\n\t} else if ( config == 1 ) {\n\t\tn = 3;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 2 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 3 ) {\n\t\tn = 4;\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 4 ) {\n\t\tn = 3;\n\t\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t} else if ( config == 5 ) {\n\t\tn = 0;\n\t} else if ( config == 6 ) {\n\t\tn = 4;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 7 ) {\n\t\tn = 5;\n\t\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 8 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] =  L[3];\n\t} else if ( config == 9 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\n\t} else if ( config == 10 ) {\n\t\tn = 0;\n\t} else if ( config == 11 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 12 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t} else if ( config == 13 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = L[2];\n\t\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t} else if ( config == 14 ) {\n\t\tn = 5;\n\t\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t} else if ( config == 15 ) {\n\t\tn = 4;\n\t}\n\tif ( n == 3 )\n\t\tL[3] = L[0];\n\tif ( n == 4 )\n\t\tL[4] = L[0];\n}\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\n\tfloat cosTheta = dot( v1, v2 );\n\tfloat theta = acos( cosTheta );\n\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\n\treturn res;\n}\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\n\trectPoints[0] = pos - halfWidth - halfHeight;\n\trectPoints[1] = pos + halfWidth - halfHeight;\n\trectPoints[2] = pos + halfWidth + halfHeight;\n\trectPoints[3] = pos - halfWidth + halfHeight;\n}\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[5];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tint n;\n\tclipQuadToHorizon(clippedRect, n);\n\tif ( n == 0 )\n\t\treturn vec3( 0, 0, 0 );\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tclippedRect[4] = normalize( clippedRect[4] );\n\tfloat sum = 0.0;\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\n\tif (n >= 4)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\n\tif (n == 5)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\n\tsum = max( 0.0, sum );\n\tvec3 Lo_i = vec3( sum, sum, sum );\n\treturn Lo_i;\n}\nvec3 Rect_Area_Light_Specular_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\n\t\tconst in float roughness,\n\t\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tvec2 uv = ltcTextureCoords( geometry, roughness );\n\tvec4 brdfLtcApproxParams, t;\n\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\n\tt = texture2D( ltcMat, uv );\n\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\n\tmat3 brdfLtcApproxMat = mat3(\n\t\tvec3(   1,   0, t.y ),\n\t\tvec3(   0, t.z,   0 ),\n\t\tvec3( t.w,   0, t.x )\n\t);\n\tvec3 specularReflectance = integrateLtcBrdfOverRect( geometry, brdfLtcApproxMat, rectPoints );\n\tspecularReflectance *= brdfLtcScalar;\n\treturn specularReflectance;\n}\nvec3 Rect_Area_Light_Diffuse_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tmat3 diffuseBrdfMat = mat3(1);\n\tvec3 diffuseReflectance = integrateLtcBrdfOverRect( geometry, diffuseBrdfMat, rectPoints );\n\treturn diffuseReflectance;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = BlinnExponentToGGXRoughness( material.specularShininess );\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec / PI2;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff / PI2;\n\t}\n#endif\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_flip:"#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",distanceRGBA_vert:"varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\n}\n",shadow_vert:"#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"};$.prototype={constructor:$,isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(e,n,r){if(e=ad.euclideanModulo(e,1),n=ad.clamp(n,0,1),r=ad.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=t(o,i,e+1/3),this.g=t(o,i,e),this.b=t(o,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,i=n[2];switch(n[1]){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i)){var o=parseFloat(r[1])/360,a=parseInt(r[2],10)/100,s=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(o,a,s)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var u=(l=n[1]).length;if(3===u)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}if(t&&t.length>0){var l;void 0!==(l=md[t])?this.setHex(l):console.warn("THREE.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,n,r=t||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),u=Math.min(i,o,a),l=(u+s)/2;if(u===s)e=0,n=0;else{var c=s-u;switch(n=l<=.5?c/(s+u):c/(2-s-u),s){case i:e=(o-a)/c+(o<a?6:0);break;case o:e=(a-i)/c+2;break;case a:e=(i-o)/c+4}e/=6}return r.h=e,r.s=n,r.l=l,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){var r=this.getHSL();return r.h+=t,r.s+=e,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}};var md={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};(tt.prototype=Object.create(p.prototype)).constructor=tt,tt.prototype.isDataTexture=!0;var gd={common:{diffuse:{value:new $(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new d(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new f(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new $(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new $(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new d(0,0,1,1)}}},yd={basic:{uniforms:pd.merge([gd.common,gd.aomap,gd.lightmap,gd.fog]),vertexShader:dd.meshbasic_vert,fragmentShader:dd.meshbasic_frag},lambert:{uniforms:pd.merge([gd.common,gd.aomap,gd.lightmap,gd.emissivemap,gd.fog,gd.lights,{emissive:{value:new $(0)}}]),vertexShader:dd.meshlambert_vert,fragmentShader:dd.meshlambert_frag},phong:{uniforms:pd.merge([gd.common,gd.aomap,gd.lightmap,gd.emissivemap,gd.bumpmap,gd.normalmap,gd.displacementmap,gd.gradientmap,gd.fog,gd.lights,{emissive:{value:new $(0)},specular:{value:new $(1118481)},shininess:{value:30}}]),vertexShader:dd.meshphong_vert,fragmentShader:dd.meshphong_frag},standard:{uniforms:pd.merge([gd.common,gd.aomap,gd.lightmap,gd.emissivemap,gd.bumpmap,gd.normalmap,gd.displacementmap,gd.roughnessmap,gd.metalnessmap,gd.fog,gd.lights,{emissive:{value:new $(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:dd.meshphysical_vert,fragmentShader:dd.meshphysical_frag},points:{uniforms:pd.merge([gd.points,gd.fog]),vertexShader:dd.points_vert,fragmentShader:dd.points_frag},dashed:{uniforms:pd.merge([gd.common,gd.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:dd.linedashed_vert,fragmentShader:dd.linedashed_frag},depth:{uniforms:pd.merge([gd.common,gd.displacementmap]),vertexShader:dd.depth_vert,fragmentShader:dd.depth_frag},normal:{uniforms:pd.merge([gd.common,gd.bumpmap,gd.normalmap,gd.displacementmap,{opacity:{value:1}}]),vertexShader:dd.normal_vert,fragmentShader:dd.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:dd.cube_vert,fragmentShader:dd.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:dd.equirect_vert,fragmentShader:dd.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new v}},vertexShader:dd.distanceRGBA_vert,fragmentShader:dd.distanceRGBA_frag}};yd.physical={uniforms:pd.merge([yd.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:dd.meshphysical_vert,fragmentShader:dd.meshphysical_frag},et.prototype={constructor:et,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new f;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new f;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new f;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new f).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new f).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new f;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}};var vd=0;nt.prototype={constructor:nt,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){!0===t&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]="overdraw"===e?Number(n):n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){function e(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var n=void 0===t;n&&(t={textures:{},images:{}});var r={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==_f&&(r.blending=this.blending),this.shading!==df&&(r.shading=this.shading),this.side!==cf&&(r.side=this.side),this.vertexColors!==mf&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),r.skinning=this.skinning,r.morphTargets=this.morphTargets,n){var i=e(t.textures),o=e(t.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(nt.prototype,h.prototype),(rt.prototype=Object.create(nt.prototype)).constructor=rt,rt.prototype.isShaderMaterial=!0,rt.prototype.copy=function(t){return nt.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=pd.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},rt.prototype.toJSON=function(t){var e=nt.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},(it.prototype=Object.create(nt.prototype)).constructor=it,it.prototype.isMeshDepthMaterial=!0,it.prototype.copy=function(t){return nt.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},ot.prototype={constructor:ot,isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=t.length;s<u;s+=3){var l=t[s],c=t[s+1],h=t[s+2];l<e&&(e=l),c<n&&(n=c),h<r&&(r=h),l>i&&(i=l),c>o&&(o=c),h>a&&(a=h)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=t.count;s<u;s++){var l=t.getX(s),c=t.getY(s),h=t.getZ(s);l<e&&(e=l),c<n&&(n=c),h<r&&(r=h),l>i&&(i=l),c>o&&(o=c),h>a&&(a=h)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new v;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new v;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new v;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t=new v;return function(e){var n=this;return e.updateMatrixWorld(!0),e.traverse(function(e){var r,i,o=e.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(r=0,i=a.length;r<i;r++)t.copy(a[r]),t.applyMatrix4(e.matrixWorld),n.expandByPoint(t)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(r=0,i=s.count;r<i;r++)t.fromBufferAttribute(s,r).applyMatrix4(e.matrixWorld),n.expandByPoint(t)}}),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new v).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t;return function(e){return void 0===t&&(t=new v),this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},clampPoint:function(t,e){return(e||new v).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new v;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new v;return function(e){var n=e||new at;return this.getCenter(n.center),n.radius=.5*this.getSize(t).length(),n}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new v,new v,new v,new v,new v,new v,new v,new v];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},at.prototype={constructor:at,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t;return function(e,n){void 0===t&&(t=new ot);var r=this.center;void 0!==n?r.copy(n):t.setFromPoints(e).getCenter(r);for(var i=0,o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),r=e||new v;return r.copy(t),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var e=t||new ot;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},st.prototype={constructor:st,isMatrix3:!0,set:function(t,e,n,r,i,o,a,s,u){var l=this.elements;return l[0]=t,l[1]=r,l[2]=a,l[3]=e,l[4]=i,l[5]=s,l[6]=n,l[7]=o,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t;return function(e){void 0===t&&(t=new v);for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix3(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8];return e*o*l-e*a*u-n*i*l+n*a*s+r*i*u-r*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var n=t.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],l=n[5],c=n[6],h=n[7],f=n[8],p=f*u-l*h,d=l*c-f*s,m=h*s-u*c,g=i*p+o*d+a*m;if(0===g){var y="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(!0===e)throw new Error(y);return console.warn(y),this.identity()}var v=1/g;return r[0]=p*v,r[1]=(a*h-f*o)*v,r[2]=(l*o-a*u)*v,r[3]=d*v,r[4]=(f*i-a*c)*v,r[5]=(a*s-l*i)*v,r[6]=m*v,r[7]=(o*c-h*i)*v,r[8]=(u*i-o*s)*v,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},ut.prototype={constructor:ut,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new v,e=new v;return function(n,r,i){var o=t.subVectors(i,r).cross(e.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t);return(e||new v).copy(this.normal).multiplyScalar(n)},intersectLine:function(){var t=new v;return function(e,n){var r=n||new v,i=e.delta(t),o=this.normal.dot(i);if(0!==o){var a=-(e.start.dot(this.normal)+this.constant)/o;if(!(a<0||a>1))return r.copy(i).multiplyScalar(a).add(e.start)}else if(0===this.distanceToPoint(e.start))return r.copy(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new v).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new v,e=new st;return function(n,r){var i=this.coplanarPoint(t).applyMatrix4(n),o=r||e.getNormalMatrix(n),a=this.normal.applyMatrix3(o).normalize();return this.constant=-i.dot(a),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},lt.prototype={constructor:lt,set:function(t,e,n,r,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],l=n[6],c=n[7],h=n[8],f=n[9],p=n[10],d=n[11],m=n[12],g=n[13],y=n[14],v=n[15];return e[0].setComponents(a-r,c-s,d-h,v-m).normalize(),e[1].setComponents(a+r,c+s,d+h,v+m).normalize(),e[2].setComponents(a+i,c+u,d+f,v+g).normalize(),e[3].setComponents(a-i,c-u,d-f,v-g).normalize(),e[4].setComponents(a-o,c-l,d-p,v-y).normalize(),e[5].setComponents(a+o,c+l,d+p,v+y).normalize(),this},intersectsObject:function(){var t=new at;return function(e){var n=e.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),t.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new at;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++)if(e[i].distanceToPoint(n)<r)return!1;return!0},intersectsBox:function(){var t=new v,e=new v;return function(n){for(var r=this.planes,i=0;i<6;i++){var o=r[i];t.x=o.normal.x>0?n.min.x:n.max.x,e.x=o.normal.x>0?n.max.x:n.min.x,t.y=o.normal.y>0?n.min.y:n.max.y,e.y=o.normal.y>0?n.max.y:n.min.y,t.z=o.normal.z>0?n.min.z:n.max.z,e.z=o.normal.z>0?n.max.z:n.min.z;var a=o.distanceToPoint(t),s=o.distanceToPoint(e);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},ht.prototype={constructor:ht,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new v).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new v;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var n=e||new v;n.subVectors(t,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new v;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new v,e=new v,n=new v;return function(r,i,o,a){t.copy(r).add(i).multiplyScalar(.5),e.copy(i).sub(r).normalize(),n.copy(this.origin).sub(t);var s,u,l,c,h=.5*r.distanceTo(i),f=-this.direction.dot(e),p=n.dot(this.direction),d=-n.dot(e),m=n.lengthSq(),g=Math.abs(1-f*f);if(g>0)if(s=f*d-p,u=f*p-d,c=h*g,s>=0)if(u>=-c)if(u<=c){var y=1/g;l=(s*=y)*(s+f*(u*=y)+2*p)+u*(f*s+u+2*d)+m}else u=h,l=-(s=Math.max(0,-(f*u+p)))*s+u*(u+2*d)+m;else u=-h,l=-(s=Math.max(0,-(f*u+p)))*s+u*(u+2*d)+m;else u<=-c?l=-(s=Math.max(0,-(-f*h+p)))*s+(u=s>0?-h:Math.min(Math.max(-h,-d),h))*(u+2*d)+m:u<=c?(s=0,l=(u=Math.min(Math.max(-h,-d),h))*(u+2*d)+m):l=-(s=Math.max(0,-(f*h+p)))*s+(u=s>0?h:Math.min(Math.max(-h,-d),h))*(u+2*d)+m;else u=f>0?-h:h,l=-(s=Math.max(0,-(f*u+p)))*s+u*(u+2*d)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(e).multiplyScalar(u).add(t),l}}(),intersectSphere:function(){var t=new v;return function(e,n){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),i=t.dot(t)-r*r,o=e.radius*e.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,u=r+a;return s<0&&u<0?null:s<0?this.at(u,n):this.at(s,n)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,o,a,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,h=this.origin;return u>=0?(n=(t.min.x-h.x)*u,r=(t.max.x-h.x)*u):(n=(t.max.x-h.x)*u,r=(t.min.x-h.x)*u),l>=0?(i=(t.min.y-h.y)*l,o=(t.max.y-h.y)*l):(i=(t.max.y-h.y)*l,o=(t.min.y-h.y)*l),n>o||i>r?null:((i>n||n!=n)&&(n=i),(o<r||r!=r)&&(r=o),c>=0?(a=(t.min.z-h.z)*c,s=(t.max.z-h.z)*c):(a=(t.max.z-h.z)*c,s=(t.min.z-h.z)*c),n>s||a>r?null:((a>n||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:function(){var t=new v;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new v,e=new v,n=new v,r=new v;return function(i,o,a,s,u){e.subVectors(o,i),n.subVectors(a,i),r.crossVectors(e,n);var l,c=this.direction.dot(r);if(c>0){if(s)return null;l=1}else{if(!(c<0))return null;l=-1,c=-c}t.subVectors(this.origin,i);var h=l*this.direction.dot(n.crossVectors(t,n));if(h<0)return null;var f=l*this.direction.dot(e.cross(t));if(f<0)return null;if(h+f>c)return null;var p=-l*t.dot(r);return p<0?null:this.at(p/c,u)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},ft.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],ft.DefaultOrder="XYZ",ft.prototype={constructor:ft,isEuler:!0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=ad.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],u=i[1],l=i[5],c=i[9],h=i[2],f=i[6],p=i[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(u,o))):"ZYX"===e?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(f,p),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,l))):"YZX"===e?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===e?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,l),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(e,n,r){return void 0===t&&(t=new _),t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,n,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new y;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new v(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},pt.prototype={constructor:pt,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)},test:function(t){return 0!=(this.mask&t.mask)}};var _d=0;dt.DefaultUp=new v(0,1,0),dt.DefaultMatrixAutoUpdate=!0,dt.prototype={constructor:dt,isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new y;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new v(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new v(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new v(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new v;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new v(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new v(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new v(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new _;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new _;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var n=this.children.indexOf(t);-1!==n&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){var e=t||new v;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new v,e=new v;return function(n){var r=n||new y;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,r,e),r}}(),getWorldRotation:function(){var t=new y;return function(e){var n=e||new ft;return this.getWorldQuaternion(t),n.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new v,e=new y;return function(n){var r=n||new v;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,r),r}}(),getWorldDirection:function(){var t=new y;return function(e){var n=e||new v;return this.getWorldQuaternion(t),n.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==t||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},toJSON:function(t){function e(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var n=void 0===t||""===t,r={};n&&(t={geometries:{},materials:{},textures:{},images:{}},r.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var i={};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),i.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),i.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),i.material=this.material.uuid),this.children.length>0){i.children=[];for(var o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(t).object)}if(n){var a=e(t.geometries),s=e(t.materials),u=e(t.textures),l=e(t.images);a.length>0&&(r.geometries=a),s.length>0&&(r.materials=s),u.length>0&&(r.textures=u),l.length>0&&(r.images=l)}return r.object=i,r},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++)this.add(t.children[n].clone());return this}},Object.assign(dt.prototype,h.prototype),mt.prototype={constructor:mt,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return(t||new v).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new v).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var n=e||new v;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new v,e=new v;return function(n,r){t.subVectors(n,this.start),e.subVectors(this.end,this.start);var i=e.dot(e),o=e.dot(t)/i;return r&&(o=ad.clamp(o,0,1)),o}}(),closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e),i=n||new v;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},gt.normal=function(){var t=new v;return function(e,n,r,i){var o=i||new v;o.subVectors(r,n),t.subVectors(e,n),o.cross(t);var a=o.lengthSq();return a>0?o.multiplyScalar(1/Math.sqrt(a)):o.set(0,0,0)}}(),gt.barycoordFromPoint=function(){var t=new v,e=new v,n=new v;return function(r,i,o,a,s){t.subVectors(a,i),e.subVectors(o,i),n.subVectors(r,i);var u=t.dot(t),l=t.dot(e),c=t.dot(n),h=e.dot(e),f=e.dot(n),p=u*h-l*l,d=s||new v;if(0===p)return d.set(-2,-1,-1);var m=1/p,g=(h*c-l*f)*m,y=(u*f-l*c)*m;return d.set(1-g-y,y,g)}}(),gt.containsPoint=function(){var t=new v;return function(e,n,r,i){var o=gt.barycoordFromPoint(e,n,r,i,t);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}(),gt.prototype={constructor:gt,set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new v,e=new v;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){return(t||new v).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return gt.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new ut).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return gt.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return gt.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t,e,n,r;return function(i,o){void 0===t&&(t=new ut,e=[new mt,new mt,new mt],n=new v,r=new v);var a=o||new v,s=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(i,n),!0===this.containsPoint(n))a.copy(n);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var u=0;u<e.length;u++){e[u].closestPointToPoint(n,!0,r);var l=n.distanceToSquared(r);l<s&&(s=l,a.copy(r))}}return a}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},yt.prototype={constructor:yt,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},(vt.prototype=Object.create(nt.prototype)).constructor=vt,vt.prototype.isMeshBasicMaterial=!0,vt.prototype.copy=function(t){return nt.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},_t.prototype={constructor:_t,isBufferAttribute:!0,set needsUpdate(t){!0===t&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new $),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyIndicesArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];e[n++]=o.a,e[n++]=o.b,e[n++]=o.c}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new f),e[n++]=o.x,e[n++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new v),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new d),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},(bt.prototype=Object.create(_t.prototype)).constructor=bt,(wt.prototype=Object.create(_t.prototype)).constructor=wt,(xt.prototype=Object.create(_t.prototype)).constructor=xt,(Tt.prototype=Object.create(_t.prototype)).constructor=Tt,(St.prototype=Object.create(_t.prototype)).constructor=St,(Et.prototype=Object.create(_t.prototype)).constructor=Et,(Mt.prototype=Object.create(_t.prototype)).constructor=Mt,(At.prototype=Object.create(_t.prototype)).constructor=At,(Ct.prototype=Object.create(_t.prototype)).constructor=Ct,Object.assign(Pt.prototype,{computeGroups:function(t){for(var e,n=[],r=void 0,i=t.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:r})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,r=t.vertices,i=t.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=t.morphTargets,u=s.length;if(u>0){e=[];for(var l=0;l<u;l++)e[l]=[];this.morphTargets.position=e}var c,h=t.morphNormals,p=h.length;if(p>0){for(c=[],l=0;l<p;l++)c[l]=[];this.morphTargets.normal=c}var d=t.skinIndices,m=t.skinWeights,g=d.length===r.length,y=m.length===r.length;for(l=0;l<n.length;l++){var v=n[l];this.vertices.push(r[v.a],r[v.b],r[v.c]);var _=v.vertexNormals;if(3===_.length)this.normals.push(_[0],_[1],_[2]);else{var b=v.normal;this.normals.push(b,b,b)}var w=v.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var x=v.color;this.colors.push(x,x,x)}if(!0===o&&(void 0!==(T=i[0][l])?this.uvs.push(T[0],T[1],T[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new f,new f,new f))),!0===a){var T;void 0!==(T=i[1][l])?this.uvs2.push(T[0],T[1],T[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new f,new f,new f))}for(var S=0;S<u;S++){var E=s[S].vertices;e[S].push(E[v.a],E[v.b],E[v.c])}for(S=0;S<p;S++){var M=h[S].vertexNormals[l];c[S].push(M.a,M.b,M.c)}g&&this.skinIndices.push(d[v.a],d[v.b],d[v.c]),y&&this.skinWeights.push(m[v.a],m[v.b],m[v.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var bd=0;Lt.prototype={constructor:Lt,isGeometry:!0,applyMatrix:function(t){for(var e=(new st).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++)this.vertices[n].applyMatrix4(t);for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new _),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new _),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new _),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new _),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new _),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new dt),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,r,i){var o=new yt(t,e,r,void 0!==a?[c[t].clone(),c[e].clone(),c[r].clone()]:[],void 0!==s?[n.colors[t].clone(),n.colors[e].clone(),n.colors[r].clone()]:[],i);n.faces.push(o),void 0!==u&&n.faceVertexUvs[0].push([h[t].clone(),h[e].clone(),h[r].clone()]),void 0!==l&&n.faceVertexUvs[1].push([p[t].clone(),p[e].clone(),p[r].clone()])}var n=this,r=null!==t.index?t.index.array:void 0,i=t.attributes,o=i.position.array,a=void 0!==i.normal?i.normal.array:void 0,s=void 0!==i.color?i.color.array:void 0,u=void 0!==i.uv?i.uv.array:void 0,l=void 0!==i.uv2?i.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var c=[],h=[],p=[],d=0,m=0;d<o.length;d+=3,m+=2)n.vertices.push(new v(o[d],o[d+1],o[d+2])),void 0!==a&&c.push(new v(a[d],a[d+1],a[d+2])),void 0!==s&&n.colors.push(new $(s[d],s[d+1],s[d+2])),void 0!==u&&h.push(new f(u[m],u[m+1])),void 0!==l&&p.push(new f(l[m],l[m+1]));if(void 0!==r){var g=t.groups;if(g.length>0)for(d=0;d<g.length;d++)for(var y=g[d],_=y.start,b=(m=_,_+y.count);m<b;m+=3)e(r[m],r[m+1],r[m+2],y.materialIndex);else for(d=0;d<r.length;d+=3)e(r[d],r[d+1],r[d+2])}else for(d=0;d<o.length/3;d+=3)e(d,d+1,d+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new _;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new v,e=new v,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b];t.subVectors(this.vertices[i.c],a),e.subVectors(o,a),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,n,r,i,o,a;for(a=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)a[e]=new v;if(t){var s,u,l=new v,c=new v;for(r=0,i=this.faces.length;r<i;r++)s=this.vertices[(o=this.faces[r]).a],l.subVectors(this.vertices[o.c],u=this.vertices[o.b]),c.subVectors(s,u),l.cross(c),a[o.a].add(l),a[o.b].add(l),a[o.c].add(l)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)a[(o=this.faces[r]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,n=this.vertices.length;e<n;e++)a[e].normalize();for(r=0,i=this.faces.length;r<i;r++){var h=(o=this.faces[r]).vertexNormals;3===h.length?(h[0].copy(a[o.a]),h[1].copy(a[o.b]),h[2].copy(a[o.c])):(h[0]=a[o.a].clone(),h[1]=a[o.b].clone(),h[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var r=(n=this.faces[t]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new Lt;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)l=new v,c={a:new v,b:new v,c:new v},a.push(l),s.push(c)}var u=this.morphNormals[t];o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals();var l,c;for(n=0,r=this.faces.length;n<r;n++)c=u.vertexNormals[n],(l=u.faceNormals[n]).copy((i=this.faces[n]).normal),c.a.copy(i.vertexNormals[0]),c.b.copy(i.vertexNormals[1]),c.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,r=e.length;n<r;n++)n>0&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ot),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new at),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(!1!==(t&&t.isGeometry)){var r,i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,u=t.faces,l=this.faceVertexUvs[0],c=t.faceVertexUvs[0],h=this.colors,f=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new st).getNormalMatrix(e));for(var p=0,d=a.length;p<d;p++){var m=a[p].clone();void 0!==e&&m.applyMatrix4(e),o.push(m)}for(p=0,d=f.length;p<d;p++)h.push(f[p].clone());for(p=0,d=u.length;p<d;p++){var g,y,v=u[p],_=v.vertexNormals,b=v.vertexColors;(g=new yt(v.a+i,v.b+i,v.c+i)).normal.copy(v.normal),void 0!==r&&g.normal.applyMatrix3(r).normalize();for(var w=0,x=_.length;w<x;w++)y=_[w].clone(),void 0!==r&&y.applyMatrix3(r).normalize(),g.vertexNormals.push(y);for(g.color.copy(v.color),w=0,x=b.length;w<x;w++)g.vertexColors.push(b[w].clone());g.materialIndex=v.materialIndex+n,s.push(g)}for(p=0,d=c.length;p<d;p++){var T=c[p],S=[];if(void 0!==T){for(w=0,x=T.length;w<x;w++)S.push(T[w].clone());l.push(S)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){!1!==(t&&t.isMesh)?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,n,r,i,o,a,s,u={},l=[],c=[],h=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)t=this.vertices[n],void 0===u[e=Math.round(t.x*h)+"_"+Math.round(t.y*h)+"_"+Math.round(t.z*h)]?(u[e]=n,l.push(this.vertices[n]),c[n]=l.length-1):c[n]=c[u[e]];var f=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=c[i.a],i.b=c[i.b],i.c=c[i.c],o=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(o[p]===o[(p+1)%3]){f.push(n);break}}for(n=f.length-1;n>=0;n--){var d=f[n];for(this.faces.splice(d,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(d,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,n=0;n<e;n++)t[n]._id=n;t.sort(function(t,e){return t.materialIndex-e.materialIndex});var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];for(o&&o.length===e&&(r=[]),a&&a.length===e&&(i=[]),n=0;n<e;n++){var s=t[n]._id;r&&r.push(o[s]),i&&i.push(a[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){function t(t,e,n){return n?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==f[e]?f[e]:(f[e]=h.length/3,h.push(t.x,t.y,t.z),f[e])}function n(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==d[e]?d[e]:(d[e]=p.length,p.push(t.getHex()),d[e])}function r(t){var e=t.x.toString()+t.y.toString();return void 0!==g[e]?g[e]:(g[e]=m.length/2,m.push(t.x,t.y),g[e])}var i={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],u=0;u<this.vertices.length;u++){var l=this.vertices[u];s.push(l.x,l.y,l.z)}var c=[],h=[],f={},p=[],d={},m=[],g={};for(u=0;u<this.faces.length;u++){var y=this.faces[u],v=void 0!==this.faceVertexUvs[0][u],_=y.normal.length()>0,b=y.vertexNormals.length>0,w=1!==y.color.r||1!==y.color.g||1!==y.color.b,x=y.vertexColors.length>0,T=0;if(T=t(T,0,0),T=t(T,1,!0),T=t(T,2,!1),T=t(T,3,v),T=t(T,4,_),T=t(T,5,b),T=t(T,6,w),T=t(T,7,x),c.push(T),c.push(y.a,y.b,y.c),c.push(y.materialIndex),v){var S=this.faceVertexUvs[0][u];c.push(r(S[0]),r(S[1]),r(S[2]))}if(_&&c.push(e(y.normal)),b){var E=y.vertexNormals;c.push(e(E[0]),e(E[1]),e(E[2]))}if(w&&c.push(n(y.color)),x){var M=y.vertexColors;c.push(n(M[0]),n(M[1]),n(M[2]))}}return i.data={},i.data.vertices=s,i.data.normals=h,p.length>0&&(i.data.colors=p),m.length>0&&(i.data.uvs=[m]),i.data.faces=c,i},clone:function(){return(new Lt).copy(this)},copy:function(t){var e,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var u=t.colors;for(e=0,n=u.length;e<n;e++)this.colors.push(u[e].clone());var l=t.faces;for(e=0,n=l.length;e<n;e++)this.faces.push(l[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var c=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,i=c.length;r<i;r++){var h=c[r],f=[];for(o=0,a=h.length;o<a;o++)f.push(h[o].clone());this.faceVertexUvs[e].push(f)}}var p=t.morphTargets;for(e=0,n=p.length;e<n;e++){var d={};if(d.name=p[e].name,void 0!==p[e].vertices)for(d.vertices=[],r=0,i=p[e].vertices.length;r<i;r++)d.vertices.push(p[e].vertices[r].clone());if(void 0!==p[e].normals)for(d.normals=[],r=0,i=p[e].normals.length;r<i;r++)d.normals.push(p[e].normals[r].clone());this.morphTargets.push(d)}var m=t.morphNormals;for(e=0,n=m.length;e<n;e++){var g={};if(void 0!==m[e].vertexNormals)for(g.vertexNormals=[],r=0,i=m[e].vertexNormals.length;r<i;r++){var y=m[e].vertexNormals[r],v={};v.a=y.a.clone(),v.b=y.b.clone(),v.c=y.c.clone(),g.vertexNormals.push(v)}if(void 0!==m[e].faceNormals)for(g.faceNormals=[],r=0,i=m[e].faceNormals.length;r<i;r++)g.faceNormals.push(m[e].faceNormals[r].clone());this.morphNormals.push(g)}var _=t.skinWeights;for(e=0,n=_.length;e<n;e++)this.skinWeights.push(_[e].clone());var b=t.skinIndices;for(e=0,n=b.length;e<n;e++)this.skinIndices.push(b[e].clone());var w=t.lineDistances;for(e=0,n=w.length;e<n;e++)this.lineDistances.push(w[e]);var x=t.boundingBox;null!==x&&(this.boundingBox=x.clone());var T=t.boundingSphere;return null!==T&&(this.boundingSphere=T.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(Lt.prototype,h.prototype),kt.prototype={constructor:kt,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){this.index=Array.isArray(t)?new(Rt(t)>65535?Mt:St)(t,1):t},addAttribute:function(t,e){return!1===(e&&e.isBufferAttribute)&&!1===(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new _t(arguments[1],arguments[2]))):"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;return void 0!==n&&((new st).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new _),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new _),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new _),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new _),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new _),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new dt),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new At(3*e.vertices.length,3),r=new At(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new At(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}var r;return!0===e.verticesNeedUpdate&&(void 0!==(r=this.attributes.position)&&(r.copyVector3sArray(e.vertices),r.needsUpdate=!0),e.verticesNeedUpdate=!1),!0===e.normalsNeedUpdate&&(void 0!==(r=this.attributes.normal)&&(r.copyVector3sArray(e.normals),r.needsUpdate=!0),e.normalsNeedUpdate=!1),!0===e.colorsNeedUpdate&&(void 0!==(r=this.attributes.color)&&(r.copyColorsArray(e.colors),r.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(void 0!==(r=this.attributes.uv)&&(r.copyVector2sArray(e.uvs),r.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(void 0!==(r=this.attributes.lineDistance)&&(r.copyArray(e.lineDistances),r.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Pt).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new _t(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new _t(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new _t(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new _t(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new _t(o,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var a=new(Rt(t.indices)>65535?Uint32Array:Uint16Array)(3*t.indices.length);this.setIndex(new _t(a,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var s in t.morphTargets){for(var u=[],l=t.morphTargets[s],c=0,h=l.length;c<h;c++){var f=l[c],p=new At(3*f.length,3);u.push(p.copyVector3sArray(f))}this.morphAttributes[s]=u}if(t.skinIndices.length>0){var d=new At(4*t.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var m=new At(4*t.skinWeights.length,4);this.addAttribute("skinWeight",m.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ot);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new ot,e=new v;return function(){null===this.boundingSphere&&(this.boundingSphere=new at);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;t.setFromBufferAttribute(n),t.getCenter(r);for(var i=0,o=0,a=n.count;o<a;o++)e.x=n.getX(o),e.y=n.getY(o),e.z=n.getZ(o),i=Math.max(i,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var r=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new _t(new Float32Array(r.length),3));else for(var i=e.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s,u,l,c=e.normal.array,h=new v,f=new v,p=new v,d=new v,m=new v;if(t){var g=t.array;0===n.length&&this.addGroup(0,g.length);for(var y=0,_=n.length;y<_;++y){var b=n[y],w=b.start;for(o=w,a=w+b.count;o<a;o+=3)u=3*g[o+1],l=3*g[o+2],h.fromArray(r,s=3*g[o+0]),f.fromArray(r,u),p.fromArray(r,l),d.subVectors(p,f),m.subVectors(h,f),d.cross(m),c[s]+=d.x,c[s+1]+=d.y,c[s+2]+=d.z,c[u]+=d.x,c[u+1]+=d.y,c[u+2]+=d.z,c[l]+=d.x,c[l+1]+=d.y,c[l+2]+=d.z}}else for(o=0,a=r.length;o<a;o+=9)h.fromArray(r,o),f.fromArray(r,o+3),p.fromArray(r,o+6),d.subVectors(p,f),m.subVectors(h,f),d.cross(m),c[o]=d.x,c[o+1]=d.y,c[o+2]=d.z,c[o+3]=d.x,c[o+4]=d.y,c[o+5]=d.z,c[o+6]=d.x,c[o+7]=d.y,c[o+8]=d.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(!1!==(t&&t.isBufferGeometry)){void 0===e&&(e=0);var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r].array,o=t.attributes[r],a=o.array,s=0,u=o.itemSize*e;s<a.length;s++,u++)i[u]=a[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t,e,n,r,i=this.attributes.normal.array,o=0,a=i.length;o<a;o+=3)t=i[o],e=i[o+1],n=i[o+2],r=1/Math.sqrt(t*t+e*e+n*n),i[o]*=r,i[o+1]*=r,i[o+2]*=r},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new kt,e=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(e.length*a),u=0,l=0,c=0,h=e.length;c<h;c++){u=e[c]*a;for(var f=0;f<a;f++)s[l++]=o[u++]}t.addAttribute(r,new _t(s,a))}return t},toJSON:function(){var t={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);t.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n];i=Array.prototype.slice.call(a.array),t.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t},clone:function(){return(new kt).copy(this)},copy:function(t){var e,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var o=t.attributes;for(e in o)this.addAttribute(e,o[e].clone());var a=t.morphAttributes;for(e in a){var s=[],u=a[e];for(n=0,r=u.length;n<r;n++)s.push(u[n].clone());this.morphAttributes[e]=s}var l=t.groups;for(n=0,r=l.length;n<r;n++){var c=l[n];this.addGroup(c.start,c.count,c.materialIndex)}var h=t.boundingBox;null!==h&&(this.boundingBox=h.clone());var f=t.boundingSphere;return null!==f&&(this.boundingSphere=f.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},kt.MaxIndex=65535,Object.assign(kt.prototype,h.prototype),Nt.prototype=Object.assign(Object.create(dt.prototype),{constructor:Nt,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return dt.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&t.length>0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,n=t.length;e<n;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){function t(t,e,n,r,i,o,a){return gt.barycoordFromPoint(t,e,n,r,g),i.multiplyScalar(g.x),o.multiplyScalar(g.y),a.multiplyScalar(g.z),i.add(o).add(a),i.clone()}function e(t,e,n,r,i,o,a){var s=t.material;if(null===(s.side===hf?n.intersectTriangle(o,i,r,!0,a):n.intersectTriangle(r,i,o,s.side!==ff,a)))return null;b.copy(a),b.applyMatrix4(t.matrixWorld);var u=e.ray.origin.distanceTo(b);return u<e.near||u>e.far?null:{distance:u,point:b.clone(),object:t}}function n(n,r,i,o,l,c,h,f){a.fromBufferAttribute(o,c),s.fromBufferAttribute(o,h),u.fromBufferAttribute(o,f);var g=e(n,r,i,a,s,u,y);return g&&(l&&(p.fromBufferAttribute(l,c),d.fromBufferAttribute(l,h),m.fromBufferAttribute(l,f),g.uv=t(y,a,s,u,p,d,m)),g.face=new yt(c,h,f,gt.normal(a,s,u)),g.faceIndex=c),g}var r=new _,i=new ht,o=new at,a=new v,s=new v,u=new v,l=new v,c=new v,h=new v,p=new f,d=new f,m=new f,g=new v,y=new v,b=new v;return function(f,g){var v=this.geometry,_=this.material,b=this.matrixWorld;if(void 0!==_&&(null===v.boundingSphere&&v.computeBoundingSphere(),o.copy(v.boundingSphere),o.applyMatrix4(b),!1!==f.ray.intersectsSphere(o)&&(r.getInverse(b),i.copy(f.ray).applyMatrix4(r),null===v.boundingBox||!1!==i.intersectsBox(v.boundingBox)))){var w;if(v.isBufferGeometry){var x,T,S,E,M,A=v.index,C=v.attributes.position,P=v.attributes.uv;if(null!==A)for(E=0,M=A.count;E<M;E+=3)x=A.getX(E),T=A.getX(E+1),S=A.getX(E+2),(w=n(this,f,i,C,P,x,T,S))&&(w.faceIndex=Math.floor(E/3),g.push(w));else for(E=0,M=C.count;E<M;E+=3)(w=n(this,f,i,C,P,x=E,T=E+1,S=E+2))&&(w.index=x,g.push(w))}else if(v.isGeometry){var R,O,L,k,N=_&&_.isMultiMaterial,I=!0===N?_.materials:null,D=v.vertices,U=v.faces,F=v.faceVertexUvs[0];F.length>0&&(k=F);for(var j=0,B=U.length;j<B;j++){var z=U[j],V=!0===N?I[z.materialIndex]:_;if(void 0!==V){if(R=D[z.a],O=D[z.b],L=D[z.c],!0===V.morphTargets){var G=v.morphTargets,H=this.morphTargetInfluences;a.set(0,0,0),s.set(0,0,0),u.set(0,0,0);for(var W=0,X=G.length;W<X;W++){var q=H[W];if(0!==q){var Y=G[W].vertices;a.addScaledVector(l.subVectors(Y[z.a],R),q),s.addScaledVector(c.subVectors(Y[z.b],O),q),u.addScaledVector(h.subVectors(Y[z.c],L),q)}}a.add(R),s.add(O),u.add(L),R=a,O=s,L=u}if(w=e(this,f,i,R,O,L,y)){if(k){var Z=k[j];p.copy(Z[0]),d.copy(Z[1]),m.copy(Z[2]),w.uv=t(y,R,O,L,p,d,m)}w.face=z,w.faceIndex=j,g.push(w)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),(It.prototype=Object.create(Lt.prototype)).constructor=It,(Dt.prototype=Object.create(kt.prototype)).constructor=Dt,(Ut.prototype=Object.create(Lt.prototype)).constructor=Ut,(Ft.prototype=Object.create(kt.prototype)).constructor=Ft,(jt.prototype=Object.create(dt.prototype)).constructor=jt,jt.prototype.isCamera=!0,jt.prototype.getWorldDirection=function(){var t=new y;return function(e){var n=e||new v;return this.getWorldQuaternion(t),n.set(0,0,-1).applyQuaternion(t)}}(),jt.prototype.lookAt=function(){var t=new _;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),jt.prototype.clone=function(){return(new this.constructor).copy(this)},jt.prototype.copy=function(t){return dt.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},Bt.prototype=Object.assign(Object.create(jt.prototype),{constructor:Bt,isPerspectiveCamera:!0,copy:function(t){return jt.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*ad.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*ad.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*ad.RAD2DEG*Math.atan(Math.tan(.5*ad.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,o){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*ad.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==o){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,e-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var u=this.filmOffset;0!==u&&(i+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far)},toJSON:function(t){var e=dt.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),zt.prototype=Object.assign(Object.create(jt.prototype),{constructor:zt,isOrthographicCamera:!0,copy:function(t){return jt.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,o){this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,o=n+t,a=r+e,s=r-e;if(null!==this.view){var u=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;o=(i+=c*(this.view.offsetX/u))+c*(this.view.width/u),s=(a-=h*(this.view.offsetY/l))-h*(this.view.height/l)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(t){var e=dt.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}});var wd=0;Kt.prototype.isFogExp2=!0,Kt.prototype.clone=function(){return new Kt(this.color.getHex(),this.density)},Kt.prototype.toJSON=function(t){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Qt.prototype.isFog=!0,Qt.prototype.clone=function(){return new Qt(this.color.getHex(),this.near,this.far)},Qt.prototype.toJSON=function(t){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},(Jt.prototype=Object.create(dt.prototype)).constructor=Jt,Jt.prototype.copy=function(t,e){return dt.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},Jt.prototype.toJSON=function(t){var e=dt.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},$t.prototype=Object.assign(Object.create(dt.prototype),{constructor:$t,isLensFlare:!0,copy:function(t){dt.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,n=t.lensFlares.length;e<n;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,n,r,i,o){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new $(16777215)),void 0===r&&(r=_f),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:t,size:e,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},updateLensFlares:function(){var t,e,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<n;t++)(e=this.lensFlares[t]).x=this.positionScreen.x+r*e.distance,e.y=this.positionScreen.y+i*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),(te.prototype=Object.create(nt.prototype)).constructor=te,te.prototype.copy=function(t){return nt.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},ee.prototype=Object.assign(Object.create(dt.prototype),{constructor:ee,isSprite:!0,raycast:function(){var t=new v;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.distanceSqToPoint(t);r>this.scale.x*this.scale.y/4||n.push({distance:Math.sqrt(r),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),ne.prototype=Object.assign(Object.create(dt.prototype),{constructor:ne,copy:function(t){dt.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);n.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(){var t=new v;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(t);this.getObjectForDistance(r).raycast(e,n)}}(),update:function(){var t=new v,e=new v;return function(n){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),toJSON:function(t){var e=dt.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(re.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new _;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var t,e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new _;return function(){for(var e=0,n=this.bones.length;e<n;e++)t.multiplyMatrices(this.bones[e]?this.bones[e].matrixWorld:this.identityMatrix,this.boneInverses[e]),t.toArray(this.boneMatrices,16*e);this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new re(this.bones,this.boneInverses,this.useVertexTexture)}}),ie.prototype=Object.assign(Object.create(dt.prototype),{constructor:ie,isBone:!0}),oe.prototype=Object.assign(Object.create(Nt.prototype),{constructor:oe,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(var t=0;t<this.geometry.skinWeights.length;t++){var e=this.geometry.skinWeights[t];(i=1/e.lengthManhattan())!=1/0?e.multiplyScalar(i):e.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var n=new d,r=this.geometry.attributes.skinWeight;for(t=0;t<r.count;t++){n.x=r.getX(t),n.y=r.getY(t),n.z=r.getZ(t),n.w=r.getW(t);var i;(i=1/n.lengthManhattan())!=1/0?n.multiplyScalar(i):n.set(1,0,0,0),r.setXYZW(t,n.x,n.y,n.z,n.w)}}},updateMatrixWorld:function(t){Nt.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),(ae.prototype=Object.create(nt.prototype)).constructor=ae,ae.prototype.isLineBasicMaterial=!0,ae.prototype.copy=function(t){return nt.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},se.prototype=Object.assign(Object.create(dt.prototype),{constructor:se,isLine:!0,raycast:function(){var t=new _,e=new ht,n=new at;return function(r,i){var o=r.linePrecision,a=o*o,s=this.geometry,u=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),!1!==r.ray.intersectsSphere(n)){t.getInverse(u),e.copy(r.ray).applyMatrix4(t);var l=new v,c=new v,h=new v,f=new v,p=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var d=s.index,m=s.attributes.position.array;if(null!==d)for(var g=d.array,y=0,_=g.length-1;y<_;y+=p){var b=g[y+1];l.fromArray(m,3*g[y]),c.fromArray(m,3*b),e.distanceSqToSegment(l,c,f,h)>a||(f.applyMatrix4(this.matrixWorld),(T=r.ray.origin.distanceTo(f))<r.near||T>r.far||i.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else for(y=0,_=m.length/3-1;y<_;y+=p)l.fromArray(m,3*y),c.fromArray(m,3*y+3),e.distanceSqToSegment(l,c,f,h)>a||(f.applyMatrix4(this.matrixWorld),(T=r.ray.origin.distanceTo(f))<r.near||T>r.far||i.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else if(s.isGeometry){var w=s.vertices,x=w.length;for(y=0;y<x-1;y+=p)if(!(e.distanceSqToSegment(w[y],w[y+1],f,h)>a)){f.applyMatrix4(this.matrixWorld);var T;(T=r.ray.origin.distanceTo(f))<r.near||T>r.far||i.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ue.prototype=Object.assign(Object.create(se.prototype),{constructor:ue,isLineSegments:!0}),(le.prototype=Object.create(nt.prototype)).constructor=le,le.prototype.isPointsMaterial=!0,le.prototype.copy=function(t){return nt.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},ce.prototype=Object.assign(Object.create(dt.prototype),{constructor:ce,isPoints:!0,raycast:function(){var t=new _,e=new ht,n=new at;return function(r,i){function o(t,n){var o=e.distanceSqToPoint(t);if(o<h){var s=e.closestPointToPoint(t);s.applyMatrix4(u);var l=r.ray.origin.distanceTo(s);if(l<r.near||l>r.far)return;i.push({distance:l,distanceToRay:Math.sqrt(o),point:s.clone(),index:n,face:null,object:a})}}var a=this,s=this.geometry,u=this.matrixWorld,l=r.params.Points.threshold;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),!1!==r.ray.intersectsSphere(n)){t.getInverse(u),e.copy(r.ray).applyMatrix4(t);var c=l/((this.scale.x+this.scale.y+this.scale.z)/3),h=c*c,f=new v;if(s.isBufferGeometry){var p=s.index,d=s.attributes.position.array;if(null!==p)for(var m=p.array,g=0,y=m.length;g<y;g++){var _=m[g];f.fromArray(d,3*_),o(f,_)}else{g=0;for(var b=d.length/3;g<b;g++)f.fromArray(d,3*g),o(f,g)}}else{var w=s.vertices;for(g=0,b=w.length;g<b;g++)o(w[g],g)}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),he.prototype=Object.assign(Object.create(dt.prototype),{constructor:he}),(fe.prototype=Object.create(p.prototype)).constructor=fe,(pe.prototype=Object.create(p.prototype)).constructor=pe,pe.prototype.isCompressedTexture=!0,(de.prototype=Object.create(p.prototype)).constructor=de,(me.prototype=Object.create(p.prototype)).constructor=me,me.prototype.isDepthTexture=!0,(ge.prototype=Object.create(kt.prototype)).constructor=ge,(ye.prototype=Object.create(Lt.prototype)).constructor=ye,(ve.prototype=Object.create(kt.prototype)).constructor=ve,(_e.prototype=Object.create(Lt.prototype)).constructor=_e,(be.prototype=Object.create(kt.prototype)).constructor=be,(we.prototype=Object.create(Lt.prototype)).constructor=we,(xe.prototype=Object.create(be.prototype)).constructor=xe,(Te.prototype=Object.create(Lt.prototype)).constructor=Te,(Se.prototype=Object.create(be.prototype)).constructor=Se,(Ee.prototype=Object.create(Lt.prototype)).constructor=Ee,(Me.prototype=Object.create(be.prototype)).constructor=Me,(Ae.prototype=Object.create(Lt.prototype)).constructor=Ae,(Ce.prototype=Object.create(be.prototype)).constructor=Ce,(Pe.prototype=Object.create(Lt.prototype)).constructor=Pe,(Re.prototype=Object.create(kt.prototype)).constructor=Re,(Oe.prototype=Object.create(Lt.prototype)).constructor=Oe,(Le.prototype=Object.create(kt.prototype)).constructor=Le,(ke.prototype=Object.create(Lt.prototype)).constructor=ke,(Ne.prototype=Object.create(kt.prototype)).constructor=Ne;var xd={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},triangulate:function(){function t(t,e,n,r,i,o){var a,s,u,l,c,h,f,p,d;if(s=t[o[e]].x,u=t[o[e]].y,l=t[o[n]].x,c=t[o[n]].y,h=t[o[r]].x,f=t[o[r]].y,(l-s)*(f-u)-(c-u)*(h-s)<=0)return!1;var m,g,y,v,_,b,w,x,T,S,E,M,A,C,P;for(m=h-l,g=f-c,y=s-h,v=u-f,_=l-s,b=c-u,a=0;a<i;a++)if(p=t[o[a]].x,d=t[o[a]].y,!(p===s&&d===u||p===l&&d===c||p===h&&d===f)&&(w=p-s,x=d-u,T=p-l,S=d-c,E=p-h,M=d-f,P=m*S-g*T,A=_*x-b*w,C=y*M-v*E,P>=-Number.EPSILON&&C>=-Number.EPSILON&&A>=-Number.EPSILON))return!1;return!0}return function(e,n){var r=e.length;if(r<3)return null;var i,o,a,s=[],u=[],l=[];if(xd.area(e)>0)for(o=0;o<r;o++)u[o]=o;else for(o=0;o<r;o++)u[o]=r-1-o;var c=r,h=2*c;for(o=c-1;c>2;){if(h--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?l:s;if(i=o,c<=i&&(i=0),o=i+1,c<=o&&(o=0),a=o+1,c<=a&&(a=0),t(e,i,o,a,c,u)){var f,p;for(s.push([e[u[i]],e[u[o]],e[u[a]]]),l.push([u[i],u[o],u[a]]),f=o,p=o+1;p<c;f++,p++)u[f]=u[p];h=2*--c}}return n?l:s}}(),triangulateShape:function(t,e){function n(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function r(t,e,n){return t.x!==e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function i(t,e,n,i,o){var a=e.x-t.x,s=e.y-t.y,u=i.x-n.x,l=i.y-n.y,c=t.x-n.x,h=t.y-n.y,f=s*u-a*l,p=s*c-a*h;if(Math.abs(f)>Number.EPSILON){var d;if(f>0){if(p<0||p>f)return[];if((d=l*c-u*h)<0||d>f)return[]}else{if(p>0||p<f)return[];if((d=l*c-u*h)>0||d<f)return[]}if(0===d)return!o||0!==p&&p!==f?[t]:[];if(d===f)return!o||0!==p&&p!==f?[e]:[];if(0===p)return[n];if(p===f)return[i];var m=d/f;return[{x:t.x+m*a,y:t.y+m*s}]}if(0!==p||l*c!=u*h)return[];var g=0===a&&0===s,y=0===u&&0===l;if(g&&y)return t.x!==n.x||t.y!==n.y?[]:[t];if(g)return r(n,i,t)?[t]:[];if(y)return r(t,e,n)?[n]:[];var v,_,b,w,x,T,S,E;return 0!==a?(t.x<e.x?(v=t,b=t.x,_=e,w=e.x):(v=e,b=e.x,_=t,w=t.x),n.x<i.x?(x=n,S=n.x,T=i,E=i.x):(x=i,S=i.x,T=n,E=n.x)):(t.y<e.y?(v=t,b=t.y,_=e,w=e.y):(v=e,b=e.y,_=t,w=t.y),n.y<i.y?(x=n,S=n.y,T=i,E=i.y):(x=i,S=i.y,T=n,E=n.y)),b<=S?w<S?[]:w===S?o?[]:[x]:w<=E?[x,_]:[x,T]:b>E?[]:b===E?o?[]:[v]:w<=E?[v,_]:[v,T]}function o(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=n.x-t.x,s=n.y-t.y,u=r.x-t.x,l=r.y-t.y,c=i*s-o*a,h=i*l-o*u;if(Math.abs(c)>Number.EPSILON){var f=u*s-l*a;return c>0?h>=0&&f>=0:h>=0||f>=0}return h>0}n(t),e.forEach(n);for(var a,s,u,l,c,h,f={},p=t.concat(),d=0,m=e.length;d<m;d++)Array.prototype.push.apply(p,e[d]);for(a=0,s=p.length;a<s;a++)void 0!==f[c=p[a].x+":"+p[a].y]&&console.warn("THREE.ShapeUtils: Duplicate point",c,a),f[c]=a;var g=function(e,n){function r(t,e){var n=_.length-1,r=t-1;r<0&&(r=n);var i=t+1;i>n&&(i=0);var a=o(_[t],_[r],_[i],u[e]);if(!a)return!1;var s=u.length-1,l=e-1;l<0&&(l=s);var c=e+1;return c>s&&(c=0),!!(a=o(u[e],u[l],u[c],_[t]))}function a(t,e){var n,r;for(n=0;n<_.length;n++)if(r=n+1,r%=_.length,i(t,e,_[n],_[r],!0).length>0)return!0;return!1}function s(t,e){var r,o,a,s;for(r=0;r<b.length;r++)for(o=n[b[r]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,i(t,e,o[a],o[s],!0).length>0)return!0;return!1}for(var u,l,c,h,f,p,d,m,g,y,v,_=t.concat(),b=[],w=[],x=0,T=n.length;x<T;x++)b.push(x);for(var S=0,E=2*b.length;b.length>0;){if(--E<0){console.log("Infinite Loop! Holes left:"+b.length+", Probably Hole outside Shape!");break}for(c=S;c<_.length;c++){for(h=_[c],l=-1,x=0;x<b.length;x++)if(p=b[x],d=h.x+":"+h.y+":"+p,void 0===w[d]){u=n[p];for(var M=0;M<u.length;M++)if(f=u[M],r(c,M)&&!a(h,f)&&!s(h,f)){l=M,b.splice(x,1),m=_.slice(0,c+1),g=_.slice(c),y=u.slice(l),v=u.slice(0,l+1),_=m.concat(y).concat(v).concat(g),S=c;break}if(l>=0)break;w[d]=!0}if(l>=0)break}}return _}(0,e),y=xd.triangulate(g,!1);for(a=0,s=y.length;a<s;a++)for(l=y[a],u=0;u<3;u++)void 0!==(h=f[c=l[u].x+":"+l[u].y])&&(l[u]=h);return y.concat()},isClockWise:function(t){return xd.area(t)<0}};(Ie.prototype=Object.create(Lt.prototype)).constructor=Ie,Ie.prototype.addShapeList=function(t,e){for(var n=t.length,r=0;r<n;r++)this.addShape(t[r],e)},Ie.prototype.addShape=function(t,e){function n(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}function r(t,e,n){var r,i,o=1,a=t.x-e.x,s=t.y-e.y,u=n.x-t.x,l=n.y-t.y,c=a*a+s*s,h=a*l-s*u;if(Math.abs(h)>Number.EPSILON){var p=Math.sqrt(c),d=Math.sqrt(u*u+l*l),m=e.x-s/p,g=e.y+a/p,y=((n.x-l/d-m)*l-(n.y+u/d-g)*u)/(a*l-s*u),v=(r=m+a*y-t.x)*r+(i=g+s*y-t.y)*i;if(v<=2)return new f(r,i);o=Math.sqrt(v/2)}else{var _=!1;a>Number.EPSILON?u>Number.EPSILON&&(_=!0):a<-Number.EPSILON?u<-Number.EPSILON&&(_=!0):Math.sign(s)===Math.sign(l)&&(_=!0),_?(r=-s,i=a,o=Math.sqrt(c)):(r=a,i=s,o=Math.sqrt(c/2))}return new f(r/o,i/o)}function i(t,e){var n,r;for(H=t.length;--H>=0;){n=H,(r=H-1)<0&&(r=t.length-1);var i=0,o=b+2*g;for(i=0;i<o;i++){var a=z*i,s=z*(i+1);!function(t,e,n,r,i,o,a,s,u){n+=C,A.faces.push(new yt(t+=C,e+=C,r+=C,null,null,1)),A.faces.push(new yt(e,n,r,null,null,1));var l=T.generateSideWallUV(A,t,e,n,r);A.faceVertexUvs[0].push([l[0],l[1],l[3]]),A.faceVertexUvs[0].push([l[1],l[2],l[3]])}(e+n+a,e+r+a,e+r+s,e+n+s)}}}function o(t,e,n){A.vertices.push(new v(t,e,n))}function a(t,e,n){A.faces.push(new yt(t+=C,e+=C,n+=C,null,null,0));var r=T.generateTopUV(A,t,e,n);A.faceVertexUvs[0].push(r)}var s,u,l,c,h,p=void 0!==e.amount?e.amount:100,d=void 0!==e.bevelThickness?e.bevelThickness:6,m=void 0!==e.bevelSize?e.bevelSize:d-2,g=void 0!==e.bevelSegments?e.bevelSegments:3,y=void 0===e.bevelEnabled||e.bevelEnabled,_=void 0!==e.curveSegments?e.curveSegments:12,b=void 0!==e.steps?e.steps:1,w=e.extrudePath,x=!1,T=void 0!==e.UVGenerator?e.UVGenerator:Ie.WorldUVGenerator;w&&(s=w.getSpacedPoints(b),x=!0,y=!1,u=void 0!==e.frames?e.frames:w.computeFrenetFrames(b,!1),l=new v,c=new v,h=new v),y||(g=0,d=0,m=0);var S,E,M,A=this,C=this.vertices.length,P=t.extractPoints(_),R=P.shape,O=P.holes,L=!xd.isClockWise(R);if(L){for(R=R.reverse(),E=0,M=O.length;E<M;E++)xd.isClockWise(S=O[E])&&(O[E]=S.reverse());L=!1}var k=xd.triangulateShape(R,O),N=R;for(E=0,M=O.length;E<M;E++)R=R.concat(S=O[E]);for(var I,D,U,F,j,B,z=R.length,V=k.length,G=[],H=0,W=N.length,X=W-1,q=H+1;H<W;H++,X++,q++)X===W&&(X=0),q===W&&(q=0),G[H]=r(N[H],N[X],N[q]);var Y,Z=[],K=G.concat();for(E=0,M=O.length;E<M;E++){for(Y=[],X=(W=(S=O[E]).length)-1,q=1+(H=0);H<W;H++,X++,q++)X===W&&(X=0),q===W&&(q=0),Y[H]=r(S[H],S[X],S[q]);Z.push(Y),K=K.concat(Y)}for(I=0;I<g;I++){for(U=I/g,F=d*Math.cos(U*Math.PI/2),D=m*Math.sin(U*Math.PI/2),H=0,W=N.length;H<W;H++)o((j=n(N[H],G[H],D)).x,j.y,-F);for(E=0,M=O.length;E<M;E++)for(Y=Z[E],H=0,W=(S=O[E]).length;H<W;H++)o((j=n(S[H],Y[H],D)).x,j.y,-F)}for(D=m,H=0;H<z;H++)j=y?n(R[H],K[H],D):R[H],x?(c.copy(u.normals[0]).multiplyScalar(j.x),l.copy(u.binormals[0]).multiplyScalar(j.y),h.copy(s[0]).add(c).add(l),o(h.x,h.y,h.z)):o(j.x,j.y,0);var Q;for(Q=1;Q<=b;Q++)for(H=0;H<z;H++)j=y?n(R[H],K[H],D):R[H],x?(c.copy(u.normals[Q]).multiplyScalar(j.x),l.copy(u.binormals[Q]).multiplyScalar(j.y),h.copy(s[Q]).add(c).add(l),o(h.x,h.y,h.z)):o(j.x,j.y,p/b*Q);for(I=g-1;I>=0;I--){for(U=I/g,F=d*Math.cos(U*Math.PI/2),D=m*Math.sin(U*Math.PI/2),H=0,W=N.length;H<W;H++)o((j=n(N[H],G[H],D)).x,j.y,p+F);for(E=0,M=O.length;E<M;E++)for(Y=Z[E],H=0,W=(S=O[E]).length;H<W;H++)j=n(S[H],Y[H],D),x?o(j.x,j.y+s[b-1].y,s[b-1].x+F):o(j.x,j.y,p+F)}!function(){if(y){var t=0,e=z*t;for(H=0;H<V;H++)a((B=k[H])[2]+e,B[1]+e,B[0]+e);for(e=z*(t=b+2*g),H=0;H<V;H++)a((B=k[H])[0]+e,B[1]+e,B[2]+e)}else{for(H=0;H<V;H++)a((B=k[H])[2],B[1],B[0]);for(H=0;H<V;H++)a((B=k[H])[0]+z*b,B[1]+z*b,B[2]+z*b)}}(),function(){var t=0;for(i(N,t),t+=N.length,E=0,M=O.length;E<M;E++)i(S=O[E],t),t+=S.length}()},Ie.WorldUVGenerator={generateTopUV:function(t,e,n,r){var i=t.vertices,o=i[e],a=i[n],s=i[r];return[new f(o.x,o.y),new f(a.x,a.y),new f(s.x,s.y)]},generateSideWallUV:function(t,e,n,r,i){var o=t.vertices,a=o[e],s=o[n],u=o[r],l=o[i];return Math.abs(a.y-s.y)<.01?[new f(a.x,1-a.z),new f(s.x,1-s.z),new f(u.x,1-u.z),new f(l.x,1-l.z)]:[new f(a.y,1-a.z),new f(s.y,1-s.z),new f(u.y,1-u.z),new f(l.y,1-l.z)]}},(De.prototype=Object.create(Ie.prototype)).constructor=De,(Ue.prototype=Object.create(Lt.prototype)).constructor=Ue,(Fe.prototype=Object.create(kt.prototype)).constructor=Fe,(je.prototype=Object.create(Lt.prototype)).constructor=je,(Be.prototype=Object.create(kt.prototype)).constructor=Be,(ze.prototype=Object.create(Lt.prototype)).constructor=ze,(Ve.prototype=Object.create(kt.prototype)).constructor=Ve,(Ge.prototype=Object.create(Lt.prototype)).constructor=Ge,(He.prototype=Object.create(kt.prototype)).constructor=He,(We.prototype=Object.create(kt.prototype)).constructor=We,(Xe.prototype=Object.create(Lt.prototype)).constructor=Xe,(qe.prototype=Object.create(kt.prototype)).constructor=qe,(Ye.prototype=Object.create(Xe.prototype)).constructor=Ye,(Ze.prototype=Object.create(qe.prototype)).constructor=Ze,(Ke.prototype=Object.create(Lt.prototype)).constructor=Ke,(Qe.prototype=Object.create(kt.prototype)).constructor=Qe;var Td=Object.freeze({WireframeGeometry:ge,ParametricGeometry:ye,ParametricBufferGeometry:ve,TetrahedronGeometry:we,TetrahedronBufferGeometry:xe,OctahedronGeometry:Te,OctahedronBufferGeometry:Se,IcosahedronGeometry:Ee,IcosahedronBufferGeometry:Me,DodecahedronGeometry:Ae,DodecahedronBufferGeometry:Ce,PolyhedronGeometry:_e,PolyhedronBufferGeometry:be,TubeGeometry:Pe,TubeBufferGeometry:Re,TorusKnotGeometry:Oe,TorusKnotBufferGeometry:Le,TorusGeometry:ke,TorusBufferGeometry:Ne,TextGeometry:De,SphereGeometry:Ue,SphereBufferGeometry:Fe,RingGeometry:je,RingBufferGeometry:Be,PlaneGeometry:Ut,PlaneBufferGeometry:Ft,LatheGeometry:ze,LatheBufferGeometry:Ve,ShapeGeometry:Ge,ShapeBufferGeometry:He,ExtrudeGeometry:Ie,EdgesGeometry:We,ConeGeometry:Ye,ConeBufferGeometry:Ze,CylinderGeometry:Xe,CylinderBufferGeometry:qe,CircleGeometry:Ke,CircleBufferGeometry:Qe,BoxGeometry:It,BoxBufferGeometry:Dt});(Je.prototype=Object.create(rt.prototype)).constructor=Je,Je.prototype.isShadowMaterial=!0,($e.prototype=Object.create(rt.prototype)).constructor=$e,$e.prototype.isRawShaderMaterial=!0,tn.prototype={constructor:tn,isMultiMaterial:!0,toJSON:function(t){for(var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},n=this.materials,r=0,i=n.length;r<i;r++){var o=n[r].toJSON(t);delete o.metadata,e.materials.push(o)}return e.visible=this.visible,e},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},(en.prototype=Object.create(nt.prototype)).constructor=en,en.prototype.isMeshStandardMaterial=!0,en.prototype.copy=function(t){return nt.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(nn.prototype=Object.create(en.prototype)).constructor=nn,nn.prototype.isMeshPhysicalMaterial=!0,nn.prototype.copy=function(t){return en.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},(rn.prototype=Object.create(nt.prototype)).constructor=rn,rn.prototype.isMeshPhongMaterial=!0,rn.prototype.copy=function(t){return nt.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(on.prototype=Object.create(rn.prototype)).constructor=on,on.prototype.isMeshToonMaterial=!0,on.prototype.copy=function(t){return rn.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},(an.prototype=Object.create(nt.prototype)).constructor=an,an.prototype.isMeshNormalMaterial=!0,an.prototype.copy=function(t){return nt.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(sn.prototype=Object.create(nt.prototype)).constructor=sn,sn.prototype.isMeshLambertMaterial=!0,sn.prototype.copy=function(t){return nt.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(un.prototype=Object.create(nt.prototype)).constructor=un,un.prototype.isLineDashedMaterial=!0,un.prototype.copy=function(t){return nt.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Sd=Object.freeze({ShadowMaterial:Je,SpriteMaterial:te,RawShaderMaterial:$e,ShaderMaterial:rt,PointsMaterial:le,MultiMaterial:tn,MeshPhysicalMaterial:nn,MeshStandardMaterial:en,MeshPhongMaterial:rn,MeshToonMaterial:on,MeshNormalMaterial:an,MeshLambertMaterial:sn,MeshDepthMaterial:it,MeshBasicMaterial:vt,LineDashedMaterial:un,LineBasicMaterial:ae,Material:nt}),Ed={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},Md=new ln;Object.assign(cn.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,o=Ed.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],u=!!a[2],l=a[3];l=window.decodeURIComponent(l),u&&(l=window.atob(l));try{var c,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":c=new ArrayBuffer(l.length);for(var f=new Uint8Array(c),p=0;p<l.length;p++)f[p]=l.charCodeAt(p);"blob"===h&&(c=new Blob([c],{type:s}));break;case"document":var d=new DOMParser;c=d.parseFromString(l,s);break;case"json":c=JSON.parse(l);break;default:c=l}window.setTimeout(function(){e&&e(c),i.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){r&&r(e),i.manager.itemError(t)},0)}}else{var m=new XMLHttpRequest;m.open("GET",t,!0),m.addEventListener("load",function(n){var o=n.target.response;Ed.add(t,o),200===this.status?(e&&e(o),i.manager.itemEnd(t)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),e&&e(o),i.manager.itemEnd(t)):(r&&r(n),i.manager.itemError(t))},!1),void 0!==n&&m.addEventListener("progress",function(t){n(t)},!1),m.addEventListener("error",function(e){r&&r(e),i.manager.itemError(t)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),m.send(null)}return i.manager.itemStart(t),m},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this}}),Object.assign((function(t){this.manager=void 0!==t?t:Md,this._parser=null}).prototype,{load:function(t,e,n,r){function i(i){u.load(t[i],function(t){var n=o._parser(t,!0);a[i]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(s.minFilter=mp),s.format=n.format,s.needsUpdate=!0,e&&e(s))},n,r)}var o=this,a=[],s=new pe;s.image=a;var u=new cn(this.manager);if(u.setPath(this.path),u.setResponseType("arraybuffer"),Array.isArray(t))for(var l=0,c=0,h=t.length;c<h;++c)i(c);else u.load(t,function(t){var n=o._parser(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,i=0;i<r;i++){a[i]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[i].mipmaps.push(n.mipmaps[i*n.mipmapCount+u]),a[i].format=n.format,a[i].width=n.width,a[i].height=n.height}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=mp),s.format=n.format,s.needsUpdate=!0,e&&e(s)},n,r);return s},setPath:function(t){return this.path=t,this}}),Object.assign((function(t){this.manager=void 0!==t?t:Md,this._parser=null}).prototype,{load:function(t,e,n,r){var i=this,o=new tt,a=new cn(this.manager);return a.setResponseType("arraybuffer"),a.load(t,function(t){var n=i._parser(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:cp,o.wrapT=void 0!==n.wrapT?n.wrapT:cp,o.magFilter=void 0!==n.magFilter?n.magFilter:mp,o.minFilter=void 0!==n.minFilter?n.minFilter:yp,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=mp),o.needsUpdate=!0,e&&e(o,n))},n,r),o}}),Object.assign(hn.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,o=Ed.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");return a.addEventListener("load",function(){Ed.add(t,this),e&&e(this),i.manager.itemEnd(t)},!1),a.addEventListener("error",function(e){r&&r(e),i.manager.itemError(t)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign((function(t){this.manager=void 0!==t?t:Md}).prototype,{load:function(t,e,n,r){function i(n){a.load(t[n],function(t){o.images[n]=t,6==++s&&(o.needsUpdate=!0,e&&e(o))},void 0,r)}var o=new b,a=new hn(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);for(var s=0,u=0;u<t.length;++u)i(u);return o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(fn.prototype,{load:function(t,e,n,r){var i=new p,o=new hn(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(n){var r=t.search(/\.(jpg|jpeg)$/)>0||0===t.search(/^data\:image\/jpeg/);i.format=r?Op:Lp,i.image=n,i.needsUpdate=!0,void 0!==e&&e(i)},n,r),i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),pn.prototype=Object.assign(Object.create(dt.prototype),{constructor:pn,isLight:!0,copy:function(t){return dt.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=dt.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),dn.prototype=Object.assign(Object.create(pn.prototype),{constructor:dn,isHemisphereLight:!0,copy:function(t){return pn.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(mn.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),gn.prototype=Object.assign(Object.create(mn.prototype),{constructor:gn,isSpotLightShadow:!0,update:function(t){var e=2*ad.RAD2DEG*t.angle,n=this.mapSize.width/this.mapSize.height,r=t.distance||500,i=this.camera;e===i.fov&&n===i.aspect&&r===i.far||(i.fov=e,i.aspect=n,i.far=r,i.updateProjectionMatrix())}}),yn.prototype=Object.assign(Object.create(pn.prototype),{constructor:yn,isSpotLight:!0,copy:function(t){return pn.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),vn.prototype=Object.assign(Object.create(pn.prototype),{constructor:vn,isPointLight:!0,copy:function(t){return pn.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),_n.prototype=Object.assign(Object.create(mn.prototype),{constructor:_n}),bn.prototype=Object.assign(Object.create(pn.prototype),{constructor:bn,isDirectionalLight:!0,copy:function(t){return pn.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),wn.prototype=Object.assign(Object.create(pn.prototype),{constructor:wn,isAmbientLight:!0});var Ad={arraySlice:function(t,e,n){return Ad.isTypedArray(t)?new t.constructor(t.subarray(e,n)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,n=new Array(e),r=0;r!==e;++r)n[r]=r;return n.sort(function(e,n){return t[e]-t[n]}),n},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*e,u=0;u!==e;++u)i[a++]=t[s+u];return i},flattenJSON:function(t,e,n,r){for(var i=1,o=t[0];void 0!==o&&void 0===o[r];)o=t[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(e.push(o.time),n.push.apply(n,a)),o=t[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(e.push(o.time),n.push(a)),o=t[i++]}while(void 0!==o)}}};xn.prototype={constructor:xn,evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var o;n:{r:if(!(t<r)){for(var a=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===a)break;if(i=r,r=e[++n],t<r)break e}o=e.length;break n}if(t>=i)break t;var s=e[1];for(t<s&&(n=2,i=s),a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===a)break;if(r=i,i=e[--n-1],t>=i)break e}o=n,n=0}for(;n<o;){var u=n+o>>>1;t<e[u]?o=u:n=u+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,o=0;o!==r;++o)e[o]=n[i+o];return e},interpolate_:function(t,e,n,r){throw new Error("call to abstract method")},intervalChanged_:function(t,e,n){}},Object.assign(xn.prototype,{beforeStart_:xn.prototype.copySampleValue_,afterEnd_:xn.prototype.copySampleValue_}),Tn.prototype=Object.assign(Object.create(xn.prototype),{constructor:Tn,DefaultSettings_:{endingStart:qp,endingEnd:qp},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,o=t+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:i=t,a=2*e-n;break;case 2402:a=e+r[i=r.length-2]-r[i+1];break;default:i=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=t,s=2*n-e;break;case 2402:o=1,s=n+r[1]-r[0];break;default:o=t-1,s=e}var u=.5*(n-e),l=this.valueSize;this._weightPrev=u/(e-a),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=o*l},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=s-a,l=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,f=this._weightNext,p=(n-e)/(r-e),d=p*p,m=d*p,g=-h*m+2*h*d-h*p,y=(1+h)*m+(-1.5-2*h)*d+(-.5+h)*p+1,v=(-1-f)*m+(1.5+f)*d+.5*p,_=f*m-f*d,b=0;b!==a;++b)i[b]=g*o[l+b]+y*o[u+b]+v*o[s+b]+_*o[c+b];return i}}),Sn.prototype=Object.assign(Object.create(xn.prototype),{constructor:Sn,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=s-a,l=(n-e)/(r-e),c=1-l,h=0;h!==a;++h)i[h]=o[u+h]*c+o[s+h]*l;return i}}),En.prototype=Object.assign(Object.create(xn.prototype),{constructor:En,interpolate_:function(t,e,n,r){return this.copySampleValue_(t-1)}});var Cd;Cd={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new En(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Sn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Tn(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0!==e)this.createInterpolant=e;else{var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}console.warn(n)}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);var a=this.getValueSize();this.times=Ad.arraySlice(n,i,o),this.values=Ad.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("invalid value size in track",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("track is empty",this),t=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("time is not a valid number",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("out of order keys",this,a,s,o),t=!1;break}o=s}if(void 0!==r&&Ad.isTypedArray(r)){a=0;for(var u=r.length;a!==u;++a){var l=r[a];if(isNaN(l)){console.error("value is not a valid number",this,a,l),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),i=1,o=t.length-1,a=1;a<o;++a){var s=!1,u=t[a];if(u!==t[a+1]&&(1!==a||u!==u[0]))if(r)s=!0;else for(var l=a*n,c=l-n,h=l+n,f=0;f!==n;++f){var p=e[l+f];if(p!==e[c+f]||p!==e[h+f]){s=!0;break}}if(s){if(a!==i){t[i]=t[a];var d=a*n,m=i*n;for(f=0;f!==n;++f)e[m+f]=e[d+f]}++i}}if(o>0){for(t[i]=t[o],d=o*n,m=i*n,f=0;f!==n;++f)e[m+f]=e[d+f];++i}return i!==t.length&&(this.times=Ad.arraySlice(t,0,i),this.values=Ad.arraySlice(e,0,i*n)),this}},An.prototype=Object.assign(Object.create(Cd),{constructor:An,ValueTypeName:"vector"}),Cn.prototype=Object.assign(Object.create(xn.prototype),{constructor:Cn,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=(n-e)/(r-e),l=s+a;s!==l;s+=4)y.slerpFlat(i,0,o,s-a,o,s,u);return i}}),Pn.prototype=Object.assign(Object.create(Cd),{constructor:Pn,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new Cn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Rn.prototype=Object.assign(Object.create(Cd),{constructor:Rn,ValueTypeName:"number"}),On.prototype=Object.assign(Object.create(Cd),{constructor:On,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ln.prototype=Object.assign(Object.create(Cd),{constructor:Ln,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),kn.prototype=Object.assign(Object.create(Cd),{constructor:kn,ValueTypeName:"color"}),Nn.prototype=Cd,Cd.constructor=Nn,Object.assign(Nn,{parse:function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");var e=Nn._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var n=[],r=[];Ad.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:Ad.convertArray(t.times,Array),values:Ad.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Rn;case"vector":case"vector2":case"vector3":case"vector4":return An;case"color":return kn;case"quaternion":return Pn;case"bool":case"boolean":return Ln;case"string":return On}throw new Error("Unsupported typeName: "+t)}}),In.prototype={constructor:In,resetDuration:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}this.duration=t},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},Object.assign(In,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,o=n.length;i!==o;++i)e.push(Nn.parse(n[i]).scale(r));return new In(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e},i=0,o=n.length;i!==o;++i)e.push(Nn.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var l=Ad.getKeyframeOrder(s);s=Ad.sortedArray(s,1,l),u=Ad.sortedArray(u,1,l),r||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new Rn(".morphTargetInfluences["+e[a].name+"]",s,u).scale(1/n))}return new In(t,-1,o)},findByName:function(t,e){var n=t;Array.isArray(t)||(n=t.geometry&&t.geometry.animations||t.animations);for(var r=0;r<n.length;r++)if(n[r].name===e)return n[r];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],u=s.name.match(i);if(u&&u.length>1){var l=r[h=u[1]];l||(r[h]=l=[]),l.push(s)}}var c=[];for(var h in r)c.push(In.CreateFromMorphTargetSequence(h,r[h],e,n));return c},parseAnimation:function(t,e){if(!t)return console.error("  no animation in JSONLoader data"),null;for(var n=function(t,e,n,r,i){if(0!==n.length){var o=[],a=[];Ad.flattenJSON(n,o,a,r),0!==o.length&&i.push(new t(e,o,a))}},r=[],i=t.name||"default",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],u=0;u<s.length;u++){var l=s[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var c={},h=0;h<l.length;h++)if(l[h].morphTargets)for(var f=0;f<l[h].morphTargets.length;f++)c[l[h].morphTargets[f]]=-1;for(var p in c){var d=[],m=[];for(f=0;f!==l[h].morphTargets.length;++f){var g=l[h];d.push(g.time),m.push(g.morphTarget===p?1:0)}r.push(new Rn(".morphTargetInfluence["+p+"]",d,m))}o=c.length*(a||1)}else{var y=".bones["+e[u].name+"]";n(An,y+".position",l,"pos",r),n(Pn,y+".quaternion",l,"rot",r),n(An,y+".scale",l,"scl",r)}}return 0===r.length?null:new In(i,o,r)}}),Object.assign(Dn.prototype,{load:function(t,e,n,r){var i=this;new cn(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===n[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),n[t]}var n=this.textures,r=new Sd[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(r.uniforms=t.uniforms),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.shading&&(r.shading=t.shading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=e(t.map)),void 0!==t.alphaMap&&(r.alphaMap=e(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=e(t.normalMap)),void 0!==t.normalScale){var i=t.normalScale;!1===Array.isArray(i)&&(i=[i,i]),r.normalScale=(new f).fromArray(i)}if(void 0!==t.displacementMap&&(r.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=e(t.specularMap)),void 0!==t.envMap&&(r.envMap=e(t.envMap)),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=e(t.gradientMap)),void 0!==t.materials)for(var o=0,a=t.materials.length;o<a;o++)r.materials.push(this.parse(t.materials[o]));return r}}),Object.assign(Un.prototype,{load:function(t,e,n,r){var i=this;new cn(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},parse:function(t){var e=new kt,n=t.data.index,r={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==n){var i=new r[n.type](n.array);e.setIndex(new _t(i,1))}var o=t.data.attributes;for(var a in o){var s=o[a];i=new r[s.type](s.array),e.addAttribute(a,new _t(i,s.itemSize,s.normalized))}var u=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==u)for(var l=0,c=u.length;l!==c;++l){var h=u[l];e.addGroup(h.start,h.count,h.materialIndex)}var f=t.data.boundingSphere;if(void 0!==f){var p=new v;void 0!==f.center&&p.fromArray(f.center),e.boundingSphere=new at(p,f.radius)}return e}}),Fn.prototype={constructor:Fn,crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:function(){var t,e,n,r={NoBlending:vf,NormalBlending:_f,AdditiveBlending:bf,SubtractiveBlending:wf,MultiplyBlending:xf,CustomBlending:Tf};return function(i,o,a){function s(t,n,r,i,s){var l,c=o+t,h=Fn.Handlers.get(c);null!==h?l=h.load(c):(e.setCrossOrigin(a),l=e.load(c)),void 0!==n&&(l.repeat.fromArray(n),1!==n[0]&&(l.wrapS=lp),1!==n[1]&&(l.wrapT=lp)),void 0!==r&&l.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(l.wrapS=lp),"mirror"===i[0]&&(l.wrapS=hp),"repeat"===i[1]&&(l.wrapT=lp),"mirror"===i[1]&&(l.wrapT=hp)),void 0!==s&&(l.anisotropy=s);var f=ad.generateUUID();return u[f]=l,f}void 0===t&&(t=new $),void 0===e&&(e=new fn),void 0===n&&(n=new Dn);var u={},l={uuid:ad.generateUUID(),type:"MeshLambertMaterial"};for(var c in i){var h=i[c];switch(c){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":l.name=h;break;case"blending":l.blending=r[h];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",c,"is no longer supported.");break;case"colorDiffuse":l.color=t.fromArray(h).getHex();break;case"colorSpecular":l.specular=t.fromArray(h).getHex();break;case"colorEmissive":l.emissive=t.fromArray(h).getHex();break;case"specularCoef":l.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(l.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(l.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(l.type="MeshStandardMaterial");break;case"mapDiffuse":l.map=s(h,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":l.emissiveMap=s(h,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":l.lightMap=s(h,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":l.aoMap=s(h,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":l.bumpMap=s(h,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":l.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":l.normalMap=s(h,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":l.normalScale=[h,h];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":l.specularMap=s(h,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":l.metalnessMap=s(h,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":l.roughnessMap=s(h,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":l.alphaMap=s(h,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":l.side=hf;break;case"doubleSided":l.side=ff;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),l.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":l[c]=h;break;case"vertexColors":!0===h&&(l.vertexColors=yf),"face"===h&&(l.vertexColors=gf);break;default:console.error("THREE.Loader.createMaterial: Unsupported",c,h)}}return"MeshBasicMaterial"===l.type&&delete l.emissive,"MeshPhongMaterial"!==l.type&&delete l.specular,l.opacity<1&&(l.transparent=!0),n.setTextures(u),n.parse(l)}}()},Fn.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n+1];if(e[n].test(t))return i}return null}},Object.assign(jn.prototype,{load:function(t,e,n,r){var i=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:Fn.prototype.extractUrlBase(t),a=new cn(this.manager);a.setWithCredentials(this.withCredentials),a.load(t,function(n){var r=JSON.parse(n),a=r.metadata;if(void 0!==a){var s=a.type;if(void 0!==s){if("object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.");if("scene"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.SceneLoader instead.")}}var u=i.parse(r,o);e(u.geometry,u.materials)},n,r)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){var n=new Lt,r=void 0!==t.scale?1/t.scale:1;if(function(e){function r(t,e){return t&1<<e}var i,o,a,s,u,l,c,h,p,d,m,g,y,_,b,w,x,T,S,E,M,A,C,P,R,O=t.faces,L=t.vertices,k=t.normals,N=t.colors,I=0;if(void 0!==t.uvs){for(i=0;i<t.uvs.length;i++)t.uvs[i].length&&I++;for(i=0;i<I;i++)n.faceVertexUvs[i]=[]}for(s=0,u=L.length;s<u;)(T=new v).x=L[s++]*e,T.y=L[s++]*e,T.z=L[s++]*e,n.vertices.push(T);for(s=0,u=O.length;s<u;)if(d=O[s++],m=r(d,0),g=r(d,1),y=r(d,3),_=r(d,4),b=r(d,5),w=r(d,6),x=r(d,7),m){if(E=new yt,E.a=O[s],E.b=O[s+1],E.c=O[s+3],M=new yt,M.a=O[s+1],M.b=O[s+2],M.c=O[s+3],s+=4,g&&(p=O[s++],E.materialIndex=p,M.materialIndex=p),a=n.faces.length,y)for(i=0;i<I;i++)for(P=t.uvs[i],n.faceVertexUvs[i][a]=[],n.faceVertexUvs[i][a+1]=[],o=0;o<4;o++)R=new f(P[2*(h=O[s++])],P[2*h+1]),2!==o&&n.faceVertexUvs[i][a].push(R),0!==o&&n.faceVertexUvs[i][a+1].push(R);if(_&&(c=3*O[s++],E.normal.set(k[c++],k[c++],k[c]),M.normal.copy(E.normal)),b)for(i=0;i<4;i++)c=3*O[s++],C=new v(k[c++],k[c++],k[c]),2!==i&&E.vertexNormals.push(C),0!==i&&M.vertexNormals.push(C);if(w&&(l=O[s++],E.color.setHex(A=N[l]),M.color.setHex(A)),x)for(i=0;i<4;i++)A=N[l=O[s++]],2!==i&&E.vertexColors.push(new $(A)),0!==i&&M.vertexColors.push(new $(A));n.faces.push(E),n.faces.push(M)}else{if(S=new yt,S.a=O[s++],S.b=O[s++],S.c=O[s++],g&&(p=O[s++],S.materialIndex=p),a=n.faces.length,y)for(i=0;i<I;i++)for(P=t.uvs[i],n.faceVertexUvs[i][a]=[],o=0;o<3;o++)R=new f(P[2*(h=O[s++])],P[2*h+1]),n.faceVertexUvs[i][a].push(R);if(_&&(c=3*O[s++],S.normal.set(k[c++],k[c++],k[c])),b)for(i=0;i<3;i++)c=3*O[s++],C=new v(k[c++],k[c++],k[c]),S.vertexNormals.push(C);if(w&&(l=O[s++],S.color.setHex(N[l])),x)for(i=0;i<3;i++)l=O[s++],S.vertexColors.push(new $(N[l]));n.faces.push(S)}}(r),function(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var r=0,i=t.skinWeights.length;r<i;r+=e)n.skinWeights.push(new d(t.skinWeights[r],e>1?t.skinWeights[r+1]:0,e>2?t.skinWeights[r+2]:0,e>3?t.skinWeights[r+3]:0));if(t.skinIndices)for(r=0,i=t.skinIndices.length;r<i;r+=e)n.skinIndices.push(new d(t.skinIndices[r],e>1?t.skinIndices[r+1]:0,e>2?t.skinIndices[r+2]:0,e>3?t.skinIndices[r+3]:0));n.bones=t.bones,n.bones&&n.bones.length>0&&(n.skinWeights.length!==n.skinIndices.length||n.skinIndices.length!==n.vertices.length)&&console.warn("When skinning, number of vertices ("+n.vertices.length+"), skinIndices ("+n.skinIndices.length+"), and skinWeights ("+n.skinWeights.length+") should match.")}(),function(e){if(void 0!==t.morphTargets)for(var r=0,i=t.morphTargets.length;r<i;r++){n.morphTargets[r]={},n.morphTargets[r].name=t.morphTargets[r].name,n.morphTargets[r].vertices=[];for(var o=n.morphTargets[r].vertices,a=t.morphTargets[r].vertices,s=0,u=a.length;s<u;s+=3){var l=new v;l.x=a[s]*e,l.y=a[s+1]*e,l.z=a[s+2]*e,o.push(l)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var c=n.faces,h=t.morphColors[0].colors;for(r=0,i=c.length;r<i;r++)c[r].color.fromArray(h,3*r)}}(r),function(){var e=[],r=[];void 0!==t.animation&&r.push(t.animation),void 0!==t.animations&&(t.animations.length?r=r.concat(t.animations):r.push(t.animations));for(var i=0;i<r.length;i++){var o=In.parseAnimation(r[i],n.bones);o&&e.push(o)}if(n.morphTargets){var a=In.CreateClipsFromMorphTargetSequences(n.morphTargets,10);e=e.concat(a)}e.length>0&&(n.animations=e)}(),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:n};var i=Fn.prototype.initMaterials(t.materials,e,this.crossOrigin);return{geometry:n,materials:i}}}),Object.assign((function(t){this.manager=void 0!==t?t:Md,this.texturePath=""}).prototype,{load:function(t,e,n,r){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var i=this;new cn(i.manager).load(t,function(n){var o=null;try{o=JSON.parse(n)}catch(e){return void 0!==r&&r(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,e):console.error("THREE.ObjectLoader: Can't load "+t+". Use THREE.JSONLoader instead.")},n,r)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),r=this.parseImages(t.images,function(){void 0!==e&&e(a)}),i=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,i),a=this.parseObject(t.object,n,o);return t.animations&&(a.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(a),a},parseGeometries:function(t){var e={};if(void 0!==t)for(var n=new jn,r=new Un,i=0,o=t.length;i<o;i++){var a,s=t[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Td[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Td[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Td[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Td[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Td[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Td[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":a=new Td[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Td[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Td[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Td[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Td[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":a=n.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t,e){var n={};if(void 0!==t){var r=new Dn;r.setTextures(e);for(var i=0,o=t.length;i<o;i++){var a=r.parse(t[i]);n[a.uuid]=a}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=In.parse(t[n]);e.push(r)}return e},parseImages:function(t,e){function n(t){return r.manager.itemStart(t),o.load(t,function(){r.manager.itemEnd(t)},void 0,function(){r.manager.itemError(t)})}var r=this,i={};if(void 0!==t&&t.length>0){var o=new hn(new ln(e));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=t.length;a<s;a++){var u=t[a],l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:r.texturePath+u.url;i[u.uuid]=n(l)}}return i},parseTextures:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var r={UVMapping:300,CubeReflectionMapping:np,CubeRefractionMapping:rp,EquirectangularReflectionMapping:ip,EquirectangularRefractionMapping:op,SphericalReflectionMapping:ap,CubeUVReflectionMapping:sp,CubeUVRefractionMapping:up},i={RepeatWrapping:lp,ClampToEdgeWrapping:cp,MirroredRepeatWrapping:hp},o={NearestFilter:fp,NearestMipMapNearestFilter:pp,NearestMipMapLinearFilter:dp,LinearFilter:mp,LinearMipMapNearestFilter:gp,LinearMipMapLinearFilter:yp},a={};if(void 0!==t)for(var s=0,u=t.length;s<u;s++){var l=t[s];void 0===l.image&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),void 0===e[l.image]&&console.warn("THREE.ObjectLoader: Undefined image",l.image);var c=new p(e[l.image]);c.needsUpdate=!0,c.uuid=l.uuid,void 0!==l.name&&(c.name=l.name),void 0!==l.mapping&&(c.mapping=n(l.mapping,r)),void 0!==l.offset&&c.offset.fromArray(l.offset),void 0!==l.repeat&&c.repeat.fromArray(l.repeat),void 0!==l.wrap&&(c.wrapS=n(l.wrap[0],i),c.wrapT=n(l.wrap[1],i)),void 0!==l.minFilter&&(c.minFilter=n(l.minFilter,o)),void 0!==l.magFilter&&(c.magFilter=n(l.magFilter,o)),void 0!==l.anisotropy&&(c.anisotropy=l.anisotropy),void 0!==l.flipY&&(c.flipY=l.flipY),a[l.uuid]=c}return a},parseObject:function(){var t=new _;return function(e,n,r){function i(t){return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),n[t]}function o(t){if(void 0!==t)return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),r[t]}var a;switch(e.type){case"Scene":a=new Jt,void 0!==e.background&&Number.isInteger(e.background)&&(a.background=new $(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new Qt(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new Kt(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new Bt(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new zt(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":a=new wn(e.color,e.intensity);break;case"DirectionalLight":a=new bn(e.color,e.intensity);break;case"PointLight":a=new vn(e.color,e.intensity,e.distance,e.decay);break;case"SpotLight":a=new yn(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new dn(e.color,e.groundColor,e.intensity);break;case"Mesh":var s=i(e.geometry),u=o(e.material);a=s.bones&&s.bones.length>0?new oe(s,u):new Nt(s,u);break;case"LOD":a=new ne;break;case"Line":a=new se(i(e.geometry),o(e.material),e.mode);break;case"LineSegments":a=new ue(i(e.geometry),o(e.material));break;case"PointCloud":case"Points":a=new ce(i(e.geometry),o(e.material));break;case"Sprite":a=new ee(o(e.material));break;case"Group":a=new he;break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh type. Instantiates Object3D instead.");default:a=new dt}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.children)for(var l in e.children)a.add(this.parseObject(e.children[l],n,r));if("LOD"===e.type)for(var c=e.levels,h=0;h<c.length;h++){var f=c[h];void 0!==(l=a.getObjectByProperty("uuid",f.object))&&a.addLevel(l,f.distance)}return a}}()}),Gn.prototype={constructor:Gn,getPoint:function(t){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){isNaN(t)&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){isNaN(t)&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(isNaN(t)&&(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=t;n++)o+=(e=this.getPoint(n/t)).distanceTo(i),r.push(o),i=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,r=this.getLengths(),i=0,o=r.length;n=e||t*r[o-1];for(var a,s=0,u=o-1;s<=u;)if(i=Math.floor(s+(u-s)/2),(a=r[i]-n)<0)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(i=u,r[i]===n)return i/(o-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(o-1)},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var r=this.getPoint(e);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,r,i=new v,o=[],a=[],s=[],u=new v,l=new _;for(n=0;n<=t;n++)o[n]=this.getTangentAt(n/t),o[n].normalize();a[0]=new v,s[0]=new v;var c=Number.MAX_VALUE,h=Math.abs(o[0].x),f=Math.abs(o[0].y),p=Math.abs(o[0].z);for(h<=c&&(c=h,i.set(1,0,0)),f<=c&&(c=f,i.set(0,1,0)),p<=c&&i.set(0,0,1),u.crossVectors(o[0],i).normalize(),a[0].crossVectors(o[0],u),s[0].crossVectors(o[0],a[0]),n=1;n<=t;n++)a[n]=a[n-1].clone(),s[n]=s[n-1].clone(),u.crossVectors(o[n-1],o[n]),u.length()>Number.EPSILON&&(u.normalize(),r=Math.acos(ad.clamp(o[n-1].dot(o[n]),-1,1)),a[n].applyMatrix4(l.makeRotationAxis(u,r))),s[n].crossVectors(o[n],a[n]);if(!0===e)for(r=Math.acos(ad.clamp(a[0].dot(a[t]),-1,1)),r/=t,o[0].dot(u.crossVectors(a[0],a[t]))>0&&(r=-r),n=1;n<=t;n++)a[n].applyMatrix4(l.makeRotationAxis(o[n],r*n)),s[n].crossVectors(o[n],a[n]);return{tangents:o,normals:a,binormals:s}}},(Hn.prototype=Object.create(Gn.prototype)).constructor=Hn,Hn.prototype.isLineCurve=!0,Hn.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},Hn.prototype.getPointAt=function(t){return this.getPoint(t)},Hn.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},Wn.prototype=Object.assign(Object.create(Gn.prototype),{constructor:Wn,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Hn(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,o=this.curves[r],a=o.getLength();return o.getPointAt(0===a?0:1-i/a)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){isNaN(t)&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o.getPoints(o&&o.isEllipseCurve?2*t:o&&o.isLineCurve?1:o&&o.isSplineCurve?t*o.points.length:t),s=0;s<a.length;s++){var u=a[s];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new Lt,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new v(i.x,i.y,i.z||0))}return e}}),(Xn.prototype=Object.create(Gn.prototype)).constructor=Xn,Xn.prototype.isEllipseCurve=!0,Xn.prototype.getPoint=function(t){for(var e=2*Math.PI,n=this.aEndAngle-this.aStartAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=e;for(;n>e;)n-=e;n<Number.EPSILON&&(n=r?0:e),!0!==this.aClockwise||r||(n===e?n=-e:n-=e);var i=this.aStartAngle+t*n,o=this.aX+this.xRadius*Math.cos(i),a=this.aY+this.yRadius*Math.sin(i);if(0!==this.aRotation){var s=Math.cos(this.aRotation),u=Math.sin(this.aRotation),l=o-this.aX,c=a-this.aY;o=l*s-c*u+this.aX,a=l*u+c*s+this.aY}return new f(o,a)},(qn.prototype=Object.create(Gn.prototype)).constructor=qn,qn.prototype.isSplineCurve=!0,qn.prototype.getPoint=function(t){var e=this.points,n=(e.length-1)*t,r=Math.floor(n),i=n-r,o=e[0===r?r:r-1],a=e[r],s=e[r>e.length-2?e.length-1:r+1],u=e[r>e.length-3?e.length-1:r+2];return new f(Bn(i,o.x,a.x,s.x,u.x),Bn(i,o.y,a.y,s.y,u.y))},(Yn.prototype=Object.create(Gn.prototype)).constructor=Yn,Yn.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new f(Vn(t,e.x,n.x,r.x,i.x),Vn(t,e.y,n.y,r.y,i.y))},(Zn.prototype=Object.create(Gn.prototype)).constructor=Zn,Zn.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new f(zn(t,e.x,n.x,r.x),zn(t,e.y,n.y,r.y))};var Pd=Object.assign(Object.create(Wn.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new Hn(this.currentPoint.clone(),new f(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,r){var i=new Zn(this.currentPoint.clone(),new f(t,e),new f(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(t,e,n,r,i,o){var a=new Yn(this.currentPoint.clone(),new f(t,e),new f(n,r),new f(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(t){var e=new qn([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,r,i,o){this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,n,r,i,o)},absarc:function(t,e,n,r,i,o){this.absellipse(t,e,n,n,r,i,o)},ellipse:function(t,e,n,r,i,o,a,s){this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,n,r,i,o,a,s)},absellipse:function(t,e,n,r,i,o,a,s){var u=new Xn(t,e,n,r,i,o,a,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);this.currentPoint.copy(c)}});Kn.prototype=Pd,Pd.constructor=Kn,Qn.prototype=Object.assign(Object.create(Pd),{constructor:Qn,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),Jn.prototype={moveTo:function(t,e){this.currentPath=new Kn,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,r){this.currentPath.quadraticCurveTo(t,e,n,r)},bezierCurveTo:function(t,e,n,r,i,o){this.currentPath.bezierCurveTo(t,e,n,r,i,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],o=new Qn;o.curves=i.curves,e.push(o)}return e}function r(t,e){for(var n=e.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=e[i],s=e[o],u=s.x-a.x,l=s.y-a.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(a=e[o],u=-u,s=e[i],l=-l),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var c=l*(t.x-a.x)-u*(t.y-a.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return r}var i=xd.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return n(o);var a,s,u,l=[];if(1===o.length)return s=o[0],u=new Qn,u.curves=s.curves,l.push(u),l;var c=!i(o[0].getPoints());c=t?!c:c;var h,f=[],p=[],d=[],m=0;p[m]=void 0,d[m]=[];for(var g=0,y=o.length;g<y;g++)a=i(h=(s=o[g]).getPoints()),(a=t?!a:a)?(!c&&p[m]&&m++,p[m]={s:new Qn,p:h},p[m].s.curves=s.curves,c&&m++,d[m]=[]):d[m].push({h:s,p:h[0]});if(!p[0])return n(o);if(p.length>1){for(var v=!1,_=[],b=0,w=p.length;b<w;b++)f[b]=[];for(b=0,w=p.length;b<w;b++)for(var x=d[b],T=0;T<x.length;T++){for(var S=x[T],E=!0,M=0;M<p.length;M++)r(S.p,p[M].p)&&(b!==M&&_.push({froms:b,tos:M,hole:T}),E?(E=!1,f[M].push(S)):v=!0);E&&f[b].push(S)}_.length>0&&(v||(d=f))}g=0;for(var A,C=p.length;g<C;g++){l.push(u=p[g].s);for(var P=0,R=(A=d[g]).length;P<R;P++)u.holes.push(A[P].h)}return l}},Object.assign($n.prototype,{isFont:!0,generateShapes:function(t,e,n){void 0===e&&(e=100),void 0===n&&(n=4);for(var r=this.data,i=function(t){for(var i=String(t).split(""),o=e/r.resolution,a=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*o,s=0,u=0,l=[],c=0;c<i.length;c++){var h=i[c];if("\n"===h)s=0,u-=a;else{var f=function(t,e,i,o){var a=r.glyphs[h]||r.glyphs["?"];if(a){var s,u,l,c,f,p,d,m,g,y,v,_=new Jn,b=[];if(a.o)for(var w=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),x=0,T=w.length;x<T;)switch(w[x++]){case"m":s=w[x++]*e+i,u=w[x++]*e+o,_.moveTo(s,u);break;case"l":s=w[x++]*e+i,u=w[x++]*e+o,_.lineTo(s,u);break;case"q":if(l=w[x++]*e+i,c=w[x++]*e+o,d=w[x++]*e+i,m=w[x++]*e+o,_.quadraticCurveTo(d,m,l,c),v=b[b.length-1]){f=v.x,p=v.y;for(var S=1;S<=n;S++)zn(E=S/n,f,d,l),zn(E,p,m,c)}break;case"b":if(l=w[x++]*e+i,c=w[x++]*e+o,d=w[x++]*e+i,m=w[x++]*e+o,g=w[x++]*e+i,y=w[x++]*e+o,_.bezierCurveTo(d,m,g,y,l,c),v=b[b.length-1])for(f=v.x,p=v.y,S=1;S<=n;S++){var E;Vn(E=S/n,f,d,g,l),Vn(E,p,m,y,c)}}return{offsetX:a.ha*e,path:_}}}(0,o,s,u);s+=f.offsetX,l.push(f.path)}}return l}(t),o=[],a=0,s=i.length;a<s;a++)Array.prototype.push.apply(o,i[a].toShapes());return o}}),Object.assign((function(t){this.manager=void 0!==t?t:Md}).prototype,{load:function(t,e,n,r){var i=this;new cn(this.manager).load(t,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var r=i.parse(n);e&&e(r)},n,r)},parse:function(t){return new $n(t)}});var Rd,Od={getContext:function(){return void 0===Rd&&(Rd=new(window.AudioContext||window.webkitAudioContext)),Rd},setContext:function(t){Rd=t}};Object.assign(tr.prototype,{load:function(t,e,n,r){var i=new cn(this.manager);i.setResponseType("arraybuffer"),i.load(t,function(t){Od.getContext().decodeAudioData(t,function(t){e(t)})},n,r)}}),er.prototype=Object.assign(Object.create(pn.prototype),{constructor:er,isRectAreaLight:!0,copy:function(t){return pn.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this}}),Object.assign((function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Bt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Bt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}).prototype,{update:function(){var t,e,n,r,i,o,a,s=new _,u=new _;return function(l){if(t!==this||e!==l.focus||n!==l.fov||r!==l.aspect*this.aspect||i!==l.near||o!==l.far||a!==l.zoom){t=this,e=l.focus,n=l.fov,r=l.aspect*this.aspect,i=l.near,o=l.far,a=l.zoom;var c,h,f=l.projectionMatrix.clone(),p=this.eyeSep/2,d=p*i/e,m=i*Math.tan(ad.DEG2RAD*n*.5)/a;u.elements[12]=-p,s.elements[12]=p,f.elements[0]=2*i/((h=m*r+d)-(c=-m*r+d)),f.elements[8]=(h+c)/(h-c),this.cameraL.projectionMatrix.copy(f),f.elements[0]=2*i/((h=m*r-d)-(c=-m*r-d)),f.elements[8]=(h+c)/(h-c),this.cameraR.projectionMatrix.copy(f)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(s)}}()}),(nr.prototype=Object.create(dt.prototype)).constructor=nr,rr.prototype=Object.assign(Object.create(dt.prototype),{constructor:rr,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new v,e=new y,n=new v,r=new v;return function(i){dt.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(t,e,n),r.set(0,0,-1).applyQuaternion(e),o.positionX?(o.positionX.setValueAtTime(t.x,this.context.currentTime),o.positionY.setValueAtTime(t.y,this.context.currentTime),o.positionZ.setValueAtTime(t.z,this.context.currentTime),o.forwardX.setValueAtTime(r.x,this.context.currentTime),o.forwardY.setValueAtTime(r.y,this.context.currentTime),o.forwardZ.setValueAtTime(r.z,this.context.currentTime),o.upX.setValueAtTime(a.x,this.context.currentTime),o.upY.setValueAtTime(a.y,this.context.currentTime),o.upZ.setValueAtTime(a.z,this.context.currentTime)):(o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z,a.x,a.y,a.z))}}()}),ir.prototype=Object.assign(Object.create(dt.prototype),{constructor:ir,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),t.start(0,this.startTime),this.isPlaying=!0,this.source=t,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),or.prototype=Object.assign(Object.create(ir.prototype),{constructor:or,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new v;return function(e){dt.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(ar.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),sr.prototype={constructor:sr,accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=e}else this._mixBufferRegion(n,i,0,e/(o+=e),r);this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,o=this.binding;this.cumulativeWeight=0,i<1&&this._mixBufferRegion(n,r,3*e,1-i,e);for(var a=e,s=e+e;a!==s;++a)if(n[a]!==n[a+e]){o.setValue(n,r);break}},saveOriginalState:function(){var t=this.buffer,e=this.valueSize,n=3*e;this.binding.getValue(t,n);for(var r=e,i=n;r!==i;++r)t[r]=t[n+r%e];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(t,e,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,r,i){y.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=e+a;t[s]=t[s]*o+t[n+a]*r}}},ur.prototype={constructor:ur,getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=ur.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var o=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("  can not bind to material as node does not have a material",this);if(!t.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[n])return void console.error("  can not bind to objectName of node, undefined",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,t);t=t[o]}}var s=t[r];if(void 0!==s){var u=this.Versioning.None;void 0!==t.needsUpdate?(u=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!t.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===i){i=a;break}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][u]}else{var c=e.nodeName;console.error("  trying to update property for track: "+c+"."+r+" but it wasn't found.",t)}}else console.error("  trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(ur.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:ur.prototype.getValue,_setValue_unbound:ur.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),(ur.Composite=function(t,e,n){var r=n||ur.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}).prototype={constructor:ur.Composite,getValue:function(t,e){this.bind();var n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},ur.create=function(t,e,n){return t&&t.isAnimationObjectGroup?new ur.Composite(t,e,n):new ur(t,e,n)},ur.parseTrackName=function(t){var e=/^((?:[\w-]+[\/:])*)([\w-]+)?(?:\.([\w-]+)(?:\[(.+)\])?)?\.([\w-]+)(?:\[(.+)\])?$/.exec(t);if(!e)throw new Error("cannot parse trackName at all: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]};if(null===n.propertyName||0===n.propertyName.length)throw new Error("can not parse propertyName from trackName: "+t);return n},ur.findNode=function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=function(t){for(var n=0;n<t.bones.length;n++){var r=t.bones[n];if(r.name===e)return r}return null}(t.skeleton);if(n)return n}if(t.children){var r=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.name===e||i.uuid===e)return i;var o=r(i.children);if(o)return o}return null},i=r(t.children);if(i)return i}return null},lr.prototype={constructor:lr,isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,u=s.length,l=0,c=arguments.length;l!==c;++l){var h=arguments[l],f=h.uuid,p=i[f],d=void 0;if(void 0===p){p=n++,i[f]=p,e.push(h);for(var m=0,g=u;m!==g;++m)s[m].push(new ur(h,o[m],a[m]))}else if(p<r){d=e[p];var y=--r,v=e[y];for(i[v.uuid]=p,e[p]=v,i[f]=y,e[y]=h,m=0,g=u;m!==g;++m){var _=s[m],b=_[p];_[p]=_[y],void 0===b&&(b=new ur(h,o[m],a[m])),_[y]=b}}else e[p]!==d&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=r},remove:function(t){for(var e=this._objects,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a],l=u.uuid,c=r[l];if(void 0!==c&&c>=n){var h=n++,f=e[h];r[f.uuid]=c,e[c]=f,r[l]=h,e[h]=u;for(var p=0,d=o;p!==d;++p){var m=i[p],g=m[c];m[c]=m[h],m[h]=g}}}this.nCachedObjects_=n},uncache:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,a=o.length,s=0,u=arguments.length;s!==u;++s){var l=arguments[s].uuid,c=i[l];if(void 0!==c)if(delete i[l],c<r){var h=--r,f=e[h],p=e[y=--n];i[f.uuid]=c,e[c]=f,i[p.uuid]=h,e[h]=p,e.pop();for(var d=0,m=a;d!==m;++d){var g=(v=o[d])[y];v[c]=v[h],v[h]=g,v.pop()}}else{var y;for(i[(p=e[y=--n]).uuid]=c,e[c]=p,e.pop(),d=0,m=a;d!==m;++d){var v;(v=o[d])[c]=v[y],v.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);n[t]=r=i.length,o.push(t),a.push(e),i.push(c);for(var h=l,f=s.length;h!==f;++h)c[h]=new ur(s[h],t,e);return c},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}},cr.prototype={constructor:cr,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,o=r/i;t.warp(1,i/r,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=t/a,u[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){var i=this._startTime;if(null!==i){var o=(t-i)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var u=this._interpolants,l=this._propertyBindings,c=0,h=u.length;c!==h;++c)u[c].evaluate(a),l[c].accumulate(r,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var o=2202===r;if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=n||e<0){var a=Math.floor(e/n);e-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(0===s){var u=t<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&i))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=t?this.zeroSlopeAtStart?2401:qp:2402,r.endingEnd=e?this.zeroSlopeAtEnd?2401:qp:2402)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=n,this}},hr.prototype={constructor:hr,clipAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?In.findByName(n,t):t,o=null!==i?i.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var u=a.actionByRoot[r];if(void 0!==u)return u;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var l=new cr(this,i,e);return this._bindAction(l,s),this._addInactiveAction(l,o,r),l},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?In.findByName(n,t):t,o=this._actionsByClip[i?i.uuid:t];return void 0!==o?o.actionByRoot[r]||null:null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){for(var e=this._actions,n=this._nActiveActions,r=this.time+=t*=this.timeScale,i=Math.sign(t),o=this._accuIndex^=1,a=0;a!==n;++a){var s=e[a];s.enabled&&s._update(r,t,i,o)}var u=this._bindings,l=this._nActiveBindings;for(a=0;a!==l;++a)u[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var u=o[a];this._deactivateAction(u);var l=u._cacheIndex,c=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,e[l]=c,e.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[e];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[e];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},Object.assign(hr.prototype,{_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(u[s]=l={});for(var c=0;c!==i;++c){var h=r[c],f=h.name,p=l[f];if(void 0!==p)o[c]=p;else{if(void 0!==(p=o[c])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,f));continue}++(p=new sr(ur.create(n,f,e&&e._propertyBindings[c].binding.parsedPath),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(p,s,f),o[c]=p}a[c].resultBuffer=p.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],l=t._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],o=this._bindings;void 0===i&&(r[e]=i={}),i[n]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=e[e.length-1],u=t._cacheIndex;s._cacheIndex=u,e[u]=s,e.pop(),delete a[i];t:{for(var l in a)break t;delete o[r]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&((n=new Sn(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1)}),Object.assign(hr.prototype,h.prototype),fr.prototype.clone=function(){return new fr(void 0===this.value.clone?this.value:this.value.clone())},(pr.prototype=Object.create(kt.prototype)).constructor=pr,pr.prototype.isInstancedBufferGeometry=!0,pr.prototype.addGroup=function(t,e,n){this.groups.push({start:t,count:e,materialIndex:n})},pr.prototype.copy=function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var r in n)this.addAttribute(r,n[r].clone());for(var i=t.groups,o=0,a=i.length;o<a;o++){var s=i[o];this.addGroup(s.start,s.count,s.materialIndex)}return this},dr.prototype={constructor:dr,isInterleavedBufferAttribute:!0,get count(){return this.data.count},get array(){return this.data.array},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}},mr.prototype={constructor:mr,isInterleavedBuffer:!0,set needsUpdate(t){!0===t&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}},(gr.prototype=Object.create(mr.prototype)).constructor=gr,gr.prototype.isInstancedInterleavedBuffer=!0,gr.prototype.copy=function(t){return mr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},(yr.prototype=Object.create(_t.prototype)).constructor=yr,yr.prototype.isInstancedBufferAttribute=!0,yr.prototype.copy=function(t){return _t.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},vr.prototype={constructor:vr,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e){var n=[];return br(t,this,n,e),n.sort(_r),n},intersectObjects:function(t,e){var n=[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=t.length;r<i;r++)br(t[r],this,n,e);return n.sort(_r),n}},wr.prototype={constructor:wr,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=(performance||Date).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}},xr.prototype={constructor:xr,set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(ad.clamp(t.y/this.radius,-1,1))),this}},Tr.prototype={constructor:Tr,set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}},(Sr.prototype=Object.create(Nt.prototype)).constructor=Sr,Sr.prototype.createAnimation=function(t,e,n,r){var i={start:e,end:n,length:n-e+1,fps:r,duration:(n-e)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},Sr.prototype.autoCreateAnimations=function(t){for(var e,n=/([a-z]+)_?(\d+)/i,r={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o].name.match(n);s&&s.length>1&&(r[u=s[1]]||(r[u]={start:1/0,end:-1/0}),o<(l=r[u]).start&&(l.start=o),o>l.end&&(l.end=o),e||(e=u))}for(var u in r){var l;this.createAnimation(u,(l=r[u]).start,l.end,t)}this.firstAnimation=e},Sr.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},Sr.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},Sr.prototype.setAnimationFPS=function(t,e){var n=this.animationsMap[t];n&&(n.fps=e,n.duration=(n.end-n.start)/n.fps)},Sr.prototype.setAnimationDuration=function(t,e){var n=this.animationsMap[t];n&&(n.duration=e,n.fps=(n.end-n.start)/n.duration)},Sr.prototype.setAnimationWeight=function(t,e){var n=this.animationsMap[t];n&&(n.weight=e)},Sr.prototype.setAnimationTime=function(t,e){var n=this.animationsMap[t];n&&(n.time=e)},Sr.prototype.getAnimationTime=function(t){var e=0,n=this.animationsMap[t];return n&&(e=n.time),e},Sr.prototype.getAnimationDuration=function(t){var e=-1,n=this.animationsMap[t];return n&&(e=n.duration),e},Sr.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},Sr.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},Sr.prototype.update=function(t){for(var e=0,n=this.animationsList.length;e<n;e++){var r=this.animationsList[e];if(r.active){var i=r.duration/r.length;r.time+=r.direction*t,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var o=r.start+ad.clamp(Math.floor(r.time/i),0,r.length-1),a=r.weight;o!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*a,this.morphTargetInfluences[o]=0,r.lastFrame=r.currentFrame,r.currentFrame=o);var s=r.time%i/i;r.directionBackwards&&(s=1-s),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=s*a,this.morphTargetInfluences[r.lastFrame]=(1-s)*a):this.morphTargetInfluences[r.currentFrame]=a}}},(Er.prototype=Object.create(dt.prototype)).constructor=Er,Er.prototype.isImmediateRenderObject=!0,(Mr.prototype=Object.create(ue.prototype)).constructor=Mr,Mr.prototype.update=function(){var t=new v,e=new v,n=new st;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,u=a.faces,l=0,c=0,h=u.length;c<h;c++)for(var f=u[c],p=0,d=f.vertexNormals.length;p<d;p++){var m=f.vertexNormals[p];t.copy(s[f[r[p]]]).applyMatrix4(i),e.copy(m).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(l,t.x,t.y,t.z),o.setXYZ(l+=1,e.x,e.y,e.z),l+=1}else if(a&&a.isBufferGeometry){var g=a.attributes.position,y=a.attributes.normal;for(l=0,p=0,d=g.count;p<d;p++)t.set(g.getX(p),g.getY(p),g.getZ(p)).applyMatrix4(i),e.set(y.getX(p),y.getY(p),y.getZ(p)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(l,t.x,t.y,t.z),o.setXYZ(l+=1,e.x,e.y,e.z),l+=1}return o.needsUpdate=!0,this}}(),(Ar.prototype=Object.create(dt.prototype)).constructor=Ar,Ar.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Ar.prototype.update=function(){var t=new v,e=new v;return function(){var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),(Cr.prototype=Object.create(ue.prototype)).constructor=Cr,Cr.prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,this.getBoneList(t.children[n]));return e},Cr.prototype.update=function(){var t=new v,e=new _,n=new _;return function(){var r=this.geometry,i=r.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var o=0,a=0;o<this.bones.length;o++){var s=this.bones[o];s.parent&&s.parent.isBone&&(e.multiplyMatrices(n,s.matrixWorld),t.setFromMatrixPosition(e),i.setXYZ(a,t.x,t.y,t.z),e.multiplyMatrices(n,s.parent.matrixWorld),t.setFromMatrixPosition(e),i.setXYZ(a+1,t.x,t.y,t.z),a+=2)}r.getAttribute("position").needsUpdate=!0}}(),(Pr.prototype=Object.create(Nt.prototype)).constructor=Pr,Pr.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Pr.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},(Rr.prototype=Object.create(dt.prototype)).constructor=Rr,Rr.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose(),this.children[1].geometry.dispose(),this.children[1].material.dispose()},Rr.prototype.update=function(){var t=new v,e=new v;return function(){var n=this.children[0],r=this.children[1];if(this.light.target){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld);var i=e.clone().sub(t);n.lookAt(i),r.lookAt(i)}n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var o=.5*this.light.width,a=.5*this.light.height,s=n.geometry.getAttribute("position"),u=s.array;u[0]=o,u[1]=-a,u[2]=0,u[3]=o,u[4]=a,u[5]=0,u[6]=-o,u[7]=a,u[8]=0,u[9]=-o,u[10]=a,u[11]=0,u[12]=-o,u[13]=-a,u[14]=0,u[15]=o,u[16]=-a,u[17]=0,s.needsUpdate=!0}}(),(Or.prototype=Object.create(dt.prototype)).constructor=Or,Or.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Or.prototype.update=function(){var t=new v,e=new $,n=new $;return function(){var r=this.children[0],i=r.geometry.getAttribute("color");e.copy(this.light.color).multiplyScalar(this.light.intensity),n.copy(this.light.groundColor).multiplyScalar(this.light.intensity);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?e:n;i.setXYZ(o,s.r,s.g,s.b)}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),i.needsUpdate=!0}}(),(Lr.prototype=Object.create(ue.prototype)).constructor=Lr,(kr.prototype=Object.create(ue.prototype)).constructor=kr,(Nr.prototype=Object.create(ue.prototype)).constructor=Nr,Nr.prototype.update=function(){var t=new v,e=new v,n=new st;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,u=0,l=0,c=s.length;l<c;l++){var h=s[l],f=h.normal;t.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(r),e.copy(f).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),i.setXYZ(u,t.x,t.y,t.z),i.setXYZ(u+=1,e.x,e.y,e.z),u+=1}return i.needsUpdate=!0,this}}(),(Ir.prototype=Object.create(dt.prototype)).constructor=Ir,Ir.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},Ir.prototype.update=function(){var t=new v,e=new v,n=new v;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t);var r=this.children[0],i=this.children[1];r.lookAt(n),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),i.lookAt(n),i.scale.z=n.length()}}(),(Dr.prototype=Object.create(ue.prototype)).constructor=Dr,Dr.prototype.update=function(){function t(t,o,a,s){r.set(o,a,s).unproject(i);var u=n[t];if(void 0!==u)for(var l=e.getAttribute("position"),c=0,h=u.length;c<h;c++)l.setXYZ(u[c],r.x,r.y,r.z)}var e,n,r=new v,i=new jt;return function(){e=this.geometry,n=this.pointMap,i.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-1,-1,-1),t("n2",1,-1,-1),t("n3",-1,1,-1),t("n4",1,1,-1),t("f1",-1,-1,1),t("f2",1,-1,1),t("f3",-1,1,1),t("f4",1,1,1),t("u1",.7,1.1,-1),t("u2",-.7,1.1,-1),t("u3",0,2,-1),t("cf1",-1,0,1),t("cf2",1,0,1),t("cf3",0,-1,1),t("cf4",0,1,1),t("cn1",-1,0,-1),t("cn2",1,0,-1),t("cn3",0,-1,-1),t("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),(Ur.prototype=Object.create(ue.prototype)).constructor=Ur,Ur.prototype.update=function(){var t=new ot;return function(e){if(e&&e.isBox3?t.copy(e):t.setFromObject(e),!t.isEmpty()){var n=t.min,r=t.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}();var Ld,kd;(Fr.prototype=Object.create(dt.prototype)).constructor=Fr,Fr.prototype.setDirection=function(){var t,e=new v;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(n.z,0,-n.x).normalize(),t=Math.acos(n.y),this.quaternion.setFromAxisAngle(e,t))}}(),Fr.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},Fr.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},(jr.prototype=Object.create(ue.prototype)).constructor=jr;var Nd=new v,Id=new Br,Dd=new Br,Ud=new Br;(zr.prototype=Object.create(Gn.prototype)).constructor=zr,zr.prototype.getPoint=function(t){var e=this.points,n=e.length;n<2&&console.log("duh, you need at least 2 points");var r=(n-(this.closed?0:1))*t,i=Math.floor(r),o=r-i;this.closed?i+=i>0?0:(Math.floor(Math.abs(i)/e.length)+1)*e.length:0===o&&i===n-1&&(i=n-2,o=1);var a,s,u,l;if(this.closed||i>0?a=e[(i-1)%n]:(Nd.subVectors(e[0],e[1]).add(e[0]),a=Nd),s=e[i%n],u=e[(i+1)%n],this.closed||i+2<n?l=e[(i+2)%n]:(Nd.subVectors(e[n-1],e[n-2]).add(e[n-1]),l=Nd),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var c="chordal"===this.type?.5:.25,h=Math.pow(a.distanceToSquared(s),c),f=Math.pow(s.distanceToSquared(u),c),p=Math.pow(u.distanceToSquared(l),c);f<1e-4&&(f=1),h<1e-4&&(h=f),p<1e-4&&(p=f),Id.initNonuniformCatmullRom(a.x,s.x,u.x,l.x,h,f,p),Dd.initNonuniformCatmullRom(a.y,s.y,u.y,l.y,h,f,p),Ud.initNonuniformCatmullRom(a.z,s.z,u.z,l.z,h,f,p)}else if("catmullrom"===this.type){var d=void 0!==this.tension?this.tension:.5;Id.initCatmullRom(a.x,s.x,u.x,l.x,d),Dd.initCatmullRom(a.y,s.y,u.y,l.y,d),Ud.initCatmullRom(a.z,s.z,u.z,l.z,d)}return new v(Id.calc(o),Dd.calc(o),Ud.calc(o))},(Vr.prototype=Object.create(Gn.prototype)).constructor=Vr,Vr.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new v(Vn(t,e.x,n.x,r.x,i.x),Vn(t,e.y,n.y,r.y,i.y),Vn(t,e.z,n.z,r.z,i.z))},(Gr.prototype=Object.create(Gn.prototype)).constructor=Gr,Gr.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new v(zn(t,e.x,n.x,r.x),zn(t,e.y,n.y,r.y),zn(t,e.z,n.z,r.z))},(Hr.prototype=Object.create(Gn.prototype)).constructor=Hr,Hr.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=new v;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e},(Wr.prototype=Object.create(Xn.prototype)).constructor=Wr,Gn.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Gn.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},(function(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),zr.call(this,t),this.type="catmullrom",this.closed=!0}).prototype=Object.create(zr.prototype),(function(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),zr.call(this,t),this.type="catmullrom"}).prototype=Object.create(zr.prototype),Xr.prototype=Object.create(zr.prototype),Object.assign(Xr.prototype,{initFromArray:function(t){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(t){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(t){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Lr.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Object.assign(et.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(ot.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),mt.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},ad.random16=function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},Object.assign(st.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(_.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new v),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,o)}}),ut.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},y.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(ht.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Qn.prototype,{extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ie(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Ge(this,t)}}),Object.assign(f.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(v.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(d.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Lt.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(dt.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}}),Object.defineProperties(dt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(ne.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Bt.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(pn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(_t.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(kt.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(kt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(fr.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(nt.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new $}}}),Object.defineProperties(rn.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(rt.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(Zt.prototype,{supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(Zt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(ct.prototype,{cullFace:{get:function(){return this.renderReverseSided?af:of},set:function(t){var e=t!==of;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+e+"."),this.renderReverseSided=e}}}),Object.defineProperties(m.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),ir.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new tr).load(t,function(t){e.setBuffer(t)}),this},ar.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};var Fd,jd=function(){function t(){this.scene={},this.camera={},this.renderer={},this.geometry={},this.material={},this.mesh={}}return t.prototype.doRotation=function(t,e,n){this.mesh.rotation.x+=.01,this.mesh.rotation.y+=.02,this.renderer.render(this.scene,this.camera)},t.prototype.go=function(){!function(t){function e(){requestAnimationFrame(e),t.doRotation(.01,.02,.03)}e()}(this)},t.prototype.setRoot=function(t){this.scene=new Jt,this.camera=new Bt(75,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.z=1e3,this.geometry=new It(100,400,900),this.material=new vt({color:10027059,wireframe:!1}),this.mesh=new Nt(this.geometry,this.material),this.scene.add(this.mesh),this.renderer=new Zt,this.renderer.setSize(window.innerWidth,window.innerHeight),t.append(this.renderer.domElement)},t.prototype.init=function(t){this.scene=new Jt,this.camera=new Bt(75,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.z=1e3,this.geometry=new It(100,400,900),this.material=new vt({color:10027059,wireframe:!1}),this.mesh=new Nt(this.geometry,this.material),this.scene.add(this.mesh),this.renderer=new Zt,this.renderer.setSize(window.innerWidth,window.innerHeight),document.getElementById(t).appendChild(this.renderer.domElement)},t}(),Bd=function(){function t(t){this.vcr=t,this.mySceen=new jd}return t.prototype.ngOnInit=function(){this.mySceen.setRoot(this.vcr.element.nativeElement),this.mySceen.go()},t}(),zd=_h["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),Vd=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Gd=_h["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),Hd=_h["\u0275ccf"]("foundry-webglview",Vd,function(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"foundry-webglview",[],null,null,null,Yr,Gd)),_h["\u0275did"](1,114688,null,0,Vd,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Wd=function(){function t(t){this.viewRef=t}return Object.defineProperty(t.prototype,"ngTransclude",{get:function(){return this._ngTransclude},set:function(t){this._ngTransclude=t,t&&this.viewRef.createEmbeddedView(t)},enumerable:!0,configurable:!0}),t}(),Xd=function(){this.type="tabs"},qd=function(){function t(t,e){this.renderer=e,this.clazz=!0,this.tabs=[],this.classMap={},Object.assign(this,t)}return Object.defineProperty(t.prototype,"vertical",{get:function(){return this._vertical},set:function(t){this._vertical=t,this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"justified",{get:function(){return this._justified},set:function(t){this._justified=t,this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this.setClassMap()},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.isDestroyed=!0},t.prototype.addTab=function(t){this.tabs.push(t),t.active=1===this.tabs.length&&"undefined"==typeof t.active},t.prototype.removeTab=function(t,e){void 0===e&&(e={reselect:!0,emit:!0});var n=this.tabs.indexOf(t);if(-1!==n&&!this.isDestroyed){if(e.reselect&&t.active&&this.hasAvailableTabs(n)){var r=this.getClosestTabIndex(n);this.tabs[r].active=!0}e.emit&&t.removed.emit(t),this.tabs.splice(n,1),t.elementRef.nativeElement.parentNode&&this.renderer.removeChild(t.elementRef.nativeElement.parentNode,t.elementRef.nativeElement)}},t.prototype.getClosestTabIndex=function(t){var e=this.tabs.length;if(!e)return-1;for(var n=1;n<=e;n+=1){var r=t-n,i=t+n;if(this.tabs[r]&&!this.tabs[r].disabled)return r;if(this.tabs[i]&&!this.tabs[i].disabled)return i}return-1},t.prototype.hasAvailableTabs=function(t){var e=this.tabs.length;if(!e)return!1;for(var n=0;n<e;n+=1)if(!this.tabs[n].disabled&&n!==t)return!0;return!1},t.prototype.setClassMap=function(){this.classMap=(t={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified},t["nav-"+this.type]=!0,t);var t},t}(),Yd=_h["\u0275crt"]({encapsulation:2,styles:[],data:{}}),Zd=function(){function t(t,e,n){this.elementRef=e,this.renderer=n,this.select=new _h.EventEmitter,this.deselect=new _h.EventEmitter,this.removed=new _h.EventEmitter,this.addClass=!0,this.tabset=t,this.tabset.addTab(this)}return Object.defineProperty(t.prototype,"customClass",{get:function(){return this._customClass},set:function(t){var e=this;this.customClass&&this.customClass.split(" ").forEach(function(t){e.renderer.removeClass(e.elementRef.nativeElement,t)}),this._customClass=t?t.trim():null,this.customClass&&this.customClass.split(" ").forEach(function(t){e.renderer.addClass(e.elementRef.nativeElement,t)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},set:function(t){var e=this;this._active!==t&&(this.disabled&&t||!t?this._active&&!t&&(this.deselect.emit(this),this._active=t):(this._active=t,this.select.emit(this),this.tabset.tabs.forEach(function(t){t!==e&&(t.active=!1)})))},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.removable=this.removable},t.prototype.ngOnDestroy=function(){this.tabset.removeTab(this,{reselect:!1,emit:!1})},t}(),Kd=function(){function t(){}return t.prototype.ngOnInit=function(){var t=this;this.primitives=Dh.primitives(),Ih.Sub("onRuntimeTypeChanged",function(e){t.primitives=Dh.primitives()})},t}(),Qd=_h["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),Jd=function(){function t(t,e,n,r){this.commands=new Array,this.myName=t,this.myType=e.name,this.primitive=e,this.properties=n,this.subcomponents=r}return t.prototype.newInstance=function(t,e){var n=Oh.union(t,this.properties),r=new this.primitive(n);return r.myClass=this.myName,r},t.prototype.addCommands=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.commands&&(n=this.commands).push.apply(n,t),this;var n},t.prototype.getCommands=function(){return this.commands},t}(),$d=function(){return function(t){t&&Oh.mixin(this,t)}}(),tm=function(){function t(){}return t.namespaces=function(){return Object.keys(this.lookup)},t.names=function(t){return Object.keys(this.lookup[t])},t.allStencilItem=function(){var t=new Array;return Oh.forEachKeyValue(this.lookup,function(e,n){Oh.forEachKeyValue(n,function(n,r){var i=new $d({id:e+"::"+n,namespace:e,name:n,spec:r});t.push(i)})}),t},t.register=function(t,e){var n=Oh.splitNamespaceType(t),r=n.namespace,i=n.name;return this.lookup[r]||(this.lookup[r]={}),this.lookup[r][i]=e,e},t.find=function(t){var e=Oh.splitNamespaceType(t);return this.findSpec(e.namespace,e.name)},t.findSpec=function(t,e){var n=this.lookup[t];return n&&n[e]},t.define=function(t,e,n,r){Dh.define(e);var i=Oh.splitNamespaceType(t,e.name),o=new Jd(Oh.namespace(i.namespace,i.name),e,n,r),a=this.register(o.myName,o);return Ih.Pub("onStencilChanged",a),a},t.create=function(t,e,n,r,i){Dh.define(e);var o=Oh.splitNamespaceType(t,e.name),a=this.findSpec(o.namespace,o.name),s=a&&a.newInstance(n,r);return i&&i(s),s},t.newInstance=function(t,e,n,r){var i=this.find(t),o=i&&i.newInstance(e,n);return r&&r(o),o},t.override=function(t){var e=t.myName,n=t.properties,r=t.subcomponents,i=t.commands,o=Dh.modelPrimitives[t.myType];if(!o)throw Error("runtimeType not found "+o);var a=new Jd(e,o,n,r);a.addCommands.apply(a,i);var s=this.register(e,a);return Ih.Pub("onStencilChanged",s),s},t.lookup={},t}(),em=function(){function t(){}return t.prototype.ngOnInit=function(){var t=tm.find(this.node.myClass);t&&(this.commands=t.commands)},t.prototype.doCommand=function(t){this.node[t]&&this.node[t]()},t}(),nm=_h["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),rm=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),im=_h["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),om=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),am=_h["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),sm=function(){function t(t){this.signalR=t}return t.prototype.ngOnInit=function(){},t.prototype.doCreate=function(){var t=this.stencilItem.spec.newInstance().drop(this.rootPage.centerX,this.rootPage.centerY).addAsSubcomponent(this.rootPage);this.signalR.pubCommand("syncShape",{guid:t.myGuid},t.asJson)},t.prototype.doCommand=function(t){},t}(),um=_h["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),lm=function(){function t(t,e){this._el=t,this._renderer=e,this.collapsed=new _h.EventEmitter,this.expanded=new _h.EventEmitter,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1}return Object.defineProperty(t.prototype,"collapse",{get:function(){return this.isExpanded},set:function(t){this.isExpanded=t,this.toggle()},enumerable:!0,configurable:!0}),t.prototype.toggle=function(){this.isExpanded?this.hide():this.show()},t.prototype.hide=function(){this.isCollapse=!1,this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapse=!0,this.isCollapsing=!1,this.display="none",this.collapsed.emit(this)},t.prototype.show=function(){this.isCollapse=!1,this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.display="block",this.isCollapse=!0,this.isCollapsing=!1,this._renderer.setStyle(this._el.nativeElement,"overflow","visible"),this._renderer.setStyle(this._el.nativeElement,"height","auto"),this.expanded.emit(this)},t}(),cm="undefined"!=typeof window&&window||{},hm=function(){this.closeOthers=!1},fm=function(){function t(t){this.groups=[],Object.assign(this,t)}return t.prototype.closeOtherPanels=function(t){this.closeOthers&&this.groups.forEach(function(e){e!==t&&(e.isOpen=!1)})},t.prototype.addGroup=function(t){this.groups.push(t)},t.prototype.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)},t}(),pm=function(){function t(t){this.isOpenChange=new _h.EventEmitter,this._isOpen=!1,this.accordion=t}return Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._isOpen},set:function(t){var e=this;t!==this.isOpen&&(t&&this.accordion.closeOtherPanels(this),this._isOpen=t,Promise.resolve(null).then(function(){e.isOpenChange.emit(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBs3",{get:function(){return"undefined"==typeof cm||("undefined"==typeof cm.__theme?Fd?"bs3"===Fd:"bs3"===(Fd=function(){if("undefined"==typeof document)return null;var t=document.createElement("span");t.innerText="test bs version",document.body.appendChild(t),t.classList.add("d-none");var e=t.getBoundingClientRect();return document.body.removeChild(t),e&&0===e.top?"bs4":"bs3"}()):"bs4"!==cm.__theme)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.panelClass=this.panelClass||"panel-default",this.accordion.addGroup(this)},t.prototype.ngOnDestroy=function(){this.accordion.removeGroup(this)},t.prototype.toggleOpen=function(t){this.isDisabled||(this.isOpen=!this.isOpen)},t}(),dm=_h["\u0275crt"]({encapsulation:2,styles:[],data:{}}),mm=_h["\u0275crt"]({encapsulation:2,styles:[],data:{}}),gm=function(){function t(){this.headings=new Array,this.groups={}}return t.prototype.initViewModel=function(){this.list=tm.allStencilItem(),this.groups=Oh.groupBy(Oh.pluck("namespace"),this.list),this.headings=tm.namespaces()},t.prototype.ngOnInit=function(){var t=this;this.initViewModel(),Ih.Sub("onStencilChanged",function(){t.initViewModel()})},t}(),ym=_h["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),vm=function(){function t(){this.list=new Array,this.headings=new Array,this.groups={}}return t.prototype.initViewModel=function(){this.list=Kh.allConceptItems(),this.groups=Oh.groupBy(Oh.pluck("namespace"),this.list),this.headings=Kh.namespaces()},t.prototype.ngOnInit=function(){var t=this;this.initViewModel(),Ih.Sub("onKnowledgeChanged",function(e){t.initViewModel()})},t.prototype.doCreate=function(t){t.concept.newInstance().drop(this.rootPage.centerX,this.rootPage.centerY).addAsSubcomponent(this.rootPage)},t}(),_m=_h["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),bm=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),wm=_h["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),xm=function(){function t(){}return t.prototype.ngOnInit=function(){this.rootPage=this.stage},t.prototype.doRefreshRuntimeTypes=function(){Ih.Pub("onRuntimeTypeChanged")},t.prototype.doRefreshStencil=function(){Ih.Pub("onStencilChanged")},t.prototype.doRefreshConcepts=function(){Ih.Pub("onKnowledgeChanged")},t}(),Tm=_h["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),Sm=(this&&this.__extends||Object.setPrototypeOf||Array,function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e,this.myName=n}return t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e,this},t.prototype.add=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.x+=t,this.y+=e,this},t.prototype.subtract=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.x-=t,this.y-=e,this},t.prototype.midpoint=function(e){return new t((this.x+e.x)/2,(this.y+e.y)/2)},t}()),Em=function(){function t(t,e,n,r,i){this.x=t,this.y=e,this.width=n,this.height=r,this.myName=i}return t.prototype.moveBy=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.x+=t,this.y+=e,this},t.prototype.moveTo=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e,this},t.prototype.sizeBy=function(t,e){return this.width+=t,this.height+=e,this},t.prototype.sizeTo=function(t,e){return this.width=t,this.height=e,this},t.prototype.set=function(t,e,n,r){return this.x=t,this.y=e,this.width=n,this.height=r,this},t.prototype.contains=function(t,e){return this.x<=t&&t<=this.x+this.width&&this.y<=e&&e<=this.y+this.height},t.prototype.localContains=function(t,e){return 0<=t&&t<=this.width&&0<=e&&e<=this.height},t.prototype.draw=function(t,e){return e?t.fillRect(this.x,this.y,this.width,this.height):t.rect(this.x,this.y,this.width,this.height),this},t}(),Mm=function(){function t(t){this.point=new Sm,this.source=t}return t.prototype.set=function(t,e,n,r){return this.x1=t,this.y1=e,this.x2=n,this.y2=r,this},t.prototype.init=function(t){return this.x1=t.x,this.y1=t.y,this.x2=t.x,this.y2=t.y,this},t.prototype.merge=function(t){return this.x1=Math.min(this.x1,t.x1,t.x2),this.y1=Math.min(this.y1,t.y1,t.y2),this.x2=Math.max(this.x2,t.x2,t.x1),this.y2=Math.max(this.y2,t.y2,t.y1),this},t.prototype.minmax=function(t){return this.x1=Math.min(this.x1,t.x),this.y1=Math.min(this.y1,t.y),this.x2=Math.max(this.x2,t.x),this.y2=Math.max(this.y2,t.y),this},t.prototype.contains=function(t,e){return this.x1<=t&&t<=this.x2&&this.y1<=e&&e<=this.y2},t.prototype.draw=function(t,e){var n=this.x2-this.x1,r=this.y2-this.y1;return e?t.fillRect(this.x1,this.y1,n,r):t.rect(this.x1,this.y1,n,r),this},t}(),Am=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.left=0,this.top=0,this.right=0,this.bottom=0,this.left=t,this.top=e,this.right=n,this.bottom=r}return t.prototype.setAll=function(t){return void 0===t&&(t=0),this.left=t,this.top=t,this.right=t,this.bottom=t,this},Object.defineProperty(t.prototype,"width",{get:function(){return this.left+this.right},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.top+this.bottom},enumerable:!0,configurable:!0}),t}(),Cm=function(){function t(){}return t.prototype.go=function(t){!function(t){function e(){requestAnimationFrame(e),t.render(t.context)}e()}(this),t&&t()},t.prototype.setRoot=function(t,e,n){return this.canvas=t,this.context=this.canvas.getContext("2d"),this.canvas.width=e,this.canvas.height=n,this.context.lineWidth=1,this.context.lineCap="round",this.context.strokeStyle="#000",this.pubMouseEvents(t),t},t.prototype.pubMouseEvents=function(t){function e(t){return r.set(t.clientX-n.left,t.clientY-n.top)}var n=t.getBoundingClientRect(),r=new Sm;t.addEventListener("mousedown",function(t){t.preventDefault();var n=e(t);Ih.Pub("mousedown",n,t,{shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey,button:t.button})}),t.addEventListener("mousemove",function(t){t.preventDefault();var n=e(t);Ih.Pub("mousemove",n,t,{shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey,button:t.button})}),t.addEventListener("wheel",function(t){t.preventDefault();var n=e(t),r={shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey,button:t.button},i=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail))>0?1.1:1/1.1,o=new Sm(t.offsetX,t.offsetY);Ih.Pub("wheel",n,o,i,t,r)}),t.addEventListener("dblclick",function(t){t.preventDefault();var n=e(t);Ih.Pub("dblclick",n,t,{shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey,button:t.button})}),t.addEventListener("click",function(t){t.preventDefault();var n=e(t);Ih.Pub("click",n,t,{shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey,button:t.button})}),t.addEventListener("mouseup",function(t){t.preventDefault();var n=e(t);Ih.Pub("mouseup",n,t,{shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey,button:t.button})}),t.addEventListener("mouseover",function(t){t.preventDefault();var n=e(t);Ih.Pub("mouseover",n,t,{shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey,button:t.button})}),t.addEventListener("mouseout",function(t){t.preventDefault();var n=e(t);Ih.Pub("mouseout",n,t,{shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey,button:t.button})})},t}(),Pm=function(){function t(t){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,t&&this.copy(t)}return t.prototype.append=function(t,e,n,r,i,o){var a=this.a,s=this.b,u=this.c,l=this.d;return 1==t&&0==e&&0==n&&1==r||(this.a=a*t+u*e,this.b=s*t+l*e,this.c=a*n+u*r,this.d=s*n+l*r),this.tx=a*i+u*o+this.tx,this.ty=s*i+l*o+this.ty,this},t.prototype.prepend=function(t,e,n,r,i,o){var a=this.a,s=this.c,u=this.tx;return this.a=t*a+n*this.b,this.b=e*a+r*this.b,this.c=t*s+n*this.d,this.d=e*s+r*this.d,this.tx=t*u+n*this.ty+i,this.ty=e*u+r*this.ty+o,this},t.prototype.set=function(t,e,n,r,i,o){return this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=o,this},t.prototype.appendMatrix=function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty)},t.prototype.prependMatrix=function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty)},t.prototype.appendTransform=function(e,n,r,i,o,a,s,u,l){if(o%360)var c=o*t.DEG_TO_RAD,h=Math.cos(c),f=Math.sin(c);else h=1,f=0;return a||s?(a*=t.DEG_TO_RAD,s*=t.DEG_TO_RAD,this.append(Math.cos(s),Math.sin(s),-Math.sin(a),Math.cos(a),e,n),this.append(h*r,f*r,-f*i,h*i,0,0)):this.append(h*r,f*r,-f*i,h*i,e,n),(u||l)&&(this.tx-=u*this.a+l*this.c,this.ty-=u*this.b+l*this.d),this},t.prototype.prependTransform=function(e,n,r,i,o,a,s,u,l){if(o%360)var c=o*t.DEG_TO_RAD,h=Math.cos(c),f=Math.sin(c);else h=1,f=0;return(u||l)&&(this.tx-=u,this.ty-=l),a||s?(a*=t.DEG_TO_RAD,s*=t.DEG_TO_RAD,this.prepend(h*r,f*r,-f*i,h*i,0,0),this.prepend(Math.cos(s),Math.sin(s),-Math.sin(a),Math.cos(a),e,n)):this.prepend(h*r,f*r,-f*i,h*i,e,n),this},t.prototype.rotate=function(e){e*=t.DEG_TO_RAD;var n=Math.cos(e),r=Math.sin(e),i=this.a,o=this.b;return this.a=i*n+this.c*r,this.b=o*n+this.d*r,this.c=-i*r+this.c*n,this.d=-o*r+this.d*n,this},t.prototype.skew=function(e,n){return e*=t.DEG_TO_RAD,n*=t.DEG_TO_RAD,this.append(Math.cos(n),Math.sin(n),-Math.sin(e),Math.cos(e),0,0),this},t.prototype.scale=function(t,e){return this.a*=t,this.b*=t,this.c*=e,this.d*=e,this},t.prototype.translate=function(t,e){return this.tx+=this.a*t+this.c*e,this.ty+=this.b*t+this.d*e,this},t.prototype.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},t.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,o=t*r-e*n;return this.a=r/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.invertCopy=function(){return new t(this).invert()},t.prototype.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},t.prototype.equals=function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d},t.prototype.transformPoint=function(t,e,n){return n=n||new Sm,n.x=t*this.a+e*this.c+this.tx,n.y=t*this.b+e*this.d+this.ty,n},t.prototype.invertPoint=function(t,e,n){return this.invertCopy().transformPoint(t,e,n)},t.prototype.decompose=function(e){null==e&&(e={}),e.x=this.tx,e.y=this.ty,e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var n=Math.atan2(-this.c,this.d),r=Math.atan2(this.b,this.a);return Math.abs(1-n/r)<1e-5?(e.rotation=r/t.DEG_TO_RAD,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?180:-180),e.skewX=e.skewY=0):(e.skewX=n/t.DEG_TO_RAD,e.skewY=r/t.DEG_TO_RAD),e},t.prototype.copy=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.clone=function(){return new t(this)},t.prototype.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},t.DEG_TO_RAD=Math.PI/180,t}(),Rm=(new Pm,this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Om=function(t){function e(e,n){return t.call(this,e,void 0,n)||this}return Rm(e,t),Object.defineProperty(e.prototype,"targetHandle",{get:function(){return this._targetHandle},set:function(t){this._targetHandle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceHandle",{get:function(){return this.myName},set:function(t){this.myName=t},enumerable:!0,configurable:!0}),e.prototype.glueTo=function(t,e){var n=this;return this.myTarget=function(){return t},this.mySource=function(){return n.myParent()},this.targetHandle=e,this},e.prototype.toJson=function(){return Oh.mixin(t.prototype.toJson.call(this),{guid:this.myGuid,myType:this.myType,sourceGuid:this.mySource()&&this.mySource().myGuid,sourceHandle:this.sourceHandle,targetGuid:this.myTarget()&&this.myTarget().myGuid,targetHandle:this.targetHandle})},e}(Fh),Lm=n("PRno"),km=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nm=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.getOffset=function(t){return new Sm(i.x-t.x,i.y-t.y)},i.localHitTest=function(t){var e=i.globalToLocal(t.x,t.y);return!(e.x<0||e.x>i.size||e.y<0||e.y>i.size)},i.hitTest=function(t,e){return i.localHitTest(t)},i.draw=function(t){t.fillStyle=i.color,t.lineWidth=1,t.globalAlpha=i.opacity,t.fillRect(0,0,i.size,i.size)},i}return km(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x||0},set:function(t){this.smash(),this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y||0},set:function(t){this.smash(),this._y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size||10},set:function(t){this._size=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this._opacity||.5},set:function(t){this._opacity=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color||"black"},set:function(t){this._color=t},enumerable:!0,configurable:!0}),e.prototype.smash=function(){this._matrix=void 0,this._invMatrix=void 0},e.prototype.drop=function(t,e,n){return void 0===t&&(t=Number.NaN),void 0===e&&(e=Number.NaN),void 0===n&&(n=Number.NaN),Number.isNaN(t)||(this.x=t),Number.isNaN(e)||(this.y=e),this},e.prototype.moveTo=function(t,e){return this.myParentGlyph().moveHandle(this,t),this},e.prototype.updateContext=function(t){var e=this.getMatrix();t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),t.globalAlpha*=this.opacity},e.prototype.getGlobalMatrix=function(){var t=new Pm(this.getMatrix()),e=this.myParent();return e&&t.prependMatrix(e.getGlobalMatrix()),t},e.prototype.getMatrix=function(){if(void 0===this._matrix){this._matrix=new Pm;var t=this.size/2;this._matrix.appendTransform(this.x,this.y,1,1,0,0,0,t,t)}return this._matrix},e.prototype.getInvMatrix=function(){return void 0===this._invMatrix&&(this._invMatrix=this.getMatrix().invertCopy()),this._invMatrix},e.prototype.localToGlobal=function(t,e,n){return this.getGlobalMatrix().transformPoint(t,e,n)},e.prototype.globalToLocal=function(t,e,n){return this.getGlobalMatrix().invertCopy().transformPoint(t,e,n)},e.prototype.myParentGlyph=function(){return this.myParent&&this.myParent()},e.prototype.render=function(t,e){void 0===e&&(e=!0),t.save(),this.updateContext(t),this.preDraw&&this.preDraw(t),this.draw(t),this.drawHover&&this.drawHover(t),this.postDraw&&this.postDraw(t),t.restore()},e}(Fh),Im=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dm=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i._isSelected=!1,i._visible=!0,i._boundry=new Mm(i),i.getOffset=function(t){return new Sm(i.x-t.x,i.y-t.y)},i.getLocation=function(){return new Sm(i.x,i.y)},i.setLocation=function(t){i.x=t?t.x:0,i.y=t?t.y:0},i.localHitTest=function(t){var e=i.globalToLocal(t.x,t.y);return!(e.x<0||e.x>i.width||e.y<0||e.y>i.height)},i.hitTest=function(t,e){return i.localHitTest(t)},i.overlapTest=function(t,e){var n=i.globalToLocalFrame(t.x1,t.y1,t.x2,t.y2);return!!(i.localContains(n.x1,n.y1)||i.localContains(n.x1,n.y2)||i.localContains(n.x2,n.y1)||i.localContains(n.x2,n.y2))},i.afterRender=function(t,e){void 0===e&&(e=!0),t.save(),t.lineWidth=4,t.strokeStyle="pink",i.drawBoundry(t),t.restore(),e&&i.nodes.forEach(function(n){n.afterRender(t,e)})},i.drawSelected=function(t){t.strokeStyle="red",t.lineWidth=4,i.drawOutline(t),i.drawHandles(t),i.drawPin(t)},i.draw=function(t){t.fillStyle=i.color,t.lineWidth=1,t.fillRect(0,0,i.width,i.height)},i}return Im(e,t),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this._isSelected},set:function(t){this._isSelected=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return!!(this.visible&&this.opacity>0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this._x||0},set:function(t){this.smash(),this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y||0},set:function(t){this.smash(),this._y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width||0},set:function(t){this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height||0},set:function(t){this._height=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this._opacity||1},set:function(t){this._opacity=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color||"black"},set:function(t){this._color=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handles",{get:function(){return this._handles||this.createHandles()},enumerable:!0,configurable:!0}),e.prototype.smash=function(){this._matrix=void 0,this._invMatrix=void 0},e.prototype.setLayout=function(t){return this._layout=t,this},e.prototype.doLayout=function(t){return void 0===t&&(t=!0),t&&this.nodes.forEach(function(t){return t.doLayout()}),this._layout&&this.wait(1e3,this._layout),this},Object.defineProperty(e.prototype,"boundryFrame",{get:function(){var t=this,e=this.getGlobalMatrix(),n=this._boundry.point;return this._boundry.init(e.transformPoint(0,0,n)),this._boundry.minmax(e.transformPoint(0,this.height,n)),this._boundry.minmax(e.transformPoint(this.width,0,n)),this._boundry.minmax(e.transformPoint(this.width,this.height,n)),this.nodes.forEach(function(e){t._boundry.merge(e.boundryFrame)}),this._boundry},enumerable:!0,configurable:!0}),e.prototype.drawBoundry=function(t){t.beginPath(),t.setLineDash([5,5]),this.boundryFrame.draw(t,!1),t.stroke()},e.prototype.set=function(t,e,n,r){return this.x=t,this.y=e,this.width=n,this.height=r,this},e.prototype.contains=function(t,e){return this.x<=t&&t<=this.x+this.width&&this.y<=e&&e<=this.y+this.height},e.prototype.localContains=function(t,e){return 0<=t&&t<=this.width&&0<=e&&e<=this.height},e.prototype.toJson=function(){return Oh.mixin(t.prototype.toJson.call(this),{x:this.x,y:this.y,width:this.width,height:this.height,opacity:this.opacity,color:this.color})},e.prototype.initialize=function(t,e,n){return void 0===t&&(t=Number.NaN),void 0===e&&(e=Number.NaN),void 0===n&&(n=Number.NaN),this},e.prototype.drop=function(t,e,n){return void 0===t&&(t=Number.NaN),void 0===e&&(e=Number.NaN),void 0===n&&(n=Number.NaN),Number.isNaN(t)||(this.x=t),Number.isNaN(e)||(this.y=e),this},Object.defineProperty(e.prototype,"nodes",{get:function(){return this._subcomponents},enumerable:!0,configurable:!0}),e.prototype.easeTo=function(t,e,n,r){var i=this;return void 0===n&&(n=.5),void 0===r&&(r=Lm.Back.ease),Lm.TweenLite.to(this,n,{x:t,y:e,ease:r}).eventCallback("onUpdate",function(){i.drop()}).eventCallback("onComplete",function(){i.drop(t,e)}),this},e.prototype.easeTween=function(t,e,n){var r=this;void 0===e&&(e=.5),void 0===n&&(n=Lm.Back.ease);var i=Oh.union(t,{ease:n});return Lm.TweenLite.to(this,e,i).eventCallback("onComplete",function(){return r.override(t)}),this},e.prototype.moveTo=function(t,e){return this.drop(t.x+(e?e.x:0),t.y+(e?e.y:0))},e.prototype.moveBy=function(t,e){return this.drop(this.x+t.x+(e?e.x:0),this.y+t.y+(e?e.y:0))},e.prototype.updateContext=function(t){var e=this.getMatrix();t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),t.globalAlpha*=this.opacity},e.prototype.getGlobalMatrix=function(){var t=new Pm(this.getMatrix()),e=this.myParent&&this.myParent();return e&&t.prependMatrix(e.getGlobalMatrix()),t},e.prototype.getMatrix=function(){return void 0===this._matrix&&(this._matrix=new Pm,this._matrix.appendTransform(this.x,this.y,1,1,0,0,0,0,0)),this._matrix},e.prototype.getInvMatrix=function(){return void 0===this._invMatrix&&(this._invMatrix=this.getMatrix().invertCopy()),this._invMatrix},e.prototype.localToGlobal=function(t,e,n){return this.getGlobalMatrix().transformPoint(t,e,n)},e.prototype.localToGlobalPoint=function(t){return this.getGlobalMatrix().transformPoint(t.x,t.y,t)},e.prototype.globalToLocal=function(t,e,n){return this.getGlobalMatrix().invertCopy().transformPoint(t,e,n)},e.prototype.globalToLocalPoint=function(t){return this.getGlobalMatrix().invertCopy().transformPoint(t.x,t.y,t)},e.prototype.globalToLocalFrame=function(t,e,n,r,i){i=i||new Mm;var o=this.getGlobalMatrix().invertCopy();return i.init(o.transformPoint(t,e,i.point)),i.minmax(o.transformPoint(t,r,i.point)),i.minmax(o.transformPoint(n,e,i.point)),i.minmax(o.transformPoint(n,r,i.point)),i},e.prototype.localToLocal=function(t,e,n,r){return r=this.localToGlobal(t,e,r),n.globalToLocal(r.x,r.y,r)},e.prototype.setColor=function(t){return this.color=t,this.color},e.prototype.setOpacity=function(t){return this.opacity=t,this.opacity},e.prototype.unSelect=function(t){void 0===t&&(t=!0),this.isSelected=!1,this._handles&&this._handles.forEach(function(t){return t.color="black"}),t&&this.Subcomponents.forEach(function(e){e.unSelect(t)})},e.prototype.findObjectUnderPoint=function(t,e,n){var r=this.hitTest(t,n)?this:void 0;return e&&(r=this.findChildObjectUnderPoint(t,n)||r),r},e.prototype.findChildObjectUnderPoint=function(t,e){for(var n=this.nodes,r=0;r<n.length;r++){var i=n.getMember(r).findChildObjectUnderPoint(t,e);if(i)return i}if(this.hitTest(t,e))return this},e.prototype.findObjectUnderFrame=function(t,e,n,r){var i=this.overlapTest(e,r)?this:void 0;return n&&(i=this.findChildObjectUnderFrame(t,e,r)||i),i},e.prototype.findChildObjectUnderFrame=function(t,e,n){for(var r=this.nodes,i=0;i<r.length;i++){var o=r.getMember(i);if(!t.hasAncestor(o)){var a=o.findChildObjectUnderFrame(t,e,n);if(a)return a}}if(this.overlapTest(e,n))return this},e.prototype.pinLocation=function(){return{x:0,y:0}},e.prototype.render=function(t,e){void 0===e&&(e=!0),t.save(),this.updateContext(t),this.preDraw&&this.preDraw(t),this.draw(t),this.drawHover&&this.drawHover(t),this.postDraw&&this.postDraw(t),this.isSelected&&this.drawSelected(t),e&&this._subcomponents.forEach(function(n){n.render(t,e)}),t.restore()},e.prototype.drawText=function(t,e){for(var n=e.split("|"),r=20,i=0;i<n.length;i++)t.fillText(n[i],10,r),r+=24},e.prototype.drawPin=function(t){var e=this.pinLocation(),n=e.x,r=e.y;t.save(),t.beginPath(),t.arc(n,r,6,0,2*Math.PI,!1),t.fillStyle="pink",t.fill(),t.lineWidth=1,t.strokeStyle="#003300",t.stroke(),t.restore()},e.prototype.drawOrigin=function(t){var e=this.pinLocation(),n=e.x,r=e.y;t.save(),t.beginPath(),t.setLineDash([5,5]),t.moveTo(n-50,r),t.lineTo(n+50,r),t.moveTo(n,r-50),t.lineTo(n,r+50),t.lineWidth=1,t.strokeStyle="#003300",t.stroke(),t.restore()},e.prototype.drawOriginX=function(t){var e=this.pinLocation(),n=e.x,r=e.y;t.save(),t.beginPath(),t.setLineDash([5,5]),t.moveTo(n-50,r-50),t.lineTo(n+50,r+50),t.moveTo(n+50,r-50),t.lineTo(n-50,r+50),t.lineWidth=1,t.strokeStyle="#003300",t.stroke(),t.restore()},e.prototype.drawOutline=function(t){t.beginPath(),t.setLineDash([15,5]),t.rect(0,0,this.width,this.height),t.stroke()},e.prototype.generateHandles=function(t){var e=this;if(this._handles){var n=0;t.forEach(function(t){e._handles.getChildAt(n++).override(t)})}else this._handles=new Nh,t.forEach(function(t){var n=new Nm(t,void 0,e);e._handles.addMember(n)});return this._handles},e.prototype.createHandles=function(){return this.generateHandles([{x:0,y:0,myName:"0:0"},{x:this.width,y:0,myName:"W:0"},{x:this.width,y:this.height,myName:"W:H"},{x:0,y:this.height,myName:"0:H"}])},e.prototype.findHandle=function(t,e){if(this._handles)for(var n=0;n<this.handles.length;n++){var r=this.handles.getChildAt(n);if(r.hitTest(t))return r}},e.prototype.moveHandle=function(t,e){},e.prototype.drawHandles=function(t){this.handles.forEach(function(e){e.render(t)})},e.prototype.toggleSelected=function(){this.isSelected=!this.isSelected},e.prototype.layoutSubcomponentsVertical=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=0);var n=this.getLocation(),r=this;return t?(r.height=r.width=0,n.x=n.y=0):n=this.nodes.first().getLocation(),this.nodes.forEach(function(t){t.setLocation(n)}),this.nodes.forEach(function(i){var o=i.pinLocation(),a=o.y;n.x=t?o.x:n.x,n.y+=a,i.easeTo(n.x,n.y),n.y+=e+i.height-a,t&&(r.width=Math.max(r.width,i.width),r.height=n.y)}),this},e.prototype.layoutSubcomponentsHorizontal=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=0);var n=this.getLocation(),r=this;return t?(r.height=r.width=0,n.x=n.y=0):n=this.nodes.first().getLocation(),this.nodes.forEach(function(t){t.setLocation(n)}),this.nodes.forEach(function(i){var o=i.pinLocation(),a=o.x,s=o.y;n.x+=a,n.y=t?s:n.y,i.easeTo(n.x,n.y),n.x+=e+i.width-a,t&&(r.width=n.x,r.height=Math.max(r.height,i.height))}),this},e.prototype.layoutMarginRight=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=0);var n=this.getLocation(),r=this;return n.x=e+this.width,n.y=0,this.nodes.forEach(function(i){var o=i.pinLocation(),a=o.x,s=o.y;n.x+=a,i.easeTo(n.x,n.y+s),n.x+=e+i.width-a,t&&(r.width=n.x,r.height=Math.max(r.height,i.height))}),this},e.prototype.layoutMarginTop=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=0);var n=this.getLocation(),r=this;return n.x=10,n.y=e+this.height,this.nodes.forEach(function(i){var o=i.pinLocation(),a=o.x,s=o.y;n.y+=s,i.easeTo(n.x+a,n.y),n.y+=e+i.height-s,t&&(r.width=Math.max(r.width,i.width),r.height=n.y)}),this},e.DEG_TO_RAD=Math.PI/180,e.RAD_TO_DEG=180/Math.PI,e}(Fh);Dh.define(Dm);var Um=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fm=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.pinX=function(){return.5*i.width},i.pinY=function(){return.5*i.height},i.rotation=function(){return i.angle},i.localHitTest=function(t){var e=i.globalToLocal(t.x,t.y);return!(e.x<0||e.x>i.width||e.y<0||e.y>i.height)},i.hitTest=function(t,e){return i.localHitTest(t)},i.overlapTest=function(t,e){var n=i.globalToLocalFrame(t.x1,t.y1,t.x2,t.y2);return!!(i.localContains(n.x1,n.y1)||i.localContains(n.x1,n.y2)||i.localContains(n.x2,n.y1)||i.localContains(n.x2,n.y2))},i.drawSelected=function(t){t.strokeStyle="red",t.lineWidth=4,i.drawOutline(t),i.drawHandles(t),i.drawPin(t)},i.draw=function(t){t.fillStyle=i.color,t.lineWidth=1,t.globalAlpha=i.opacity,t.fillRect(0,0,i.width,i.height)},i}return Um(e,t),Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle||0},set:function(t){this.smash(),this._angle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"glue",{get:function(){return this._glue},enumerable:!0,configurable:!0}),e.prototype.toJson=function(){return Oh.mixin(t.prototype.toJson.call(this),{angle:this.angle})},e.prototype.notifyOnChange=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r]},e.prototype.notifySource=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this._glue&&this._glue.forEach(function(n){(r=n.mySource()).notifyOnChange.apply(r,[n,t].concat(e));var r})},e.prototype.notifyTarget=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this._glue&&this._glue.forEach(function(n){(r=n.myTarget()).notifyOnChange.apply(r,[n,t].concat(e));var r})},e.prototype.drop=function(t,e,n){return void 0===t&&(t=Number.NaN),void 0===e&&(e=Number.NaN),void 0===n&&(n=Number.NaN),Number.isNaN(t)||(this.x=t),Number.isNaN(e)||(this.y=e),Number.isNaN(n)||(this.angle=n),this.notifySource("drop",this.getLocation()),this},e.prototype.updateContext=function(t){var e=this.getMatrix();t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),t.globalAlpha*=this.opacity},e.prototype.getMatrix=function(){return void 0===this._matrix&&(this._matrix=new Pm,this._matrix.appendTransform(this.x,this.y,1,1,this.rotation(),0,0,this.pinX(),this.pinY())),this._matrix},e.prototype.pinLocation=function(){return{x:this.pinX(),y:this.pinY()}},e.prototype.moveHandle=function(t,e){t.localToGlobal(0,0).subtract(e.x,e.y)},e.prototype.createGlue=function(t,e,n){var r=this.addGlue(new Om({myName:t}));return r.glueTo(e,n),e.addGlue(r),r},e.prototype.addGlue=function(t){var e=this;return this._glue||(this._glue=new Nh),this._glue.addMember(t),t.hasParent||(t.myParent=function(){return e}),t},e.prototype.removeGlue=function(t){return this._glue&&(this._glue.removeMember(t),t.removeParent(this)),t},e.prototype.render=function(t,e){void 0===e&&(e=!0),t.save(),this.updateContext(t),this.preDraw&&this.preDraw(t),this.draw(t),this.drawHover&&this.drawHover(t),this.postDraw&&this.postDraw(t),this.isSelected&&this.drawSelected(t),e&&this._subcomponents.forEach(function(n){n.render(t,e)}),t.restore()},e.prototype.drawOutline=function(t){t.beginPath(),t.setLineDash([15,5]),t.rect(0,0,this.width,this.height),t.stroke()},e}(Dm);Dh.define(Fm);var jm=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bm=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.gridSizeX=50,i.gridSizeY=50,i.showBoundry=!1,i.pinX=function(){return 0*i.width},i.pinY=function(){return 0*i.height},i.rotation=function(){return i.angle},i.mouseLoc={},i._dictionary=new Vh,i.onMouseLocationChanged=function(t,e,n){i.mouseLoc=t,i.mouseLoc.state=e,i.mouseLoc.keys=n},i.onItemChangedParent=function(t){},i.onItemChangedPosition=function(t){},i.onItemOverlapEnter=function(t,e,n,r){},i.onItemOverlapExit=function(t,e,n,r){},i.onItemHoverEnter=function(t,e,n){},i.onItemHoverExit=function(t,e,n){},i.onHandleHoverEnter=function(t,e,n){},i.onHandleMoving=function(t,e,n){},i.onHandleHoverExit=function(t,e,n){},i.onTrackHandles=function(t,e,n){},i.afterRender=function(t,e){void 0===e&&(e=!0),t.save(),e&&i.nodes.forEach(function(n){n.afterRender(t,e)}),t.restore()},i.preDraw=function(t){},i.draw=function(t){i.drawGrid(t),i.drawAxis(t),i.drawPage(t),i.drawPin(t)},i.color="Linen",i.x=i.y=100,i.setupMouseEvents(),i}return jm(e,t),Object.defineProperty(e.prototype,"marginX",{get:function(){return this._marginX||0},set:function(t){this.smash(),this._marginX=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginY",{get:function(){return this._marginY||0},set:function(t){this.smash(),this._marginY=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this._scaleX||1},set:function(t){this.smash(),this._scaleX=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this._scaleY||1},set:function(t){this.smash(),this._scaleY=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerX",{get:function(){return this.width/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerY",{get:function(){return this.height/2},enumerable:!0,configurable:!0}),e.prototype.findItem=function(t,e,n){return this._dictionary.findItem(t,e,n)},e.prototype.found=function(t,e,n){return this._dictionary.found(t,e,n)},e.prototype.getMatrix=function(){return void 0===this._matrix&&(this._matrix=new Pm,this._matrix.appendTransform(this.marginX+this.x,this.marginY+this.y,this.scaleX,this.scaleY,this.rotation(),0,0,this.pinX(),this.pinY())),this._matrix},e.prototype.findHitShape=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=null);for(var r=void 0,i=0;i<this.nodes.length;i++){var o=this.nodes.getMember(i);if(o!=n&&(r=o.findObjectUnderPoint(t,e,this._ctx)))return r}},e.prototype.findShapeUnder=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=null);for(var r=t.boundryFrame,i=0;i<this.nodes.length;i++){var o=this.nodes.getMember(i);if(!t.hasAncestor(o)&&o!=n&&o.findObjectUnderFrame(t,r,e,this._ctx))return o}},e.prototype.addSubcomponent=function(e,n){var r=this,i=e.myGuid;return this._dictionary.findItem(i,function(){r._dictionary.addItem(i,e),t.prototype.addSubcomponent.call(r,e,n)}),e},e.prototype.removeSubcomponent=function(e){var n=this,r=e.myGuid;return this._dictionary.found(r,function(){e.isSelected=!1,n._dictionary.removeItem(r),t.prototype.removeSubcomponent.call(n,e)}),e},e.prototype.clearAll=function(){this._subcomponents.clearAll(),this._dictionary.clearAll()},e.prototype.deleteSelected=function(t){var e=this._subcomponents.filter(function(t){return t.isSelected})[0];e&&(this.removeSubcomponent(e),t&&t(e))},e.prototype.zoomBy=function(t){this.scaleX*=t,this.scaleY*=t},e.prototype.zoomToCenter=function(t,e,n){var r=this.globalToLocalPoint(t);this.zoomBy(e);var i=this.localToGlobal(r.x,r.y);this.x+=r.x-i.x,this.y+=r.y-i.y},e.prototype.setupMouseEvents=function(){function t(t){for(var e=0;e<a.length;e++){var n=a.getChildAt(e);if(n.hitTest(t))return n}}var e=this,n=null,r=null,i=null,o=null,a=new Nh,s=null,u=null;Ih.Sub("mousedown",function(r,i,u){r.add(e.marginX,e.marginY),e.onMouseLocationChanged(r,"down",u),(s=t(r))?o=s.getOffset(r):(u.shift||(s=null,a.clearAll(),e._subcomponents.forEach(function(t){t.unSelect()})),(n=e.findHitShape(r))&&(e._subcomponents.moveToTop(n),n.isSelected=!0,o=n.getOffset(r),a.copyMembers(n.handles)))}),Ih.Sub("mousemove",function(l,c,h){if(t(l)&&a.length&&e.onTrackHandles(l,a,h),a.forEach(function(t){t.color=t.hitTest(l)?"yellow":"black"}),s)e.onHandleMoving(l,s,h),s.moveTo(l,o);else if(n)e.onMouseLocationChanged(l,"move",h),n.moveTo(l,o),h.ctrl?(f=e.findShapeUnder(n))&&f==r?e.onItemOverlapEnter(l,n,r,h):f?(r&&e.onItemOverlapExit(l,n,r,h),e.onItemOverlapEnter(l,n,r=f,h)):r&&(e.onItemOverlapExit(l,n,r,h),r=null):(r&&e.onItemOverlapExit(l,n,r,h),r=null);else{e.onMouseLocationChanged(l,"hover",h),l.add(e.marginX,e.marginY);var f;(f=e.findHitShape(l))&&f==i?e.onItemHoverEnter(l,i):f?(i&&e.onItemHoverExit(l,i),e.onItemHoverEnter(l,i=f)):i&&(e.onItemHoverExit(l,i),s&&e.onHandleHoverExit(l,s,h),i=void 0,s=void 0);var p=t(l);p&&p==u?(u=p,e.onHandleHoverEnter(l,p,h)):p?(u&&e.onHandleHoverExit(l,u,h),e.onHandleHoverEnter(l,u=p,h)):u&&(e.onHandleHoverExit(l,p,h),u=null)}}),Ih.Sub("mouseup",function(t,i,o){if(s=null,e.onMouseLocationChanged(t,"up",o),n){if(e._subcomponents.moveToTop(n),r&&o.ctrl){var a=n.getLocation(),u=r.globalToLocal(a.x,a.y);r.addSubcomponent(n.removeFromParent()),n.easeTo(u.x,u.y),r=null,e.onItemChangedParent(n)}else e.onItemChangedPosition(n);if(n.myParent()!=e&&o.ctrl){var l=n.pinLocation();u=n.localToGlobal(l.x,l.y),e.addSubcomponent(n.removeFromParent()),n.easeTo(u.x,u.y),e.onItemChangedParent(n)}n=r=null}}),Ih.Sub("wheel",function(t,n,r,i,o){e.onMouseLocationChanged(t,"wheel",o),o.shift&&o.ctrl&&e.zoomToCenter(n,r,i)})},e.prototype.drawGrid=function(t){t.save(),t.beginPath(),t.setLineDash([5,1]),t.strokeStyle="gray";for(var e=this.marginX-this.x,n=this.marginY-this.y,r=e+this.width/this.scaleX,i=n+this.height/this.scaleY,o=this.gridSizeX;o<r;)t.moveTo(o,n),t.lineTo(o,i),o+=this.gridSizeX;for(o=-this.gridSizeX;o>e;)t.moveTo(o,n),t.lineTo(o,i),o-=this.gridSizeX;for(var a=this.gridSizeY;a<i;)t.moveTo(e,a),t.lineTo(r,a),a+=this.gridSizeY;for(a=-this.gridSizeY;a>n;)t.moveTo(e,a),t.lineTo(r,a),a-=this.gridSizeY;t.stroke(),t.restore()},e.prototype.drawAxis=function(t){t.save(),t.beginPath(),t.strokeStyle="black",t.lineWidth=3;var e=this.marginX-this.x,n=this.marginY-this.y,r=e+this.width/this.scaleX,i=n+this.height/this.scaleY;t.moveTo(0,n),t.lineTo(0,i),t.moveTo(e,0),t.lineTo(r,0),t.stroke(),t.restore()},e.prototype.drawPage=function(t){t.save(),t.beginPath(),t.strokeStyle="black",t.lineWidth=5,t.rect(0,0,this.width,this.height),t.stroke(),t.restore()},Object.defineProperty(e.prototype,"boundryFrame",{get:function(){var t=this.nodes.first().boundryFrame;return this.nodes.forEach(function(e){t.merge(e.boundryFrame)}),t},enumerable:!0,configurable:!0}),e.prototype.render=function(t,e){void 0===e&&(e=!0),this._ctx=t,t.clearRect(0,0,this.width,this.height),t.save(),this.updateContext(t),this.preDraw&&this.preDraw(t),this.draw(t),this.postDraw&&this.postDraw(t),e&&this._subcomponents.forEach(function(n){n.render(t,e)}),t.restore(),this.showBoundry&&this.afterRender(t)},e}(Fm),zm=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vm=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.pinX=function(){return.5*i.width},i.pinY=function(){return.5*i.height},i.rotation=function(){return i.angle},i.begin=function(t){return new Sm(i.startX,i.startY,t)},i.end=function(t){return new Sm(i.finishX,i.finishY,t)},i.center=function(t){return new Sm((i.startX+i.finishX)/2,(i.startY+i.finishY)/2,t)},i.localHitTest=function(t){var e=i.globalToLocal(t.x,t.y);if(e.x<0)return!1;if(e.x>i.width)return!1;var n=i.height/2;return!(e.y<-n||e.y>n)},i.hitTest=function(t,e){return i.localHitTest(t)},i.drawSelected=function(t){t.strokeStyle="red",t.fillStyle="red",t.lineWidth=2*(i.thickness||4),i.drawOutline(t),i.drawHandles(t),i.drawPin(t)},i.draw=function(t){var e=i.globalToLocalPoint(i.begin()),n=e.x,r=e.y,o=i.globalToLocalPoint(i.end()),a=o.x,s=o.y;t.fillStyle=i.color,t.strokeStyle=i.color,t.lineWidth=i.thickness||1,t.beginPath(),t.moveTo(n,r),t.lineTo(a,s),t.stroke()},i}return zm(e,t),Object.defineProperty(e.prototype,"startX",{get:function(){return this._x1||0},set:function(t){this.smash(),this._x1=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startY",{get:function(){return this._y1||0},set:function(t){this.smash(),this._y1=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"finishX",{get:function(){return this._x2||0},set:function(t){this.smash(),this._x2=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"finishY",{get:function(){return this._y2||0},set:function(t){this.smash(),this._y2=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){var t=this.angleDistance();return this._width||t.length},set:function(t){this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height||0},set:function(t){this._height=t},enumerable:!0,configurable:!0}),e.prototype.toJson=function(){return Oh.mixin(t.prototype.toJson.call(this),{startX:this.startX,startY:this.startY,finishX:this.finishX,finishY:this.finishY})},e.prototype.setStart=function(t){this.startX=t.x,this.startY=t.y;var e=this.center(),n=e.y;this.x=e.x,this.y=n},e.prototype.setFinish=function(t){this.finishX=t.x,this.finishY=t.y;var e=this.center(),n=e.y;this.x=e.x,this.y=n},e.prototype.notifyOnChange=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(e){case"drop":var i=t.myName,o=n[0];"begin"==i&&this.setStart(o),"end"==i&&this.setFinish(o)}},e.prototype.angleDistance=function(){var t=this.begin(),e=t.x,n=t.y,r=this.end(),i=r.x,o=r.y,a=i-e,s=o-n;return{angle:Dm.RAD_TO_DEG*Math.atan2(s,a),length:Math.sqrt(a*a+s*s),cX:(i+e)/2,cY:(o+n)/2}},e.prototype.glueStart=function(t,e){return this.createGlue("begin",t,e)},e.prototype.glueFinish=function(t,e){return this.createGlue("end",t,e)},e.prototype.initialize=function(t,e,n){void 0===t&&(t=Number.NaN),void 0===e&&(e=Number.NaN),void 0===n&&(n=Number.NaN);var r=this.center(),i=r.x,o=r.y;this.x=Number.isNaN(t)?i:t,this.y=Number.isNaN(e)?o:e;var a=new Pm;a.appendTransform(this.x,this.y,1,1,n+this.rotation(),0,0,i,o);var s=a.transformPoint(this.startX,this.startY),u=a.transformPoint(this.finishX,this.finishY);return this.startX=s.x,this.startY=s.y,this.finishX=u.x,this.finishY=u.y,this},e.prototype.drop=function(t,e,n){void 0===t&&(t=Number.NaN),void 0===e&&(e=Number.NaN),void 0===n&&(n=Number.NaN);var r=Number.isNaN(n)?0:n;return Number.isNaN(t)||Number.isNaN(e)||this.initialize(t,e,r),this},e.prototype.updateContext=function(t){var e=this.getMatrix();t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),t.globalAlpha*=this.opacity},e.prototype.getMatrix=function(){if(void 0===this._matrix){this._matrix=new Pm;var t=this.angleDistance().angle;this._matrix.appendTransform(this.x,this.y,1,1,t+this.rotation(),0,0,this.pinX(),this.pinY())}return this._matrix},e.prototype.drawEnd=function(t){var e=this.globalToLocalPoint(this.end()),n=e.x,r=e.y;t.save(),t.beginPath(),t.moveTo(n-10,r),t.lineTo(n+10,r),t.moveTo(n,r-10),t.lineTo(n,r+10),t.lineWidth=2,t.stroke(),t.restore()},e.prototype.drawStart=function(t){var e=this.globalToLocalPoint(this.begin()),n=e.x,r=e.y;t.save(),t.beginPath(),t.moveTo(n-10,r-10),t.lineTo(n+10,r+10),t.moveTo(n+10,r-10),t.lineTo(n-10,r+10),t.lineWidth=2,t.stroke(),t.restore()},e.prototype.createHandles=function(){var t=this.globalToLocalPoint(this.begin("start")),e=this.globalToLocalPoint(this.center("center")),n=this.globalToLocalPoint(this.end("end"));return this.generateHandles([t,e,n])},e.prototype.moveHandle=function(t,e){switch(t.myName){case"start":this.setStart(e);break;case"end":this.setFinish(e);break;case"center":this.moveTo(e)}},e.prototype.render=function(t,e){void 0===e&&(e=!0),t.save(),this.updateContext(t),this.preDraw&&this.preDraw(t),this.draw(t),this.drawHover&&this.drawHover(t),this.postDraw&&this.postDraw(t),this.isSelected&&this.drawSelected(t),e&&this._subcomponents.forEach(function(n){n.render(t,e)}),t.restore()},e.prototype.drawOutline=function(t){t.beginPath(),t.setLineDash([15,5]),t.lineWidth=this.thickness||4;var e=this.globalToLocalPoint(this.begin()),n=e.x,r=e.y,i=this.globalToLocalPoint(this.end()),o=i.x,a=i.y;t.beginPath(),t.moveTo(n,r),t.lineTo(o,a),t.stroke()},e.prototype.drawHandles=function(e){this.createHandles(),t.prototype.drawHandles.call(this,e)},e}(Fm);Dh.define(Vm);var Gm=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hm=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.pinX=function(){return.5*i.width},i.pinY=function(){return.5*i.height},i.drawSelected=function(t){t.strokeStyle="red",t.lineWidth=1,i.drawOutline(t),i.drawPin(t)},i.draw=function(t){var e=i.margin&&i.margin.left||0,n=i.margin&&i.margin.top||0;t.save(),i.background&&(t.fillStyle=i.background,t.fillRect(0,0,i.width,i.height)),t.restore(),t.fillStyle=i.color,t.fillText(i.text,i.pinX()+e,i.pinY()+n)},i.extend({text:function(){return this.context&&this.context.text?this.context.text:this.context&&Oh.isObject(this.context)?JSON.stringify(this.context,void 0,3):this.context}}),i}return Gm(e,t),Object.defineProperty(e.prototype,"background",{get:function(){return this._background},set:function(t){this._background=t},enumerable:!0,configurable:!0}),e.prototype.toJson=function(){return Oh.mixin(t.prototype.toJson.call(this),{text:this.text})},e.prototype.render=function(t,e){void 0===e&&(e=!0),t.save(),t.textAlign=this.textAlign||"center",t.textBaseline=this.textBaseline||"middle";var n=this.fontSize||12;t.font=this.font||n+"px Georgia";var r=t.measureText(this.text);this.width=r.width+(this.margin&&this.margin.width||0),this.height=n+(this.margin&&this.margin.height||0),this.updateContext(t),this.preDraw&&this.preDraw(t),this.draw(t),this.drawHover&&this.drawHover(t),this.postDraw&&this.postDraw(t),this.isSelected&&this.drawSelected(t),e&&this._subcomponents.forEach(function(n){n.render(t,e)}),t.restore()},e.prototype.drawOutline=function(t){t.beginPath(),t.setLineDash([15,5]),t.rect(0,0,this.width,this.height),t.stroke()},e.prototype.drawSample=function(t){t.translate(-10,25),t.scale(1.2,.8),t.rotate(5*Math.PI/180),t.textBaseline="top",t.font="32pt Arial",t.fillStyle="orange",t.fillText("fillText",22,22),t.fillStyle="red",t.fillText("fillText",20,20),t.strokeStyle="blue",t.strokeText("strokeText",20,80)},e.prototype.drawTextBG=function(t,e,n,r,i){t.save(),t.font=n,t.textBaseline="top",t.fillStyle="#f50";var o=t.measureText(e).width;t.fillRect(r,i,o,parseInt(n,10)),t.fillStyle="#000",t.fillText(e,r,i),t.restore()},e.prototype.drawMultiLineText=function(t,e){t.measureText(e),t.textAlign="left",t.textBaseline="top",t.font="48px serif",t.font="20px Georgia",t.font="italic 10pt Courier",t.font="bold 10pt Courier",t.font="italic bold 10pt Courier";for(var n=e.split("|"),r=20,i=0;i<n.length;i++)t.fillText(n[i],10,r),r+=64},e}(Fm);Dh.define(Hm);var Wm=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xm=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i._loaded=!1,i.pinX=function(){return.5*i.width},i.pinY=function(){return.5*i.height},i.drawSelected=function(t){t.strokeStyle="red",t.lineWidth=1,i.drawOutline(t),i.drawPin(t)},i.draw=function(t){var e=i.margin&&i.margin.left||0,n=i.margin&&i.margin.top||0;if(t.save(),i.background){var r=i.width+(i.margin&&i.margin.width||0),o=i.height+(i.margin&&i.margin.height||0);t.fillStyle=i.background,t.fillRect(0,0,r,o)}t.restore(),i._loaded&&t.drawImage(i._image,e,n,i.width,i.height)},i}return Wm(e,t),Object.defineProperty(e.prototype,"imageURL",{get:function(){return this._imageURL},set:function(t){var e=this;this._loaded=!1,this._imageURL=t,this._image=new Image,this._image.onload=function(){e._loaded=!0},this._image.src=this._imageURL},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"background",{get:function(){return this._background},set:function(t){this._background=t},enumerable:!0,configurable:!0}),e.prototype.toJson=function(){return Oh.mixin(t.prototype.toJson.call(this),{background:this.background,imageURL:this.imageURL,margin:this.margin})},e.prototype.override=function(e){if(e&&e.margin){var n=e.margin;e.margin=new Am(n.left,n.top,n.right,n.bottom)}return t.prototype.override.call(this,e)},e.prototype.render=function(t,e){void 0===e&&(e=!0),t.save(),this.updateContext(t),this.preDraw&&this.preDraw(t),this.draw(t),this.drawHover&&this.drawHover(t),this.postDraw&&this.postDraw(t),this.isSelected&&this.drawSelected(t),e&&this._subcomponents.forEach(function(n){n.render(t,e)}),t.restore()},e.prototype.drawOutline=function(t){var e=this.width+(this.margin&&this.margin.width||0),n=this.height+(this.margin&&this.margin.height||0);t.beginPath(),t.setLineDash([15,5]),t.rect(0,0,e,n),t.stroke()},e}(Fm);Dh.define(Xm);var qm=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ym=function(t){function e(e){var n=t.call(this,e)||this;return n.size="0:0",n.doAnimation=function(){},n.postDraw=function(t){n.drawPin(t)},n.description=n.myType,n.override({height:function(){return 25*parseInt(this.size.split(":")[1])},width:function(){return 25*parseInt(this.size.split(":")[0])}}),n}return qm(e,t),e.prototype.render=function(e,n){void 0===n&&(n=!0),this.doAnimation(),t.prototype.render.call(this,e,n)},e}(Fm),Zm=function(t){function e(e){var n=t.call(this,e)||this;return n.size="1:1",n}return qm(e,t),e}(Ym),Km=function(t){function e(e){var n=t.call(this,e)||this;return n.size="2:1",n}return qm(e,t),e}(Ym),Qm=function(t){function e(e){var n=t.call(this,e)||this;return n.pinX=function(){return 0*n.width/2},n.pinY=function(){return 0*n.height/2},n.size="2:2",n}return qm(e,t),e}(Ym),Jm=function(t){function e(e){var n=t.call(this,e)||this;return n.pinX=function(){return 0*n.width/2},n.pinY=function(){return 1*n.height/2},n.size="2:4",n}return qm(e,t),e}(Ym),$m=function(t){function e(e){var n=t.call(this,e)||this;return n.size="1:10",n}return qm(e,t),e}(Ym),tg=function(t){function e(e){var n=t.call(this,e)||this;return n.size="10:10",n}return qm(e,t),e}(Ym),eg=function(t){function e(e){var n=t.call(this,e)||this;return n.draw=function(t){var e=n.pinLocation();t.save(),t.beginPath(),t.arc(e.x,e.y,n.width/2,0,2*Math.PI),t.fillStyle=n.color,t.fill(),t.restore()},n.size="3:3",n}return qm(e,t),e.prototype.createHandles=function(){var t=Math.PI/180,e=this.width/2,n=this.height/2,r=e*Math.cos(45*t),i=n*Math.cos(45*t);return this.generateHandles([{x:e-r,y:n-i,myName:"0:0"},{x:e+r,y:n-i,myName:"W:0"},{x:e+r,y:n+i,myName:"W:H"},{x:e-r,y:n+i,myName:"0:H"}])},e.prototype.drawOutline=function(t){var e=this.pinLocation();t.beginPath(),t.setLineDash([15,5]),t.beginPath(),t.arc(e.x,e.y,this.width/2,0,2*Math.PI),t.stroke()},e}(Ym),ng=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rg=function(t){function e(e){var n=t.call(this,e)||this;return n.gravity=.03,n.doAnimation=function(){n.vy+=n.gravity,n.x+=n.vx,n.y+=n.vy,(n.isOffCanvasX||n.isOffCanvasY)&&n.doReset()},n.drawRect=function(t){t.fillStyle=n.color,t.globalAlpha=n.opacity,n.angle+=1,n.angle=n.angle%360,t.fillRect(0,0,n.width,n.height)},n.drawCircle=function(t){var e=n.pinLocation();t.beginPath(),t.arc(e.x,e.y,n.width/2,0,2*Math.PI),t.fillStyle=n.color,t.globalAlpha=n.opacity,t.fill()},n.width=10,n.height=10,n.color=Oh.randomRGBColor(),n}return ng(e,t),e.prototype.render=function(t,e){void 0===e&&(e=!0),this.doAnimation(),t.save(),this.updateContext(t),this.draw(t),t.restore()},e.prototype.doReset=function(){var t=this.myParent();return this.vx=4*Math.random()-2,this.vy=-4*Math.random()-2,this.x=t.width/2,this.y=t.height,this.draw=Math.random()>.5?this.drawCircle:this.drawRect,this},Object.defineProperty(e.prototype,"isOffCanvasX",{get:function(){var t=this.myParent();return this.x>t.width||this.x<0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOffCanvasY",{get:function(){var t=this.myParent();return this.y>t.height||this.y<0},enumerable:!0,configurable:!0}),e}(Fm),ig=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ng(e,t),e.prototype.doStart=function(){for(var t=tm.define("particle",rg),e=0;e<this.particleCount;e++)t.newInstance().addAsSubcomponent(this).doReset()},e.prototype.doStop=function(){this.nodes.clearAll()},e.prototype.doRotate=function(){this.angle+=30},e}(Fm);Dh.define(ig);var og=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ag=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.snapToPixel=!1,i._scaleX=1,i._scaleY=1,i.hitTestWithDraw=function(t,e){e.setTransform(1,0,0,1,-t.x,-t.y),i.draw(e);var n=i._testHit(e);return e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,2,2),n},i}return og(e,t),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this._scaleX||1},set:function(t){this.smash(),this._scaleX=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this._scaleY||1},set:function(t){this.smash(),this._scaleY=t},enumerable:!0,configurable:!0}),e.prototype.updateContext=function(t){var n=this.getMatrix(),r=n.tx,i=n.ty;e.snapToPixelEnabled&&this.snapToPixel&&(r=r+(r<0?-.5:.5)|0,i=i+(i<0?-.5:.5)|0),t.transform(n.a,n.b,n.c,n.d,r,i),t.globalAlpha*=this.opacity},e.prototype.getMatrix=function(){return void 0===this._matrix&&(this._matrix=new Pm,this._matrix.appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation(),0,0,this.pinX(),this.pinY())),this._matrix},e.prototype._testHit=function(t){try{return t.getImageData(0,0,1,1).data[3]>1}catch(t){throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}},e.prototype.getBounds=function(){return this._bounds},e.prototype.clearBounds=function(){return this._bounds=void 0,this._bounds},e.prototype.setBounds=function(t,e,n,r){return this._bounds=this._bounds||new Em(t,e,n,r),this._bounds},e.prototype.getTransformedBounds=function(){return this._getBounds()},e.prototype._getBounds=function(t,e){return this._transformBounds(this.getBounds(),t,e)},e.prototype._transformBounds=function(t,e,n){if(!t)return t;var r=t.x,i=t.y,o=t.width,a=t.height,s=this.getMatrix();(r||i)&&s.appendTransform(0,0,1,1,0,0,0,-r,-i),e&&s.prependMatrix(e);var u=o*s.a,l=o*s.b,c=a*s.c,h=a*s.d,f=s.tx,p=s.ty,d=f,m=f,g=p,y=p;return(r=u+f)<d?d=r:r>m&&(m=r),(r=u+c+f)<d?d=r:r>m&&(m=r),(r=c+f)<d?d=r:r>m&&(m=r),(i=l+p)<g?g=i:i>y&&(y=i),(i=l+h+p)<g?g=i:i>y&&(y=i),(i=h+p)<g?g=i:i>y&&(y=i),t.set(d,g,m-d,y-g)},e.snapToPixelEnabled=!1,e}(Fm),sg=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ug=function(t){function e(e){var n=t.call(this,e)||this;return n.doAnimation=function(){},n}return sg(e,t),e.prototype.render=function(e,n){void 0===n&&(n=!0),this.doAnimation(),t.prototype.render.call(this,e,n)},e}(ag),lg=function(t){function e(e){var n=t.call(this,e)||this;return n.pinX=function(){return.5*n.width},n.pinY=function(){return.5*n.height},n.postDraw=function(t){n.drawPin(t)},n.width=50,n.height=25,n.color="green",n.opacity=.8,n}return sg(e,t),e}(ug),cg=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cg(e,t),e}(Vm);Dh.define(hg);var fg=function(t){function e(e,n){var r=t.call(this)||this;return r.signalR=e,r.http=n,r.pageWidth=1200,r.pageHeight=1e3,r.message=[],r.screen2D=new Cm,r}return cg(e,t),e.prototype.doClear=function(){this.clearAll(),this.message=[],this.signalR.pubCommand("clearAll",{})},e.prototype.doUndo=function(){},e.prototype.doDelete=function(){var t=this;this.deleteSelected(function(e){t.signalR.pubCommand("deleteShape",{guid:e.myGuid})})},e.prototype.doDuplicate=function(){},e.prototype.doVert=function(){var t=new Sm(100,150);this.layoutSubcomponentsVertical(!1,2).nodes.forEach(function(e){e.moveBy(t)})},e.prototype.doHorz=function(){var t=new Sm(100,150);this.layoutSubcomponentsHorizontal(!1,2).nodes.forEach(function(e){e.moveBy(t)})},e.prototype.addEventHooks=function(){var t=this;this.onItemHoverEnter=function(e,n,r){t.message=[],t.message.push("Hover ("+e.x+","+e.y+") Enter"),n&&t.message.push(n.globalToLocal(e.x,e.y)),t.message.push(n),n&&(n.drawHover=function(t){t.strokeStyle="yellow",t.lineWidth=4,n.drawOutline(t)})},this.onItemHoverExit=function(e,n,r){t.message=[],t.message.push("Hover ("+e.x+","+e.y+") Exit"),n&&t.message.push(n.globalToLocal(e.x,e.y)),t.message.push(n),n&&(n.drawHover=void 0)},this.onItemOverlapEnter=function(e,n,r,i){t.message=[],t.message.push("Overlap ("+e.x+","+e.y+") Enter"),n&&t.message.push(n.globalToLocal(e.x,e.y)),t.message.push(n),r&&(r.drawHover=function(t){t.strokeStyle="green",t.lineWidth=8,r.drawOutline(t),t.strokeStyle="yellow",t.lineWidth=4,r.drawOutline(t)})},this.onItemOverlapExit=function(e,n,r,i){t.message=[],t.message.push("Overlap ("+e.x+","+e.y+") Exit"),n&&t.message.push(n.globalToLocal(e.x,e.y)),t.message.push(n),r&&(r.drawHover=void 0)},this.onHandleHoverEnter=function(e,n,r){t.message=[],t.message.push("Handle Hover ("+e.x+","+e.y+") Enter "+(n&&n.myName)),n&&t.message.push(n.globalToLocal(e.x,e.y))},this.onTrackHandles=function(e,n,r){t.message=[],n.forEach(function(n){t.message.push("onTrackHandles ("+e.x+","+e.y+") Move "+(n&&n.myName)),n&&t.message.push(n.globalToLocal(e.x,e.y))})},this.onHandleMoving=function(e,n,r){t.message=[],t.message.push("Handle Hover ("+e.x+","+e.y+") Move "+(n&&n.myName)),n&&t.message.push(n.globalToLocal(e.x,e.y))},this.onHandleHoverExit=function(e,n,r){t.message=[],t.message.push("Handle Hover ("+e.x+","+e.y+") Exit "+(n&&n.myName)),n&&t.message.push(n.globalToLocal(e.x,e.y))}},e.prototype.ngOnInit=function(){var t=this;this.addEventHooks(),this.onItemChangedParent=function(e){t.signalR.pubCommand("syncParent",{guid:e.myGuid,parentGuid:e.myParent().myGuid})},this.onItemChangedPosition=function(e){t.signalR.pubCommand("moveShape",{guid:e.myGuid},e.getLocation())},this.onMouseLocationChanged=function(e,n,r){t.mouseLoc=e,t.mouseLoc.state=n,t.mouseLoc.keys=r},tm.define("lego",eg),tm.define("lego",Zm),tm.define("lego",Km,{color:"coral"}),tm.define("lego",Qm,{width:50,height:50}),tm.define("lego",Jm),tm.define("lego",$m),tm.define("lego",tg,{width:250,height:250})},e.prototype.doParticleEngine=function(){new ig({color:"coral",particleCount:10,opacity:.1,width:100,height:200}).drop(300,300).addAsSubcomponent(this).then(function(t){t.doStart()});var t=tm.define("particle",ig,{color:"white",particleCount:100,opacity:.1,width:700,height:700}).addCommands("doStart","doStop").addCommands("doRotate");this.signalR.pubCommand("syncStencil",{myName:t.myName},t);var e=t.newInstance().drop(500,500).addAsSubcomponent(this).then(function(t){t.doStart()});this.signalR.pubCommand("syncShape",{guid:e.myGuid},e.asJson)},e.prototype.doLoadConcept=function(){var t=this;Kh.define("boundry::shape1",Fm,{color:"gray",width:50,height:25}),Kh.define("boundry::block",Fm,{color:"green",width:100,height:50}),Kh.define("boundry::text",Hm,{color:"black",background:"grey",context:"HELLO",fontSize:30}),Kh.define("boundry::boundry",Fm,{color:"cyan",width:100,height:50}),Ih.Pub("onKnowledgeChanged"),Kh.allConceptItems().forEach(function(e){var n=e.concept;t.signalR.pubCommand("syncConcept",{guid:n.myGuid},n.asJson)})},e.prototype.doBoundry=function(){for(var t=Kh.find("boundry::text"),e=Kh.find("boundry::block"),n=Kh.find("boundry::boundry").newInstance().drop(this.centerX,this.centerY).addAsSubcomponent(this),r=function(){for(var r=e.newInstance({width:10+10*i,height:10+10*i}).addAsSubcomponent(n),o=0;o<4;o++)t.newInstance({context:"test "+o}).addAsSubcomponent(r);r.wait(10,function(){return r.layoutSubcomponentsVertical(!0,10)})},i=0;i<3;i++)r();n.wait(10,function(){return n.layoutSubcomponentsHorizontal(!0,10)}),this.signalR.pubCommand("syncShape",{guid:n.myGuid},n.asJson)},e.prototype.doImage=function(){for(var t=this,e=Kh.define("blocks::block2d",Xm,{background:"green",imageURL:"https://lorempixel.com/900/500?r=2",width:100,height:50}),n=0;n<15;n++)this.wait(500,function(){var n=e.newInstance().addAsSubcomponent(t);n.angle=Oh.randomInt(0,300),t.signalR.pubCommand("syncShape",{guid:n.myGuid},n.asJson);var r={x:800+Oh.randomInt(-70,70),y:200+Oh.randomInt(-70,70)};n.easeTween(r,1.5),t.signalR.pubCommand("easeTween",{guid:n.myGuid},r)});var r=new Xm({background:"blue",margin:new Am(10,10,10,10),width:80,height:80,imageURL:"http://backyardnaturalist.ca/wp-content/uploads/2011/06/goldfinch-feeder.jpg",angle:Oh.randomInt(-30,30)}).drop(330,330).addAsSubcomponent(this);this.signalR.pubCommand("syncShape",{guid:r.myGuid},r.asJson);var i={width:200,height:200};r.easeTween(i,2.8,Lm.Back.easeInOut),this.signalR.pubCommand("easeTween",{guid:r.myGuid,ease:"easeInOut",time:2.8},i)},e.prototype.doBlocks=function(){for(var t=Kh.define("blocks::block2d",Fm,{color:"green",width:100,height:50}),e=Kh.define("words::text2d",Hm,{color:"black",background:"yellow",context:"HELLO",width:100,height:50}),n=0;n<5;n++)t.newInstance({width:10+10*n,height:10+10*n}).drop(100,100).addAsSubcomponent(this);for(n=0;n<5;n++)e.newInstance({width:10+10*n,fontSize:10+10*n}).drop(100,300).addAsSubcomponent(this)},e.prototype.doDocker=function(){var t=this,e=(Kh.define("text::block",Hm,{color:"green",fontSize:20}),Kh.define("text::attribute",Hm,{color:"red",background:"white",fontSize:20})),n=Kh.define("text::formula",Hm,{color:"gray",background:"white",fontSize:20}),r=Kh.define("text::concept",Hm,{color:"blue",background:"yellow",fontSize:20}),i=Kh.define("text::body",Fm,{color:"cyan",fontSize:30});this.http.get("assets/caas.json").subscribe(function(o){var a=o.json(),s=i.newInstance({context:a.categories}).drop(100,200).addAsSubcomponent(t);setTimeout(function(){s.layoutSubcomponentsVertical()},10),a.containers.forEach(function(i){var o=r.newInstance({fontSize:30,context:"Container"}).addAsSubcomponent(t);Oh.forEachKeyValue(i,function(t,r){var i=e.newInstance({context:t,text:function(){return this.context+" : "}}).addAsSubcomponent(o);n.newInstance({context:r,text:function(){return this.context}}).addAsSubcomponent(i),setTimeout(function(){i.layoutMarginRight()},10)}),setTimeout(function(){o.layoutMarginTop()},10)}),setTimeout(function(){t.layoutSubcomponentsVertical(!1)},10)})},e.prototype.doText=function(){var t=this,e=Kh.define("text::block",Hm,{color:"black",text:"Hello",background:"yellow",margin:new Am(0,0,0,0)});this.signalR.pubCommand("syncConcept",{guid:e.myGuid},e.asJson),Kh.define("text::wire",Vm,{color:"green",thickness:1});var n=[],r=100,i=8;["Steve","Stu","Don","Linda","Anne","Debra","Evan"].forEach(function(o){var a=e.newInstance({text:"Hello "+o,fontSize:i+=4}).drop(350,r).addAsSubcomponent(t);r+=50,t.signalR.pubCommand("syncShape",{guid:a.myGuid},a.asJson),n.push(a)}),n.forEach(function(e){t.signalR.pubCommand("moveShape",{guid:e.myGuid},e.getLocation())})},e.prototype.doAddGlyph=function(){var t=Dh.create(Dm,{color:"cyan",x:150,y:100,height:150,width:200}).addAsSubcomponent(this);this.signalR.pubCommand("syncGlyph",{guid:t.myGuid},t.asJson)},e.prototype.doAddSubGlyph=function(){var t=Dh.create(Dm,{color:"purple",height:150,width:200}).addAsSubcomponent(this);this.signalR.pubCommand("syncGlyph",{guid:t.myGuid},t.asJson);var e=Dh.create(Dm,{color:"blue",x:25,y:25,height:50,width:300}).addAsSubcomponent(t);this.signalR.pubCommand("syncGlyph",{guid:e.myGuid},e.asJson),this.signalR.pubCommand("syncParent",{guid:e.myGuid,parentGuid:e.myParent().myGuid})},e.prototype.doAddThreeByThree=function(){var t=tm.define("my",eg,{color:"coral",x:400,y:400});this.signalR.pubCommand("syncStencil",{myName:t.myName},t);var e=t.newInstance().addAsSubcomponent(this);this.signalR.pubCommand("syncShape",{guid:e.myGuid},e.asJson)},e.prototype.doAddOneByOne=function(){var t=Dh.create(Zm,{color:"red",x:200,y:200});this.addSubcomponent(t),this.signalR.pubCommand("syncShape",{guid:t.myGuid},t.asJson)},e.prototype.doAddTwoByOne=function(){var t=Dh.create(Km,{color:"cyan"});this.addSubcomponent(t),this.signalR.pubCommand("syncShape",{guid:t.myGuid},t.asJson)},e.prototype.doAddTwoByTwo=function(){var t=Dh.create(Qm,{color:"pink",myName:"main shape"}).drop(200,200).addAsSubcomponent(this);this.signalR.pubCommand("syncShape",{guid:t.myGuid},t.asJson)},e.prototype.doAddTwoByFour=function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pinX=function(){return.5*e.width},e.pinY=function(){return.5*e.height},e}return cg(e,t),e}(Jm);Dh.define(e);var n={color:"green",angle:45};if(t)Dh.create(e,t).addAsSubcomponent(this);else{var r=Dh.create(e,n).drop(200,200).addAsSubcomponent(this);this.signalR.pubCommand("callMethod",{func:"doAddTwoByFour"},r.asJson)}},e.prototype.doAddOneByTen=function(){var t=Dh.create($m,{color:"yellow",Animation:function(){var t=this.angle+10;this.angle=t=t>=360?0:t}}).drop(500,500);this.addSubcomponent(t),this.signalR.pubCommand("syncShape",{guid:t.myGuid},t.asJson)},e.prototype.doAddTenByTen=function(){var t=Dh.create(tg,{color:"gray"}).drop(600,300);this.addSubcomponent(t),this.signalR.pubCommand("syncShape",{guid:t.myGuid},t.asJson)},e.prototype.doAddStack=function(t){var e=Dh.create(tg,{myGuid:t&&t.shape,opacity:.5,color:"gray",angle:10}).drop(600,300).addAsSubcomponent(this),n=Dh.create(Jm,{myGuid:t&&t.subShape,color:"red"}).addAsSubcomponent(e,{x:function(){return e.width/4},y:150,angle:0});n.doAnimation=function(){var t=this.angle+.5;this.angle=t=t>=360?0:t},!t&&this.signalR.pubCommand("callMethod",{func:"doAddStack"},{shape:e.myGuid,subShape:n.myGuid})},e.prototype.doShape1D=function(){var t={angle:Dm.RAD_TO_DEG*Math.atan2(100,200),length:Math.sqrt(5e4),cX:250,cY:150},e=Dh.create(Fm,{opacity:.5,color:"gray",angle:t.angle,width:t.length,height:20}).drop(400,400).addAsSubcomponent(this);this.signalR.pubCommand("syncShape",{guid:e.myGuid},e.asJson);var n=Dh.create(hg,{opacity:.5,color:"gray",startX:150,startY:100,finishX:350,finishY:200,height:20}).drop(400,300).addAsSubcomponent(this);this.signalR.pubCommand("syncShape",{guid:n.myGuid},n.asJson)},e.prototype.doShapeGlue=function(){var t=Dh.create(Km,{color:"cyan",opacity:.8}).drop(100,300,45).addAsSubcomponent(this);this.signalR.pubCommand("syncShape",{guid:t.myGuid},t.asJson);var e=Dh.create(Km,{color:"cyan",opacity:.8}).drop(300,400).addAsSubcomponent(this);e.pinX=function(){return 0},this.signalR.pubCommand("syncShape",{guid:e.myGuid},e.asJson);var n=t.localToGlobal(t.pinX(),t.pinY()),r=e.localToGlobal(e.pinX(),e.pinY()),i=(n.midpoint(r),Dh.create(hg,{opacity:.5,color:"gray",height:30,startX:n.x,startY:n.y,finishX:r.x,finishY:r.y}).drop(600,350).addAsSubcomponent(this));this.signalR.pubCommand("syncShape",{guid:i.myGuid},i.asJson);var o=Dh.create(hg,{opacity:.5,height:30,startX:n.x,startY:n.y,finishX:r.x,finishY:r.y,color:"black"}).addAsSubcomponent(this);this.signalR.pubCommand("syncShape",{guid:o.myGuid},o.asJson),this.signalR.pubCommand("syncGlue",o.createGlue("begin",t).asJson),this.signalR.pubCommand("syncGlue",o.createGlue("end",e).asJson)},e.prototype.doObjGlue=function(){var t=this,e=Dh.create(hg,{opacity:.5,height:20,color:"black"}).drop(400,400).addAsSubcomponent(this);this.signalR.pubCommand("syncShape",{guid:e.myGuid},e.asJson);var n=Dh.create(lg).addAsSubcomponent(this),r=Dh.create(lg).addAsSubcomponent(this);r.pinX=function(){return 0},e.createGlue("begin",n),e.createGlue("end",r),n.drop(100,200,30),r.drop(400,250),this.signalR.pubCommand("syncShape",{guid:n.myGuid},n.asJson),this.signalR.pubCommand("syncShape",{guid:r.myGuid},r.asJson),e.glue.forEach(function(e){t.signalR.pubCommand("syncGlue",e.asJson)})},e.prototype.doObjRect=function(){var t=Dh.create(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pinX=function(){return 0*e.width},e.pinY=function(){return.5*e.height},e.Animation=function(){var t=e.angle+.5;e.angle=t=t>=360?0:t},e}return cg(e,t),e}(ug),{color:"blue",width:150,height:100}).drop(300,300,0).then(function(t){t.doAnimation=t.Animation,t.isSelected=!0}).addAsSubcomponent(this);this.signalR.pubCommand("syncDisp",{guid:t.myGuid},t.asJson)},e.prototype.doObjGroup=function(){var t=Dh.create(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pinX=function(){return 50},e}return cg(e,t),e}(ug),{color:"purple",myName:"root  dRectangle",width:300,height:100}).drop(150,150,0);this.addSubcomponent(t),this.signalR.pubCommand("syncDisp",{guid:t.myGuid},t.asJson);var e=Dh.create(ug,{color:"blue",myName:"blue  child",width:50,height:100}).addAsSubcomponent(t).drop(100,50);e.doAnimation=function(){var t=this.angle+.5;this.angle=t=t>=360?0:t},t.doAnimation=e.doAnimation},e.prototype.ngAfterViewInit=function(){var t=this;this.width=this.pageWidth,this.height=this.pageHeight,this.screen2D.setRoot(this.canvasRef.nativeElement,this.pageWidth,this.pageHeight),this.screen2D.render=function(e){e.save(),t.render(e),e.restore()},this.screen2D.go(),this.signalR.start().then(function(){t.signalR.subCommand("moveShape",function(e,n){t.found(e.guid,function(t){t.easeTo(n.x,n.y,.8,Lm.Back.easeInOut)})}),t.signalR.subCommand("deleteShape",function(e,n){t.found(e.guid,function(e){t.removeSubcomponent(e)})}),t.signalR.subCommand("clearAll",function(e,n){t.clearAll(),t.message=[]}),t.signalR.subCommand("syncParent",function(e,n){t.found(e.guid,function(n){e.parentGuid?t.found(e.parentGuid,function(t){n.removeFromParent(),t.addSubcomponent(n)}):(n.removeFromParent(),t.addSubcomponent(n))})}),t.signalR.subCommand("syncStencil",function(t,e){tm.override(e)}),t.signalR.subCommand("syncConcept",function(t,e){Kh.override(e)}),t.signalR.subCommand("syncGlyph",function(e,n){t.findItem(e.guid,function(){Dh.create(Dm,n).addAsSubcomponent(t)})}),t.signalR.subCommand("syncShape",function(e,n){t.findItem(e.guid,function(){var r=n.myClass?tm.newInstance(n.myClass,n):Dh.newInstance(n.myType,n);t.found(e.parentGuid,function(t){t.addSubcomponent(r)},function(e){t.addSubcomponent(r)})},function(t){t.override(n)})}),t.signalR.subCommand("easeTween",function(e,n){t.found(e.guid,function(t){t.easeTween(n,e.time,Lm.Back[e.ease])})}),t.signalR.subCommand("callMethod",function(e,n){var r=e.func;r&&t[r](n)}),t.signalR.subCommand("syncDisp",function(e,n){t.findItem(e.guid,function(){var r=Dh.newInstance(n.myType,n);t.found(e.parentGuid,function(t){t.addSubcomponent(r)},function(e){t.addSubcomponent(r)})})}),t.signalR.subCommand("syncGlue",function(e,n){t.found(e.sourceGuid,function(n){t.found(e.targetGuid,function(t){n.createGlue(e.sourceHandle,t),t.drop()})})})})},e}(Bm),pg=n("6Xbx"),dg=n("AP4T"),mg=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),gg=function(){var t={Get:0,Post:1,Put:2,Delete:3,Options:4,Head:5,Patch:6};return t[t.Get]="Get",t[t.Post]="Post",t[t.Put]="Put",t[t.Delete]="Delete",t[t.Options]="Options",t[t.Head]="Head",t[t.Patch]="Patch",t}(),yg=function(){var t={Basic:0,Cors:1,Default:2,Error:3,Opaque:4};return t[t.Basic]="Basic",t[t.Cors]="Cors",t[t.Default]="Default",t[t.Error]="Error",t[t.Opaque]="Opaque",t}(),vg=function(){var t={NONE:0,JSON:1,FORM:2,FORM_DATA:3,TEXT:4,BLOB:5,ARRAY_BUFFER:6};return t[t.NONE]="NONE",t[t.JSON]="JSON",t[t.FORM]="FORM",t[t.FORM_DATA]="FORM_DATA",t[t.TEXT]="TEXT",t[t.BLOB]="BLOB",t[t.ARRAY_BUFFER]="ARRAY_BUFFER",t}(),_g=function(){var t={Text:0,Json:1,ArrayBuffer:2,Blob:3};return t[t.Text]="Text",t[t.Json]="Json",t[t.ArrayBuffer]="ArrayBuffer",t[t.Blob]="Blob",t}(),bg=function(){function t(e){var n=this;this._headers=new Map,this._normalizedNames=new Map,e&&(e instanceof t?e.forEach(function(t,e){t.forEach(function(t){return n.append(e,t)})}):Object.keys(e).forEach(function(t){var r=Array.isArray(e[t])?e[t]:[e[t]];n.delete(t),r.forEach(function(e){return n.append(t,e)})}))}return t.fromResponseHeaderString=function(e){var n=new t;return e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=t.slice(e+1).trim();n.set(r,i)}}),n},t.prototype.append=function(t,e){var n=this.getAll(t);null===n?this.set(t,e):n.push(e)},t.prototype.delete=function(t){var e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)},t.prototype.forEach=function(t){var e=this;this._headers.forEach(function(n,r){return t(n,e._normalizedNames.get(r),e._headers)})},t.prototype.get=function(t){var e=this.getAll(t);return null===e?null:e.length>0?e[0]:null},t.prototype.has=function(t){return this._headers.has(t.toLowerCase())},t.prototype.keys=function(){return Array.from(this._normalizedNames.values())},t.prototype.set=function(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)},t.prototype.values=function(){return Array.from(this._headers.values())},t.prototype.toJSON=function(){var t=this,e={};return this._headers.forEach(function(n,r){var i=[];n.forEach(function(t){return i.push.apply(i,t.split(","))}),e[t._normalizedNames.get(r)]=i}),e},t.prototype.getAll=function(t){return this.has(t)?this._headers.get(t.toLowerCase())||null:null},t.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},t.prototype.mayBeSetNormalizedName=function(t){var e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)},t}(),wg=function(){function t(t){void 0===t&&(t={});var e=t.body,n=t.status,r=t.headers,i=t.statusText,o=t.type,a=t.url;this.body=null!=e?e:null,this.status=null!=n?n:null,this.headers=null!=r?r:null,this.statusText=null!=i?i:null,this.type=null!=o?o:null,this.url=null!=a?a:null}return t.prototype.merge=function(e){return new t({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})},t}(),xg=function(t){function e(){return t.call(this,{status:200,statusText:"Ok",type:yg.Default,headers:new bg})||this}return Object(pg.b)(e,t),e}(wg),Tg=function(){},Sg=function(t){return t>=200&&t<300},Eg=function(){function t(){}return t.prototype.encodeKey=function(t){return _i(t)},t.prototype.encodeValue=function(t){return _i(t)},t}(),Mg=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=new Eg),this.rawParams=t,this.queryEncoder=e,this.paramsMap=function(t){void 0===t&&(t="");var e=new Map;return t.length>0&&t.split("&").forEach(function(t){var n=t.indexOf("="),r=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)],i=r[0],o=r[1],a=e.get(i)||[];a.push(o),e.set(i,a)}),e}(t)}return t.prototype.clone=function(){var e=new t("",this.queryEncoder);return e.appendAll(this),e},t.prototype.has=function(t){return this.paramsMap.has(t)},t.prototype.get=function(t){var e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null},t.prototype.getAll=function(t){return this.paramsMap.get(t)||[]},t.prototype.set=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)}else this.delete(t)},t.prototype.setAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0,r.push(t[0]),e.paramsMap.set(n,r)})},t.prototype.append=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}},t.prototype.appendAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){for(var r=e.paramsMap.get(n)||[],i=0;i<t.length;++i)r.push(t[i]);e.paramsMap.set(n,r)})},t.prototype.replaceAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var r=e.paramsMap.get(n)||[];r.length=0;for(var i=0;i<t.length;++i)r.push(t[i]);e.paramsMap.set(n,r)})},t.prototype.toString=function(){var t=this,e=[];return this.paramsMap.forEach(function(n,r){n.forEach(function(n){return e.push(t.queryEncoder.encodeKey(r)+"="+t.queryEncoder.encodeValue(n))})}),e.join("&")},t.prototype.delete=function(t){this.paramsMap.delete(t)},t}(),Ag=function(){function t(){}return t.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},t.prototype.text=function(t){if(void 0===t&&(t="legacy"),this._body instanceof Mg)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(t){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+t)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},t.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:function(t){for(var e=new Uint16Array(t.length),n=0,r=t.length;n<r;n++)e[n]=t.charCodeAt(n);return e.buffer}(this.text())},t.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},t}(),Cg=function(t){function e(e){var n=t.call(this)||this;return n._body=e.body,n.status=e.status,n.ok=n.status>=200&&n.status<=299,n.statusText=e.statusText,n.headers=e.headers,n.type=e.type,n.url=e.url,n}return Object(pg.b)(e,t),e.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},e}(Ag),Pg=/^\)\]\}',?\n/,Rg=function(){function t(t,e,n){var r=this;this.request=t,this.response=new dg.a(function(i){var o=e.build();o.open(gg[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(o.withCredentials=t.withCredentials);var a=function(){var e=1223===o.status?204:o.status,r=null;204!==e&&"string"==typeof(r="undefined"==typeof o.response?o.responseText:o.response)&&(r=r.replace(Pg,"")),0===e&&(e=r?200:0);var a=bg.fromResponseHeaderString(o.getAllResponseHeaders()),s=function(t){return"responseURL"in t?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||t.url,u=new wg({body:r,status:e,headers:a,statusText:o.statusText||"OK",url:s});null!=n&&(u=n.merge(u));var l=new Cg(u);if(l.ok=Sg(e),l.ok)return i.next(l),void i.complete();i.error(l)},s=function(t){var e=new wg({body:t,type:yg.Error,status:o.status,statusText:o.statusText});null!=n&&(e=n.merge(e)),i.error(new Cg(e))};if(r.setDetectedContentType(t,o),null==t.headers&&(t.headers=new bg),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach(function(t,e){return o.setRequestHeader(e,t.join(","))}),null!=t.responseType&&null!=o.responseType)switch(t.responseType){case _g.ArrayBuffer:o.responseType="arraybuffer";break;case _g.Json:o.responseType="json";break;case _g.Text:o.responseType="text";break;case _g.Blob:o.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return o.addEventListener("load",a),o.addEventListener("error",s),o.send(r.request.getBody()),function(){o.removeEventListener("load",a),o.removeEventListener("error",s),o.abort()}})}return t.prototype.setDetectedContentType=function(t,e){if(null==t.headers||null==t.headers.get("Content-Type"))switch(t.contentType){case vg.NONE:break;case vg.JSON:e.setRequestHeader("content-type","application/json");break;case vg.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case vg.TEXT:e.setRequestHeader("content-type","text/plain");break;case vg.BLOB:var n=t.blob();n.type&&e.setRequestHeader("content-type",n.type)}},t}(),Og=function(){function t(t,e){void 0===t&&(t="XSRF-TOKEN"),void 0===e&&(e="X-XSRF-TOKEN"),this._cookieName=t,this._headerName=e}return t.prototype.configureRequest=function(t){var e=Object(Ah["\u0275getDOM"])().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)},t}(),Lg=function(){function t(t,e,n){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=n}return t.prototype.createConnection=function(t){return this._xsrfStrategy.configureRequest(t),new Rg(t,this._browserXHR,this._baseResponseOptions)},t}(),kg=function(){function t(t){void 0===t&&(t={});var e=t.method,n=t.headers,r=t.body,i=t.url,o=t.search,a=t.params,s=t.withCredentials,u=t.responseType;this.method=null!=e?vi(e):null,this.headers=null!=n?n:null,this.body=null!=r?r:null,this.url=null!=i?i:null,this.params=this._mergeSearchParams(a||o),this.withCredentials=null!=s?s:null,this.responseType=null!=u?u:null}return Object.defineProperty(t.prototype,"search",{get:function(){return this.params},set:function(t){this.params=t},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){return new t({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new bg(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,params:e&&this._mergeSearchParams(e.params||e.search),withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})},t.prototype._mergeSearchParams=function(t){return t?t instanceof Mg?t.clone():"string"==typeof t?new Mg(t):this._parseParams(t):this.params},t.prototype._parseParams=function(t){var e=this;void 0===t&&(t={});var n=new Mg;return Object.keys(t).forEach(function(r){var i=t[r];Array.isArray(i)?i.forEach(function(t){return e._appendParam(r,t,n)}):e._appendParam(r,i,n)}),n},t.prototype._appendParam=function(t,e,n){"string"!=typeof e&&(e=JSON.stringify(e)),n.append(t,e)},t}(),Ng=function(t){function e(){return t.call(this,{method:gg.Get,headers:new bg})||this}return Object(pg.b)(e,t),e}(kg),Ig=function(t){function e(e){var n=t.call(this)||this,r=e.url;n.url=e.url;var i=e.params||e.search;if(i){var o=void 0;if((o="object"!=typeof i||i instanceof Mg?i.toString():function(t){var e=new Mg;return Object.keys(t).forEach(function(n){var r=t[n];r&&Array.isArray(r)?r.forEach(function(t){return e.append(n,t.toString())}):e.append(n,r.toString())}),e}(i).toString()).length>0){var a="?";-1!=n.url.indexOf("?")&&(a="&"==n.url[n.url.length-1]?"":"&"),n.url=r+a+o}}return n._body=e.body,n.method=vi(e.method),n.headers=new bg(e.headers),n.contentType=n.detectContentType(),n.withCredentials=e.withCredentials,n.responseType=e.responseType,n}return Object(pg.b)(e,t),e.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return vg.JSON;case"application/x-www-form-urlencoded":return vg.FORM;case"multipart/form-data":return vg.FORM_DATA;case"text/plain":case"text/html":return vg.TEXT;case"application/octet-stream":return this._body instanceof Bg?vg.ARRAY_BUFFER:vg.BLOB;default:return this.detectContentTypeFromBody()}},e.prototype.detectContentTypeFromBody=function(){return null==this._body?vg.NONE:this._body instanceof Mg?vg.FORM:this._body instanceof Fg?vg.FORM_DATA:this._body instanceof jg?vg.BLOB:this._body instanceof Bg?vg.ARRAY_BUFFER:this._body&&"object"==typeof this._body?vg.JSON:vg.TEXT},e.prototype.getBody=function(){switch(this.contentType){case vg.JSON:case vg.FORM:return this.text();case vg.FORM_DATA:return this._body;case vg.TEXT:return this.text();case vg.BLOB:return this.blob();case vg.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},e}(Ag),Dg=function(){},Ug="object"==typeof window?window:Dg,Fg=Ug.FormData||Dg,jg=Ug.Blob||Dg,Bg=Ug.ArrayBuffer||Dg,zg=function(){function t(t,e){this._backend=t,this._defaultOptions=e}return t.prototype.request=function(t,e){var n;if("string"==typeof t)n=bi(this._backend,new Ig(wi(this._defaultOptions,e,gg.Get,t)));else{if(!(t instanceof Ig))throw new Error("First argument must be a url string or Request instance.");n=bi(this._backend,t)}return n},t.prototype.get=function(t,e){return this.request(new Ig(wi(this._defaultOptions,e,gg.Get,t)))},t.prototype.post=function(t,e,n){return this.request(new Ig(wi(this._defaultOptions.merge(new kg({body:e})),n,gg.Post,t)))},t.prototype.put=function(t,e,n){return this.request(new Ig(wi(this._defaultOptions.merge(new kg({body:e})),n,gg.Put,t)))},t.prototype.delete=function(t,e){return this.request(new Ig(wi(this._defaultOptions,e,gg.Delete,t)))},t.prototype.patch=function(t,e,n){return this.request(new Ig(wi(this._defaultOptions.merge(new kg({body:e})),n,gg.Patch,t)))},t.prototype.head=function(t,e){return this.request(new Ig(wi(this._defaultOptions,e,gg.Head,t)))},t.prototype.options=function(t,e){return this.request(new Ig(wi(this._defaultOptions,e,gg.Options,t)))},t}(),Vg=function(){},Gg=_h["\u0275crt"]({encapsulation:2,styles:[],data:{}}),Hg=_h["\u0275ccf"]("foundry-stage",fg,function(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"foundry-stage",[],null,null,null,Si,Gg)),_h["\u0275did"](1,4308992,null,0,fg,[$h,zg],null,null)],function(t,e){t(e,1,0)},null)},{pageWidth:"pageWidth",pageHeight:"pageHeight"},{},[]),Wg=n("8ofh"),Xg=n("B1iP"),qg=n("NePw"),Yg=n("qLnt"),Zg=Object.prototype.toString;dg.a.fromEvent=function(t){function e(e,n,r,i){t.call(this),this.sourceObj=e,this.eventName=n,this.selector=r,this.options=i}return Object(pg.b)(e,t),e.create=function(t,n,r,i){return Object(Xg.a)(r)&&(i=r,r=void 0),new e(t,n,i,r)},e.setupSubscription=function(t,n,r,i,o){var a;if(t&&"[object NodeList]"===Zg.call(t)||t&&"[object HTMLCollection]"===Zg.call(t))for(var s=0,u=t.length;s<u;s++)e.setupSubscription(t[s],n,r,i,o);else if(t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener){var l=t;t.addEventListener(n,r,o),a=function(){return l.removeEventListener(n,r)}}else if(t&&"function"==typeof t.on&&"function"==typeof t.off){var c=t;t.on(n,r),a=function(){return c.off(n,r)}}else{if(!t||"function"!=typeof t.addListener||"function"!=typeof t.removeListener)throw new TypeError("Invalid event target");var h=t;t.addListener(n,r),a=function(){return h.removeListener(n,r)}}i.add(new Yg.a(a))},e.prototype._subscribe=function(t){var n=this.selector;e.setupSubscription(this.sourceObj,this.eventName,n?function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var i=Object(Wg.a)(n).apply(void 0,e);i===qg.a?t.error(qg.a.e):t.next(i)}:function(e){return t.next(e)},t,this.options)},e}(dg.a).create;var Kg=n("lI6h"),Qg=n("qgI0"),Jg=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new $g(t,this.notifier))},t}(),$g=function(t){function e(e,n){t.call(this,e),this.notifier=n,this.add(Object(Qg.a)(this,n))}return Object(pg.b)(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.complete()},e.prototype.notifyComplete=function(){},e}(Kg.a);dg.a.prototype.takeUntil=function(t){return function(t){return function(e){return e.lift(new Jg(t))}}(t)(this)};var ty=n("E9/g"),ey=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new ny(t))},t}(),ny=function(t){function e(e){t.call(this,e),this.hasPrev=!1}return Object(pg.b)(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(ty.a);dg.a.prototype.pairwise=function(){return function(t){return t.lift(new ey)}(this)};var ry=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new iy(t,this.project,this.resultSelector))},t}(),iy=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.resultSelector=r,this.index=0}return Object(pg.b)(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=Object(Qg.a)(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._tryNotifyNext(t,e,n,r):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e}(Kg.a);dg.a.prototype.switchMap=function(t,e){return function(t,e){return function(n){return n.lift(new ry(t,e))}}(t,e)(this)};var oy=function(){function t(){this.width=400,this.height=400}return t.prototype.ngAfterViewInit=function(){var t=this.canvas.nativeElement;this.cx=t.getContext("2d"),t.width=this.width,t.height=this.height,this.cx.lineWidth=3,this.cx.lineCap="round",this.cx.strokeStyle="#000",this.captureEvents(t)},t.prototype.captureEvents=function(t){var e=this;dg.a.fromEvent(t,"mousedown").switchMap(function(e){return dg.a.fromEvent(t,"mousemove").takeUntil(dg.a.fromEvent(t,"mouseup")).pairwise()}).subscribe(function(n){var r=t.getBoundingClientRect();e.drawOnCanvas({x:n[0].clientX-r.left,y:n[0].clientY-r.top},{x:n[1].clientX-r.left,y:n[1].clientY-r.top})})},t.prototype.drawOnCanvas=function(t,e){this.cx&&(this.cx.beginPath(),t&&(this.cx.moveTo(t.x,t.y),this.cx.lineTo(e.x,e.y),this.cx.stroke()))},t}(),ay=_h["\u0275crt"]({encapsulation:0,styles:["canvas[_ngcontent-%COMP%] { border: 1px solid #000; }"],data:{}}),sy=_h["\u0275ccf"]("app-testcanvas",oy,function(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"app-testcanvas",[],null,null,null,Ei,ay)),_h["\u0275did"](1,4243456,null,0,oy,[],null,null)],null,null)},{width:"width",height:"height"},{},[]),uy=function(){function t(){this.height=50,this.width=75,this.isSelected=!1,this.title="hello"}return t.prototype.ngOnInit=function(){},t.prototype.doClick=function(){},t}(),ly=_h["\u0275crt"]({encapsulation:0,styles:[["polyline[_ngcontent-%COMP%]{stroke:0;stroke-linejoin:butt;fill:#003565}polyline.orange[_ngcontent-%COMP%]{fill:#ff6400}text#display[_ngcontent-%COMP%]{font-family:verdana,sans-serif;font-size:120%;fill:#003565}rect#shape[_ngcontent-%COMP%]{stroke:#000;fill:#ff0}rect#select[_ngcontent-%COMP%]{stroke-width:4px;stroke:red;fill:none}"]],data:{}}),cy=_h["\u0275ccf"]("[foundry-circle]",uy,function(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"div",[["foundry-circle",""]],null,null,null,Ai,ly)),_h["\u0275did"](1,114688,null,0,uy,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),hy=function(){function t(t,e){this.vcr=t,this.resolve=e,this.SVGDocument=null,this.SVGDrawing=null,this.SVGRoot=null,this.TrueCoords=null,this.GrabPoint=null,this.BackDrop=null,this.DragTarget=null,this.circledata=[{height:20,width:50,isSelected:!1,title:"hello shapes"}]}return t.prototype.ngOnInit=function(){this.SVGDocument=this.vcr.element.nativeElement,this.SVGDrawing=this.SVGDocument.querySelector("#drawing"),this.SVGRoot=this.SVGDocument.querySelector("#page"),this.TrueCoords=this.SVGRoot.createSVGPoint(),this.GrabPoint=this.SVGRoot.createSVGPoint(),this.BackDrop=this.SVGRoot.getElementById("BackDrop")},t.prototype.addCircle=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g"),n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx","0"),n.setAttribute("cy","0"),n.setAttribute("r","50"),n.setAttribute("style","fill:red; "),e.appendChild(n),e.setAttribute("transform","translate(300,30)"),this.SVGRoot.appendChild(e)},t.prototype.addComponent=function(t){var e=this.resolve.resolveComponentFactory(uy),n=this._container.createComponent(e);setTimeout(function(){n.instance&&n.instance.hasOwnProperty("title")&&(n.instance.title="Hello Steve")},1e3)},t.prototype.Grab=function(t){var e=t.target;if(e=e.parentNode,this.BackDrop!=e){this.DragTarget=e,this.DragTarget.parentNode.appendChild(this.DragTarget),this.DragTarget.setAttributeNS(null,"pointer-events","none");var n=this.DragTarget.getCTM();this.GrabPoint.x=this.TrueCoords.x-Number(n.e),this.GrabPoint.y=this.TrueCoords.y-Number(n.f),console.log(" shape was hit X: "+t.offsetX+"  Y: "+t.offsetY)}else console.log(" backdrop was hit X: "+t.offsetX+"  Y: "+t.offsetY)},t.prototype.Drag=function(t){this.GetTrueCoords(t),this.DragTarget&&this.DragTarget.setAttributeNS(null,"transform","translate("+(this.TrueCoords.x-this.GrabPoint.x)+","+(this.TrueCoords.y-this.GrabPoint.y)+")")},t.prototype.Drop=function(t){if(this.DragTarget){var e=t.target;this.DragTarget.setAttributeNS(null,"pointer-events","all"),"Folder"==e.parentNode.id?(e.parentNode.appendChild(this.DragTarget),console.log(this.DragTarget.id+" has been dropped into a folder, and has been inserted as a child of the containing group.")):console.log(this.DragTarget.id+" has been dropped on top of "+e.id),this.DragTarget=null}},t.prototype.GetTrueCoords=function(t){var e=this.SVGRoot.currentScale,n=this.SVGRoot.currentTranslate;this.TrueCoords.x=(t.clientX-n.x)/e,this.TrueCoords.y=(t.clientY-n.y)/e},t}(),fy=_h["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),py=_h["\u0275ccf"]("foundry-test-svg",hy,function(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,16777216,null,null,1,"foundry-test-svg",[],null,null,null,Ci,fy)),_h["\u0275did"](1,114688,null,0,hy,[_h.ViewContainerRef,_h.ComponentFactoryResolver],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),dy=function(){function t(){this.graph={width:800,height:600},this.circles=[{x:15,y:10,r:3},{x:35,y:60,r:20},{x:55,y:10,r:4}]}return t.prototype.ngOnInit=function(){},t}(),my=_h["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),gy=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),yy=_h["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),vy=_h["\u0275ccf"]("foundry-treeview",gy,function(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"foundry-treeview",[],null,null,null,Oi,yy)),_h["\u0275did"](1,114688,null,0,gy,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),_y=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),by=_h["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),wy=_h["\u0275ccf"]("foundry-listview",_y,function(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"foundry-listview",[],null,null,null,Li,by)),_h["\u0275did"](1,114688,null,0,_y,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),xy=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ty=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return xy(e,t),e.prototype.init=function(t,e,n){var r=this;return this.myName=t&&t.myName?t.myName:"unknown",this.override(t),this._subcomponents=new Nh,e&&e.forEach(function(t){return r.addSubcomponent(t)}),this},e.prototype.subcomponents=function(){return new Nh(this._subcomponents.members).members},e}(Fh);Dh.define(Ty);var Sy=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ey=function(t){function e(e){var n=t.call(this,e)||this;return n.definePrimitive(My),n}return Sy(e,t),e}(qh),My=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.isSelected=!1,i}return Sy(e,t),e.prototype.makeTransform=function(t,e,n){return void 0===n&&(n=0),n?"translate("+t+","+e+") scale ("+n+")":"translate("+t+","+e+")"},e.prototype.translate=function(t){return this.nativeElement=t||this.nativeElement,this.makeTransform(this.pinX,this.pinY)},e.prototype.refresh=function(){this.nativeElement&&this.nativeElement.setAttribute("transform",this.translate()),this.nodes.map(function(t){return t.refresh()})},e.prototype.toggleSelected=function(){this.isSelected=!this.isSelected},e}(Ty),Ay=function(){return function(){this.elementDefaults={width:240,gap:5,height:90,pinX:function(){return this.gap},pinY:function(){return this.topEdge+50},topEdge:function(){return this.prevChild?this.prevChild.bottomEdge+this.gap:0},bottomEdge:function(){return this.topEdge+this.height}},this.swimElementDef=new Ey(this.elementDefaults),this.laneDefaults={width:function(){return this.hasSubcomponents?Math.max.apply(Math,this.nodes.map(function(t){return t.width}))+2*this.gap:50},gap:5,height:800,pinX:function(){return this.leftEdge},pinY:function(){return this.gap},leftEdge:function(){return this.prevChild?this.prevChild.rightEdge+this.gap:this.gap},rightEdge:function(){return this.leftEdge+this.width}},this.swimLaneDef=new Ey(this.laneDefaults),this.swimDefaults={title:"The Docker Ecosystem. - dockercon17",width:1800,height:1e3},this.swimDef=new Ey(this.swimDefaults)}}(),Cy=function(){function t(t){this.vcr=t}return t.prototype.ngOnInit=function(){var t=this.vcr.element.nativeElement;t.setAttribute("transform",this.viewModel.translate(t))},t.prototype.doClick=function(){this.viewModel.toggleSelected(),this.viewModel.width+=this.viewModel.gap,this.viewModel.height+=this.viewModel.gap,Th.info("info message",this.viewModel.name),xh.get("RECOMPUTE").emit()},t}(),Py=_h["\u0275crt"]({encapsulation:0,styles:[["polyline[_ngcontent-%COMP%]{stroke:0;stroke-linejoin:butt;fill:#003565}polyline.orange[_ngcontent-%COMP%]{fill:#ff6400}text#display[_ngcontent-%COMP%]{font-family:verdana,sans-serif;font-size:120%;fill:#003565}rect#shape[_ngcontent-%COMP%]{stroke:#000;fill:#ff0}rect#select[_ngcontent-%COMP%]{stroke-width:4px;stroke:red;fill:none}"]],data:{}}),Ry=function(){function t(t){this.vcr=t}return t.prototype.ngOnInit=function(){var t=this.vcr.element.nativeElement;t.setAttribute("transform",this.viewModel.translate(t))},t.prototype.doClick=function(){this.viewModel.toggleSelected(),Th.success("render this",this.viewModel.title)},t}(),Oy=_h["\u0275crt"]({encapsulation:0,styles:[["polyline[_ngcontent-%COMP%]{stroke:0;stroke-linejoin:butt;fill:#003565}polyline.orange[_ngcontent-%COMP%]{fill:#ff6400}text#horz[_ngcontent-%COMP%]{fill:#003565}text#horz[_ngcontent-%COMP%], text#vert[_ngcontent-%COMP%]{font-family:verdana,sans-serif;font-size:170%}text#vert[_ngcontent-%COMP%]{fill:#daa520}rect#select[_ngcontent-%COMP%]{stroke-width:4px;stroke:red;fill:none}"]],data:{}}),Ly=function(){function t(t,e){this.vcr=t,this.service=e,this.SVGDocument=null,this.SVGDrawing=null,this.SVGRoot=null,this.TrueCoords=null,this.GrabPoint=null,this.BackDrop=null,this.DragTarget=null,this.circle=[{x:105,y:10,r:30},{x:305,y:60,r:20},{x:505,y:10,r:40}]}return t.prototype.ngOnInit=function(){var t=this;this.SVGDocument=this.vcr.element.nativeElement,this.SVGDrawing=this.SVGDocument.querySelector("#drawing"),this.SVGRoot=this.SVGDocument.querySelector("#page"),this.TrueCoords=this.SVGRoot.createSVGPoint(),this.GrabPoint=this.SVGRoot.createSVGPoint(),this.viewModel=this.service.getRootView(),this.service&&this.service.getEcosystem(function(e){t.viewModel=e}),xh.get("RECOMPUTE").subscribe(function(e){t.viewModel.refresh()})},t.prototype.Grab=function(t){var e=t.target;if(e=e.parentNode,this.BackDrop!=e){this.GetTrueCoords(t),this.DragTarget=e,this.DragTarget.setAttributeNS(null,"pointer-events","none");var n=this.DragTarget.getCTM();this.GrabPoint.x=this.TrueCoords.x-Number(n.e),this.GrabPoint.y=this.TrueCoords.y-Number(n.f)}},t.prototype.Drag=function(t){this.GetTrueMoveCoords(t),this.DragTarget&&this.DragTarget.setAttributeNS(null,"transform","translate("+(this.TrueCoords.x-this.GrabPoint.x)+","+(this.TrueCoords.y-this.GrabPoint.y)+")")},t.prototype.Drop=function(t){if(this.DragTarget){var e=t.target;this.DragTarget.setAttributeNS(null,"pointer-events","all"),console.log(this.DragTarget.id+" has been dropped on top of "+e.id),this.DragTarget=null}},t.prototype.GetTrueCoords=function(t){var e=this.SVGDrawing.offsetTop,n=this.SVGRoot.currentScale,r=this.SVGRoot.currentTranslate;this.TrueCoords.x=(t.clientX-r.x+this.SVGDrawing.offsetLeft)/n,this.TrueCoords.y=(t.clientY-r.y+e)/n},t.prototype.GetTrueMoveCoords=function(t){var e=this.SVGRoot.currentScale,n=this.SVGRoot.currentTranslate;this.TrueCoords.x=(t.clientX-n.x)/e,this.TrueCoords.y=(t.clientY-n.y)/e},t.prototype.addCircle=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","circle");e.setAttribute("cx","50"),e.setAttribute("cy","50"),e.setAttribute("r","50"),e.setAttribute("style","fill:green; "),this.SVGRoot.appendChild(e)},t}(),ky=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new Ny(t,this.selector,this.caught))},t}(),Ny=function(t){function e(e,n,r){t.call(this,e),this.selector=n,this.caught=r}return Object(pg.b)(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(Object(Qg.a)(this,n))}},e}(Kg.a);dg.a.prototype.catch=Bi,dg.a.prototype._catch=Bi;var Iy=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Dy(t,this.project,this.thisArg))},t}(),Dy=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}return Object(pg.b)(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(ty.a);dg.a.prototype.map=zi;var Uy=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new Fy(t,this.nextOrObserver,this.error,this.complete))},t}(),Fy=function(t){function e(e,n,r,i){t.call(this,e);var o=new ty.a(n,r,i);o.syncErrorThrowable=!0,this.add(o),this.safeSubscriber=o}return Object(pg.b)(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),this.destination.error(e.syncErrorThrown?e.syncErrorValue:t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(ty.a);dg.a.prototype.do=Vi,dg.a.prototype._do=Vi;var jy=function(){function t(t){this.http=t,this.Dictionary=new Ay,this.viewElementDef=this.Dictionary.swimElementDef,this.viewLaneDef=this.Dictionary.swimLaneDef,this.viewDef=this.Dictionary.swimDef}return t.prototype.handleError=function(t){var e;if(t instanceof Cg){var n=t.json()||"",r=n.error||JSON.stringify(n);e=t.status+" - "+(t.statusText||"")+" "+r}else e=t.message?t.message:t.toString();return Th.error(e,"SwimService"),dg.a.throw(e)},t.prototype.getRootView=function(){return this.viewDef.newInstance()},t.prototype.getEcosystem=function(t){var e=this,n=this.http.get("assets/caas.json");return n.subscribe(function(n){var r=n.json(),i=r.categories,o=e.viewDef.newInstance();i.map(function(t){return{title:t,myName:t}}).map(function(t){var n=e.viewLaneDef.newInstance(t);o.addSubcomponent(n),o[t.myName]=n});var a=Oh.groupBy(Oh.pluck("category"),r.products);Oh.mapOverKeyValue(a,function(t,n){var r=o[t];n.forEach(function(t){var n=e.viewElementDef.newInstance({name:t.product,myName:t.product});r.addSubcomponent(n)})}),t&&t(o)},this.handleError),n},t}(),By=_h["\u0275crt"]({encapsulation:0,styles:[["circle[_ngcontent-%COMP%]{stroke:#ff0;fill:red;stroke-width:5}text#title[_ngcontent-%COMP%]{font-family:verdana,sans-serif;font-size:270%;fill:#000}svg#page[_ngcontent-%COMP%]{stroke-width:1px;background-color:none;stroke:#000;fill:#ffdead}"]],data:{}}),zy=_h["\u0275ccf"]("foundry-swimlaneview",Ly,function(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,16777216,null,null,1,"foundry-swimlaneview",[],null,null,null,Hi,By)),_h["\u0275did"](1,114688,null,0,Ly,[_h.ViewContainerRef,jy],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Vy=(Array,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2),Array,{value:function(){}});Xi.prototype=Wi.prototype={constructor:Xi,on:function(t,e){var n,r=this._,i=function(e,n){return(t+"").trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}(0,r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=qi(r[n],t.name,e);else if(null==e)for(n in r)r[n]=qi(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=function(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Xi(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Gy=Wi,Hy="http://www.w3.org/1999/xhtml",Wy={svg:"http://www.w3.org/2000/svg",xhtml:Hy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Xy=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Wy.hasOwnProperty(e)?{space:Wy[e],local:t}:t},qy=function(t){var e=Xy(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Hy&&e.documentElement.namespaceURI===Hy?e.createElement(t):e.createElementNS(n,t)}})(e)},Yy=0;Yi.prototype=(function(){return new Yi}).prototype={constructor:Yi,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Zy=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Ky=document.documentElement;if(!Ky.matches){var Qy=Ky.webkitMatchesSelector||Ky.msMatchesSelector||Ky.mozMatchesSelector||Ky.oMatchesSelector;Zy=function(t){return function(){return Qy.call(this,t)}}}}var Jy=Zy,$y={},tv=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||($y={mouseenter:"mouseover",mouseleave:"mouseout"}));var ev=function(){for(var t,e=tv;t=e.sourceEvent;)e=t;return e},nv=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},rv=function(t){var e=ev();return e.changedTouches&&(e=e.changedTouches[0]),nv(t,e)},iv=function(t){return null==t?function(){}:function(){return this.querySelector(t)}},ov=function(t){return null==t?function(){return[]}:function(){return this.querySelectorAll(t)}},av=function(t){return new Array(t.length)};Qi.prototype={constructor:Qi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var sv=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};no.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var uv=[null];lo.prototype=co.prototype={constructor:lo,select:function(t){"function"!=typeof t&&(t=iv(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new lo(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=ov(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new lo(r,i)},filter:function(t){"function"!=typeof t&&(t=Jy(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new lo(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var n=e?function(t,e,n,r,i,o,a){var s,u,l,c={},h=e.length,f=o.length,p=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(p[s]=l="$"+a.call(u,u.__data__,s,e),l in c?i[s]=u:c[l]=u);for(s=0;s<f;++s)(u=c[l="$"+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],c[l]=null):n[s]=new Qi(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&c[p[s]]===u&&(i[s]=u)}:function(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Qi(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)},r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,p=t.call(c,c&&c.__data__,l,r),d=p.length,m=s[l]=new Array(d),g=a[l]=new Array(d);n(c,h,m,g,u[l]=new Array(f),p,e);for(var y,v,_=0,b=0;_<d;++_)if(y=m[_]){for(_>=b&&(b=_+1);!(v=g[b])&&++b<d;);y._next=v||null}}return a=new lo(a,r),a._enter=s,a._exit=u,a},enter:function(){return new lo(this._enter||this._groups.map(av),this._parents)},exit:function(){return new lo(this._exit||this._groups.map(av),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new lo(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Ji);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new lo(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Xy(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):$i(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=to(t+"");if(arguments.length<2){for(var r=eo(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?ro:io)(this,t)}}:e?function(t){return function(){ro(this,t)}}:function(t){return function(){io(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?function(){this.textContent=""}:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?function(){this.innerHTML=""}:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(oo)},lower:function(){return this.each(ao)},append:function(t){var e="function"==typeof t?t:qy(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:qy(t),r=null==e?function(){return null}:"function"==typeof e?e:iv(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(so)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=o.length;if(!(arguments.length<2)){for(s=e?function(t,e,n){var r=$y.hasOwnProperty(t.type)?function(t,e,n){return t=Zi(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}:Zi;return function(i,o,a){var s,u=this.__on,l=r(e,o,a);if(u)for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}:function(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}},null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return uo(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return uo(this,t,e)}})(t,e))}};var lv=co,cv=function(t){return"string"==typeof t?new lo([[document.querySelector(t)]],[document.documentElement]):new lo([[t]],uv)},hv=function(t,e,n){arguments.length<3&&(n=e,e=ev().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return nv(t,r);return null},fv=function(){tv.preventDefault(),tv.stopImmediatePropagation()},pv=function(t){var e=t.document.documentElement,n=cv(t).on("dragstart.drag",fv,!0);"onselectstart"in e?n.on("selectstart.drag",fv,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},dv=function(t){return function(){return t}};fo.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var mv=function(){function t(t){t.on("mousedown.drag",e).filter(m).on("touchstart.drag",i).on("touchmove.drag",o).on("touchend.drag touchcancel.drag",a).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!h&&f.apply(this,arguments)){var t=s("mouse",p.apply(this,arguments),rv,this,arguments);t&&(cv(tv.view).on("mousemove.drag",n,!0).on("mouseup.drag",r,!0),pv(tv.view),ho(),c=!1,u=tv.clientX,l=tv.clientY,t("start"))}}function n(){if(fv(),!c){var t=tv.clientX-u,e=tv.clientY-l;c=t*t+e*e>_}g.mouse("drag")}function r(){cv(tv.view).on("mousemove.drag mouseup.drag",null),function(t,e){var n=t.document.documentElement,r=cv(t).on("dragstart.drag",null);e&&(r.on("click.drag",fv,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(tv.view,c),fv(),g.mouse("end")}function i(){if(f.apply(this,arguments)){var t,e,n=tv.changedTouches,r=p.apply(this,arguments),i=n.length;for(t=0;t<i;++t)(e=s(n[t].identifier,r,hv,this,arguments))&&(ho(),e("start"))}}function o(){var t,e,n=tv.changedTouches,r=n.length;for(t=0;t<r;++t)(e=g[n[t].identifier])&&(fv(),e("drag"))}function a(){var t,e,n=tv.changedTouches,r=n.length;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),t=0;t<r;++t)(e=g[n[t].identifier])&&(ho(),e("end"))}function s(e,n,r,i,o){var a,s,u,l=r(n,e),c=y.copy();if(Ki(new fo(t,"beforestart",a,e,v,l[0],l[1],0,0,c),function(){return null!=(tv.subject=a=d.apply(i,o))&&(s=a.x-l[0]||0,u=a.y-l[1]||0,!0)}))return function h(f){var p,d=l;switch(f){case"start":g[e]=h,p=v++;break;case"end":delete g[e],--v;case"drag":l=r(n,e),p=v}Ki(new fo(t,f,a,e,p,l[0]+s,l[1]+u,l[0]-d[0],l[1]-d[1],c),c.apply,c,[f,i,o])}}var u,l,c,h,f=po,p=mo,d=go,m=yo,g={},y=Gy("start","drag","end"),v=0,_=0;return t.filter=function(e){return arguments.length?(f="function"==typeof e?e:dv(!!e),t):f},t.container=function(e){return arguments.length?(p="function"==typeof e?e:dv(e),t):p},t.subject=function(e){return arguments.length?(d="function"==typeof e?e:dv(e),t):d},t.touchable=function(e){return arguments.length?(m="function"==typeof e?e:dv(!!e),t):m},t.on=function(){var e=y.on.apply(y,arguments);return e===y?t:e},t.clickDistance=function(e){return arguments.length?(_=(e=+e)*e,t):Math.sqrt(_)},t},gv=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},yv="\\s*([+-]?\\d+)\\s*",vv="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",_v="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bv=/^#([0-9a-f]{3})$/,wv=/^#([0-9a-f]{6})$/,xv=new RegExp("^rgb\\("+[yv,yv,yv]+"\\)$"),Tv=new RegExp("^rgb\\("+[_v,_v,_v]+"\\)$"),Sv=new RegExp("^rgba\\("+[yv,yv,yv,vv]+"\\)$"),Ev=new RegExp("^rgba\\("+[_v,_v,_v,vv]+"\\)$"),Mv=new RegExp("^hsl\\("+[vv,_v,_v]+"\\)$"),Av=new RegExp("^hsla\\("+[vv,_v,_v,vv]+"\\)$"),Cv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gv(_o,bo,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),gv(Eo,So,vo(_o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Eo(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Eo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),gv(Co,Ao,vo(_o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Co(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Co(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Eo(Po(t>=240?t-240:t+120,i,r),Po(t,i,r),Po(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Pv=Math.PI/180,Rv=180/Math.PI,Ov=.95047,Lv=1,kv=1.08883,Nv=4/29,Iv=6/29,Dv=3*Iv*Iv,Uv=Iv*Iv*Iv;gv(Oo,function(t,e,n,r){return 1===arguments.length?Ro(t):new Oo(t,e,n,null==r?1:r)},vo(_o,{brighter:function(t){return new Oo(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Oo(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=Lv*ko(t),e=Ov*ko(e),n=kv*ko(n),new Eo(No(3.2404542*e-1.5371385*t-.4985314*n),No(-.969266*e+1.8760108*t+.041556*n),No(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),gv(Uo,Do,vo(_o,{brighter:function(t){return new Uo(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Uo(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ro(this).rgb()}}));var Fv=-.29227,jv=-.90649,Bv=1.97294,zv=Bv*jv,Vv=1.78277*Bv,Gv=1.78277*Fv- -.14861*jv;gv(jo,Fo,vo(_o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new jo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new jo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Pv,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Eo(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(Fv*r+jv*i)),255*(e+n*(Bv*r)),this.opacity)}}));var Hv,Wv,Xv,qv,Yv,Zv,Kv=function(t){return function(){return t}},Qv=function t(e){function n(t,e){var n=r((t=So(t)).r,(e=So(e)).r),i=r(t.g,e.g),o=r(t.b,e.b),a=Go(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}var r=function(t){return 1==(t=+t)?Go:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Kv(isNaN(e)?n:e)}}(e);return n.gamma=t,n}(1),Jv=(Ho(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1];return Bo((n-r/e)*e,r>0?t[r-1]:2*i-o,i,o,r<e-1?t[r+2]:2*o-i)}}),Ho(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e);return Bo((n-r/e)*e,t[(r+e-1)%e],t[r%e],t[(r+1)%e],t[(r+2)%e])}}),function(t,e){return t=+t,e-=t,function(n){return t+e*n}}),$v=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,t_=new RegExp($v.source,"g"),e_=180/Math.PI,n_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},r_=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*e_,skewX:Math.atan(u)*e_,scaleX:a,scaleY:s}},i_=Wo(function(t){return"none"===t?n_:(Hv||(Hv=document.createElement("DIV"),Wv=document.documentElement,Xv=document.defaultView),Hv.style.transform=t,t=Xv.getComputedStyle(Wv.appendChild(Hv),null).getPropertyValue("transform"),Wv.removeChild(Hv),t=t.slice(7,-1).split(","),r_(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),o_=Wo(function(t){return null==t?n_:(qv||(qv=document.createElementNS("http://www.w3.org/2000/svg","g")),qv.setAttribute("transform",t),(t=qv.transform.baseVal.consolidate())?(t=t.matrix,r_(t.a,t.b,t.c,t.d,t.e,t.f)):n_)},", ",")",")"),a_=(Math,Xo(Vo),Xo(Go),qo(Vo),qo(Go),Yo(Vo),Yo(Go)),s_=0,u_=0,l_=0,c_=1e3,h_=0,f_=0,p_=0,d_="object"==typeof performance&&performance.now?performance:Date,m_="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};Qo.prototype=Jo.prototype={constructor:Qo,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Zo():+n)+(null==e?0:+e),this._next||Zv===this||(Zv?Zv._next=this:Yv=this,Zv=this),this._call=t,this._time=n,ea()},stop:function(){this._call&&(this._call=null,this._time=1/0,ea())}};var g_=function(t,e,n){var r=new Qo;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},y_=Gy("start","end","interrupt"),v_=[],__=0,b_=1,w_=2,x_=3,T_=4,S_=5,E_=6,M_=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){function r(u){var l,c,h,f;if(n.state!==b_)return o();for(l in s)if((f=s[l]).name===n.name){if(f.state===x_)return g_(r);f.state===T_?(f.state=E_,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete s[l]):+l<e&&(f.state=E_,f.timer.stop(),delete s[l])}if(g_(function(){n.state===x_&&(n.state=T_,n.timer.restart(i,n.delay,n.time),i(u))}),n.state=w_,n.on.call("start",t,t.__data__,n.index,n.group),n.state===w_){for(n.state=x_,a=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(a[++c]=f);a.length=c+1}}function i(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(o),n.state=S_,1),i=-1,s=a.length;++i<s;)a[i].call(null,r);n.state===S_&&(n.on.call("end",t,t.__data__,n.index,n.group),o())}function o(){n.state=E_,n.timer.stop(),delete s[e];for(var r in s)return;delete t.__transition}var a,s=t.__transition;s[e]=n,n.timer=Jo(function(t){n.state=b_,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:y_,tween:v_,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:__})},A_=function(t,e){var n;return("number"==typeof e?Jv:e instanceof bo?Qv:(n=bo(e))?(e=n,Qv):function(t,e){var n,r,i,o=$v.lastIndex=t_.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=$v.exec(t))&&(r=t_.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Jv(n,r)})),o=t_.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})})(t,e)},C_=lv.prototype.constructor,P_=0,R_=lv.prototype;aa.prototype=(function(t){return lv().transition(t)}).prototype={constructor:aa,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=iv(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,M_(h[f],e,n,f,h,ia(s,n)));return new aa(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ov(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,p=t.call(u,u.__data__,h,l),d=ia(u,n),m=0,g=p.length;m<g;++m)(f=p[m])&&M_(f,e,n,m,p,d);o.push(p),a.push(u)}return new aa(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=Jy(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new aa(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new aa(a,this._parents,this._name,this._id)},selection:function(){return new C_(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=sa(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=ia(a,e);M_(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new aa(r,this._parents,t,n)},call:R_.call,nodes:R_.nodes,node:R_.node,size:R_.size,empty:R_.empty,each:R_.each,on:function(t,e){var n=this._id;return arguments.length<2?ia(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=(e+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})?na:ra;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=Xy(t),r="transform"===n?o_:A_;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(t))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttribute(t)}})(n,r,oa(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}:function(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}})(n,r,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Xy(t);return this.tween(n,(r.local?function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}:function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n})(r,e))},style:function(t,e,n){var r="transform"==(t+="")?i_:A_;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=$i(this,t),a=(this.style.removeProperty(t),$i(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function(t,e,n){var r,i,o;return function(){var a=$i(this,t),s=n(this);return null==s&&(this.style.removeProperty(t),s=$i(this,t)),a===s?null:a===r&&s===i?o:o=e(r=a,i=s)}}(t,r,oa(this,"style."+t,e)):function(t,e,n){var r,i;return function(){var o=$i(this,t);return o===n?null:o===r?i:i=e(r=o,n)}}(t,r,e+""),n)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(oa(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=ia(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=ra(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=ra(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){na(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){na(this,t).delay=e}})(e,t)):ia(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){ra(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){ra(this,t).duration=e}})(e,t)):ia(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){ra(this,t).ease=e}}(e,t)):ia(this.node(),e).ease}},function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Math,function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158);var O_=2*Math.PI,L_=(function t(e,n){function r(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=O_);return r.amplitude=function(e){return t(e,n*O_)},r.period=function(n){return t(e,n)},r}(1,.3),function t(e,n){function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=O_);return r.amplitude=function(e){return t(e,n*O_)},r.period=function(n){return t(e,n)},r}(1,.3),function t(e,n){function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=O_);return r.amplitude=function(e){return t(e,n*O_)},r.period=function(n){return t(e,n)},r}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});lv.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){e=null==e?null:e+"";for(i in o)(n=o[i]).name===e?(r=n.state>w_&&n.state<S_,n.state=E_,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)})},lv.prototype.transition=function(t){var e,n;t instanceof aa?(e=t._id,t=t._name):(e=sa(),(n=L_).time=Zo(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&M_(a,t,e,l,s,n||ua(a,e));return new aa(r,this._parents,t,e)},["e","w"].map(la),["n","s"].map(la),["n","e","s","w","nw","ne","se","sw"].map(la),Math,Math,Math,Math,Array;var k_=Math.PI,N_=2*k_,I_=N_-1e-6;ca.prototype=(function(){return new ca}).prototype={constructor:ca,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){var o=this._x1,a=this._y1,s=(n=+n)-(t=+t),u=(r=+r)-(e=+e),l=o-t,c=a-e,h=l*l+c*c;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(c*s-u*l)>1e-6&&i){var f=n-o,p=r-a,d=s*s+u*u,m=f*f+p*p,g=Math.sqrt(d),y=Math.sqrt(h),v=i*Math.tan((k_-Math.acos((d+h-m)/(2*g*y)))/2),_=v/y,b=v/g;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*l)+","+(e+_*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*p)+","+(this._x1=t+b*s)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,c=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+u+","+l),n&&(h<0&&(h=h%N_+N_),h>I_?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=k_)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},ha.prototype=fa.prototype={constructor:ha,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var D_=fa,U_=D_.prototype;pa.prototype=(function(t,e){var n=new pa;if(t instanceof pa)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}).prototype={constructor:pa,has:U_.has,add:function(t){return t+="",this["$"+t]=t,this},remove:U_.remove,clear:U_.clear,values:U_.keys,size:U_.size,empty:U_.empty,each:U_.each};var F_={},j_={},B_=34,z_=10,V_=13,G_=function(t){function e(t,e){function n(){if(l)return j_;if(c)return c=!1,F_;var e,n,r=s;if(t.charCodeAt(r)===B_){for(;s++<a&&t.charCodeAt(s)!==B_||t.charCodeAt(++s)===B_;);return(e=s)>=a?l=!0:(n=t.charCodeAt(s++))===z_?c=!0:n===V_&&(c=!0,t.charCodeAt(s)===z_&&++s),t.slice(r+1,e-1).replace(/""/g,'"')}for(;s<a;){if((n=t.charCodeAt(e=s++))===z_)c=!0;else if(n===V_)c=!0,t.charCodeAt(s)===z_&&++s;else if(n!==o)continue;return t.slice(r,e)}return l=!0,t.slice(r,a)}var r,i=[],a=t.length,s=0,u=0,l=a<=0,c=!1;for(t.charCodeAt(a-1)===z_&&--a,t.charCodeAt(a-1)===V_&&--a;(r=n())!==j_;){for(var h=[];r!==F_&&r!==j_;)h.push(r),r=n();e&&null==(h=e(h,u++))||i.push(h)}return i}function n(e){return e.map(r).join(t)}function r(t){return null==t?"":i.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var i=new RegExp('["'+t+"\n\r]"),o=t.charCodeAt(0);return{parse:function(t,n){var r,i,o=e(t,function(t,e){if(r)return r(t,e-1);i=t,r=n?function(t,e){var n=da(t);return function(r,i){return e(n(r),i,t)}}(t,n):da(t)});return o.columns=i||[],o},parseRows:e,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}(e)),[n.map(r).join(t)].concat(e.map(function(e){return n.map(function(t){return r(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(n).join("\n")}}},H_=G_(",").parse,W_=G_("\t").parse,X_=function(t,e){function n(){var n,i,o=r.length,a=0,s=0;for(n=0;n<o;++n)a+=(i=r[n]).x,s+=i.y;for(a=a/o-t,s=s/o-e,n=0;n<o;++n)(i=r[n]).x-=a,i.y-=s}var r;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){r=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n},q_=function(t){return function(){return t}},Y_=function(){return 1e-6*(Math.random()-.5)},Z_=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i},K_=ga.prototype=ya.prototype;K_.copy=function(){var t,e,n=new ya(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=va(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=va(e));return n},K_.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return ma(this.cover(e,n),e,n,t)},K_.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>h&&(h=i));for(c<u&&(u=this._x0,c=this._x1),h<l&&(l=this._y0,h=this._y1),this.cover(u,l).cover(c,h),n=0;n<o;++n)ma(this,a[n],s[n],t[n]);return this},K_.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{if(!(n>t||t>i||r>e||e>o))return this;var a,s,u=i-n,l=this._root;switch(s=(e<(r+o)/2)<<1|t<(n+i)/2){case 0:do{a=new Array(4),a[s]=l,l=a}while(u*=2,i=n+u,o=r+u,t>i||e>o);break;case 1:do{a=new Array(4),a[s]=l,l=a}while(u*=2,n=i-u,o=r+u,n>t||e>o);break;case 2:do{a=new Array(4),a[s]=l,l=a}while(u*=2,i=n+u,r=o-u,t>i||r>e);break;case 3:do{a=new Array(4),a[s]=l,l=a}while(u*=2,n=i-u,r=o-u,n>t||r>e)}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},K_.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},K_.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},K_.find=function(t,e,n){var r,i,o,a,s,u,l,c=this._x0,h=this._y0,f=this._x1,p=this._y1,d=[],m=this._root;for(m&&d.push(new Z_(m,c,h,f,p)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,p=e+n,n*=n);u=d.pop();)if(!(!(m=u.node)||(i=u.x0)>f||(o=u.y0)>p||(a=u.x1)<c||(s=u.y1)<h))if(m.length){var g=(i+a)/2,y=(o+s)/2;d.push(new Z_(m[3],g,y,a,s),new Z_(m[2],i,y,g,s),new Z_(m[1],g,o,a,y),new Z_(m[0],i,o,g,y)),(l=(e>=y)<<1|t>=g)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-l],d[d.length-1-l]=u)}else{var v=t-+this._x.call(null,m.data),_=e-+this._y.call(null,m.data),b=v*v+_*_;if(b<n){var w=Math.sqrt(n=b);c=t-w,h=e-w,f=t+w,p=e+w,r=m.data}}return r},K_.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,l,c,h,f,p=this._root,d=this._x0,m=this._y0,g=this._x1,y=this._y1;if(!p)return this;if(p.length)for(;;){if((l=o>=(s=(d+g)/2))?d=s:g=s,(c=a>=(u=(m+y)/2))?m=u:y=u,e=p,!(p=p[h=c<<1|l]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=i,this)},K_.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},K_.root=function(){return this._root},K_.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},K_.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new Z_(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var l=(r+o)/2,c=(i+a)/2;(n=u[3])&&s.push(new Z_(n,l,c,o,a)),(n=u[2])&&s.push(new Z_(n,r,c,l,a)),(n=u[1])&&s.push(new Z_(n,l,i,o,c)),(n=u[0])&&s.push(new Z_(n,r,i,l,c))}return this},K_.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Z_(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,l=e.y1,c=(a+u)/2,h=(s+l)/2;(o=i[0])&&n.push(new Z_(o,a,s,c,h)),(o=i[1])&&n.push(new Z_(o,c,s,u,h)),(o=i[2])&&n.push(new Z_(o,a,h,c,l)),(o=i[3])&&n.push(new Z_(o,c,h,u,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},K_.x=function(t){return arguments.length?(this._x=t,this):this._x},K_.y=function(t){return arguments.length?(this._y=t,this):this._y};var Q_,J_=function(t){function e(){function t(t,e,n,r,i){var o=t.data,s=t.r,p=h+s;if(!o)return e>l+p||r<l-p||n>c+p||i<c-p;if(o.index>u.index){var d=l-o.x-o.vx,m=c-o.y-o.vy,g=d*d+m*m;g<p*p&&(0===d&&(d=Y_(),g+=d*d),0===m&&(m=Y_(),g+=m*m),g=(p-(g=Math.sqrt(g)))/g*a,u.vx+=(d*=g)*(p=(s*=s)/(f+s)),u.vy+=(m*=g)*p,o.vx-=d*(p=1-p),o.vy-=m*p)}}for(var e,r,u,l,c,h,f,p=i.length,d=0;d<s;++d)for(r=ga(i,_a,ba).visitAfter(n),e=0;e<p;++e)f=(h=o[(u=i[e]).index])*h,l=u.x+u.vx,c=u.y+u.vy,r.visit(t)}function n(t){if(t.data)return t.r=o[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function r(){if(i){var e,n,r=i.length;for(o=new Array(r),e=0;e<r;++e)n=i[e],o[n.index]=+t(n,e,i)}}var i,o,a=1,s=1;return"function"!=typeof t&&(t=q_(null==t?1:+t)),e.initialize=function(t){i=t,r()},e.iterations=function(t){return arguments.length?(s=+t,e):s},e.strength=function(t){return arguments.length?(a=+t,e):a},e.radius=function(n){return arguments.length?(t="function"==typeof n?n:q_(+n),r(),e):t},e},$_=10,tb=Math.PI*(3-Math.sqrt(5)),eb=function(t){function e(){n(),p.call("tick",o),a<s&&(f.stop(),p.call("end",o))}function n(){var e,n,r=t.length;for(a+=(l-a)*u,h.each(function(t){t(a)}),e=0;e<r;++e)null==(n=t[e]).fx?n.x+=n.vx*=c:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=c:(n.y=n.fy,n.vy=0)}function r(){for(var e,n=0,r=t.length;n<r;++n){if(e=t[n],e.index=n,isNaN(e.x)||isNaN(e.y)){var i=$_*Math.sqrt(n),o=n*tb;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function i(e){return e.initialize&&e.initialize(t),e}var o,a=1,s=.001,u=1-Math.pow(s,1/300),l=0,c=.6,h=D_(),f=Jo(e),p=Gy("tick","end");return null==t&&(t=[]),r(),o={tick:n,restart:function(){return f.restart(e),o},stop:function(){return f.stop(),o},nodes:function(e){return arguments.length?(t=e,r(),h.each(i),o):t},alpha:function(t){return arguments.length?(a=+t,o):a},alphaMin:function(t){return arguments.length?(s=+t,o):s},alphaDecay:function(t){return arguments.length?(u=+t,o):+u},alphaTarget:function(t){return arguments.length?(l=+t,o):l},velocityDecay:function(t){return arguments.length?(c=1-t,o):1-c},force:function(t,e){return arguments.length>1?(null==e?h.remove(t):h.set(t,i(e)),o):h.get(t)},find:function(e,n,r){var i,o,a,s,u,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(i=e-(s=t[l]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(t,e){return arguments.length>1?(p.on(t,e),o):p.on(t)}}},nb=function(t){function e(t){for(var e,n=0,a=r.length;n<a;++n)(e=r[n]).vx+=(o[n]-e.x)*i[n]*t}function n(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)i[e]=isNaN(o[e]=+t(r[e],e,r))?0:+a(r[e],e,r)}}var r,i,o,a=q_(.1);return"function"!=typeof t&&(t=q_(null==t?0:+t)),e.initialize=function(t){r=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:q_(+t),n(),e):a},e.x=function(r){return arguments.length?(t="function"==typeof r?r:q_(+r),n(),e):t},e},rb=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},ib=function(t,e){var n=rb(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},ob={"":function(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ib(100*t,e)},r:ib,s:function(t,e){var n=rb(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Q_=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+rb(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},ab=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;Ea.prototype=Ma.prototype,Ma.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var sb=function(t){return t},ub=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];(function(t){function e(t){function e(t){var e,r,a,c=g,b=y;if("c"===m)b=v(t)+b,t="";else{var w=(t=+t)<0;if(t=v(Math.abs(t),d),w&&0==+t&&(w=!1),c=(w?"("===l?l:"-":"-"===l||"("===l?"":l)+c,b=b+("s"===m?ub[8+Q_/3]:"")+(w&&"("===l?")":""),_)for(e=-1,r=t.length;++e<r;)if(48>(a=t.charCodeAt(e))||a>57){b=(46===a?i+t.slice(e+1):t.slice(e))+b,t=t.slice(0,e);break}}p&&!h&&(t=n(t,1/0));var x=c.length+t.length+b.length,T=x<f?new Array(f-x+1).join(s):"";switch(p&&h&&(t=n(T+t,T.length?f-b.length:1/0),T=""),u){case"<":t=c+t+b+T;break;case"=":t=c+T+t+b;break;case"^":t=T.slice(0,x=T.length>>1)+c+t+b+T.slice(x);break;default:t=T+c+t+b}return o(t)}var s=(t=Ea(t)).fill,u=t.align,l=t.sign,c=t.symbol,h=t.zero,f=t.width,p=t.comma,d=t.precision,m=t.type,g="$"===c?r[0]:"#"===c&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",y="$"===c?r[1]:/[%p]/.test(m)?a:"",v=ob[m],_=!m||/[defgprs%]/.test(m);return d=null==d?m?6:12:/[gprs]/.test(m)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),e.toString=function(){return t+""},e}var n=t.grouping&&t.thousands?function(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}(t.grouping,t.thousands):sb,r=t.currency,i=t.decimal,o=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):sb,a=t.percent||"%"})({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var lb=function(){return new Aa};Aa.prototype={constructor:Aa,reset:function(){this.s=this.t=0},add:function(t){Ca(cb,t,this.t),Ca(this,cb.s,this.s),this.s?this.t+=cb.t:this.s=cb.t},valueOf:function(){return this.s}};var cb=new Aa,hb=Math.PI,fb=hb/2,pb=2*hb,db=hb/180,mb=Math.abs,gb=Math.atan,yb=Math.atan2,vb=Math.cos,_b=(Math,Math.exp),bb=(Math,Math.log),wb=(Math,Math.sin),xb=(Math,Math.sqrt),Tb=Math.tan;lb(),lb(),lb(),Ra.invert=Ra,lb(),lb(),lb(),lb(),(function(t){this._context=t}).prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,pb)}},result:function(){}},lb(),(function(){this._string=[]}).prototype={_radius:4.5,_circle:Oa(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Oa(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},La.prototype={constructor:La,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},vb(30*db),ka(function(t){return xb(2/(1+t))}).invert=Na(function(t){return 2*Pa(t/2)}),ka(function(t){return(t=function(t){return t>1?0:t<-1?hb:Math.acos(t)}(t))&&t/wb(t)}).invert=Na(function(t){return t}),(function(t,e){return[t,bb(Tb((fb+e)/2))]}).invert=function(t,e){return[t,2*gb(_b(e))-fb]},Ia.invert=Ia,(function(t,e){var n=vb(e),r=vb(t)*n;return[n*wb(t)/r,wb(e)/r]}).invert=Na(gb),(function(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}).invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(mb(n)>1e-6&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},(function(t,e){return[vb(e)*wb(t),wb(e)]}).invert=Na(Pa),(function(t,e){var n=vb(e),r=1+vb(t)*n;return[n*wb(t)/r,wb(e)/r]}).invert=Na(function(t){return 2*gb(t)}),(function(t,e){return[bb(Tb((fb+e)/2)),-t]}).invert=function(t,e){return[-e,2*gb(_b(t))-fb]},za.prototype=Ua.prototype={constructor:za,count:function(){return this.eachAfter(Da)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)r.push(e=e.parent);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return Ua(this).eachBefore(ja)}},Array;var Sb=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l};(function(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}).prototype=Object.create(za.prototype);var Eb=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l},Mb=(1+Math.sqrt(5))/2,Ab=(function t(e){function n(t,n,r,i,o){Va(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Mb),function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,l,c,h=-1,f=a.length,p=t.value;++h<f;){for(u=(s=a[h]).children,l=s.value=0,c=u.length;l<c;++l)s.value+=u[l].value;s.dice?Sb(s,n,r,i,r+=(o-r)*s.value/p):Eb(s,n,r,n+=(i-n)*s.value/p,o),p-=s.value}else t._squarify=a=Va(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Mb),[].slice),Cb={};Ga.prototype=(function(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new Ga(t)}).prototype={constructor:Ga,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=Ab.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),Ha(this),this},abort:function(){return null==this._error&&Wa(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},Xa(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,Xa(this),this}};var Pb=function(){return Math.random()},Rb=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Pb),function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Pb)),Ob=(function t(e){function n(){var t=Rb.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Pb),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(Pb)),Lb=(function t(e){function n(t){var n=Ob.source(e)(t);return function(){return n()/t}}return n.source=t,n}(Pb),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Pb),function(t,e){function n(t){var e,n=l.status;if(!n&&function(t){var e=l.responseType;return e&&"text"!==e?l.response:l.responseText}()||n>=200&&n<300||304===n){if(o)try{e=o.call(r,l)}catch(t){return void s.call("error",r,t)}else e=l;s.call("load",r,e)}else s.call("error",r,t)}var r,i,o,a,s=Gy("beforesend","progress","load","error"),u=D_(),l=new XMLHttpRequest,c=null,h=null,f=0;if("undefined"==typeof XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=n:l.onreadystatechange=function(t){l.readyState>3&&n(t)},l.onprogress=function(t){s.call("progress",r,t)},r={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u.get(t):(null==e?u.remove(t):u.set(t,e+""),r)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",r):i},responseType:function(t){return arguments.length?(a=t,r):a},timeout:function(t){return arguments.length?(f=+t,r):f},user:function(t){return arguments.length<1?c:(c=null==t?null:t+"",r)},password:function(t){return arguments.length<1?h:(h=null==t?null:t+"",r)},response:function(t){return o=t,r},get:function(t,e){return r.send("GET",t,e)},post:function(t,e){return r.send("POST",t,e)},send:function(e,n,o){return l.open(e,t,!0,c,h),null==i||u.has("accept")||u.set("accept",i+",*/*"),l.setRequestHeader&&u.each(function(t,e){l.setRequestHeader(e,t)}),null!=i&&l.overrideMimeType&&l.overrideMimeType(i),null!=a&&(l.responseType=a),f>0&&(l.timeout=f),null==o&&"function"==typeof n&&(o=n,n=null),null!=o&&1===o.length&&(o=function(t){return function(e,n){t(null==e?n:null)}}(o)),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),s.call("beforesend",r,l),l.send(null==n?null:n),r},abort:function(){return l.abort(),r},on:function(){var t=s.on.apply(s,arguments);return t===s?r:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return r.get(e)}return r}),kb=function(t,e){return function(n,r){var i=Lb(n).mimeType(t).response(e);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},Nb=(kb("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),kb("application/json",function(t){return JSON.parse(t.responseText)}),kb("text/plain",function(t){return t.responseText}),kb("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),function(t,e){return function(n,r,i){arguments.length<3&&(i=r,r=null);var o=Lb(n).mimeType(t);return o.row=function(t){return arguments.length?o.response(function(t,e){return function(n){return t(n.responseText,e)}}(e,r=t)):r},o.row(r),i?o.get(i):o}}),Ib=(Nb("text/csv",H_),Nb("text/tab-separated-values",W_),Array.prototype).slice,Db={name:"implicit"},Ub=new Date,Fb=new Date,jb=Ya(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});jb.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ya(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):jb:null};var Bb=6e4,zb=6048e5,Vb=(Ya(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Ya(function(t){t.setTime(Math.floor(t/Bb)*Bb)},function(t,e){t.setTime(+t+e*Bb)},function(t,e){return(e-t)/Bb},function(t){return t.getMinutes()}),Ya(function(t){var e=t.getTimezoneOffset()*Bb%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),Ya(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Bb)/864e5},function(t){return t.getDate()-1})),Gb=Za(0),Hb=Za(1),Wb=(Za(2),Za(3),Za(4)),Xb=(Za(5),Za(6),Ya(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Ya(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));Xb.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ya(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var qb=Xb,Yb=(Ya(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Bb)},function(t,e){return(e-t)/Bb},function(t){return t.getUTCMinutes()}),Ya(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),Ya(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1})),Zb=Ka(0),Kb=Ka(1),Qb=(Ka(2),Ka(3),Ka(4)),Jb=(Ka(5),Ka(6),Ya(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Ya(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));Jb.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ya(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var $b,tw,ew,nw,rw,iw=Jb,ow={"-":"",_:" ",0:"0"},aw=/^\s*\d+/,sw=/^%/,uw=/[\\^$*+?|[\]().{}]/g;!function(t){$b=function(e){function n(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=ow[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function r(t,e){return function(n){var r,o,a=$a(1900);if(i(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(r=(o=(r=Ja($a(a.y))).getUTCDay())>4||0===o?Kb.ceil(r):Kb(r),r=Yb.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(r=(o=(r=e($a(a.y))).getDay())>4||0===o?Hb.ceil(r):Hb(r),r=Vb.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),o="Z"in a?Ja($a(a.y)).getUTCDay():e($a(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(o+5)%7:a.w+7*a.U-(o+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Ja(a)):e(a)}}function i(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=E[i in ow?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}var o=t.dateTime,a=t.date,s=t.time,u=t.periods,l=t.days,c=t.shortDays,h=t.months,f=t.shortMonths,p=ns(u),d=rs(u),m=ns(l),g=rs(l),y=ns(c),v=rs(c),_=ns(h),b=rs(h),w=ns(f),x=rs(f),T={a:function(t){return c[t.getDay()]},A:function(t){return l[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return h[t.getMonth()]},c:null,d:Ts,e:Ts,f:Cs,H:Ss,I:Es,j:Ms,L:As,m:Ps,M:Rs,p:function(t){return u[+(t.getHours()>=12)]},Q:iu,s:ou,S:Os,u:Ls,U:ks,V:Ns,w:Is,W:Ds,x:null,X:null,y:Us,Y:Fs,Z:js,"%":ru},S={a:function(t){return c[t.getUTCDay()]},A:function(t){return l[t.getUTCDay()]},b:function(t){return f[t.getUTCMonth()]},B:function(t){return h[t.getUTCMonth()]},c:null,d:Bs,e:Bs,f:Ws,H:zs,I:Vs,j:Gs,L:Hs,m:Xs,M:qs,p:function(t){return u[+(t.getUTCHours()>=12)]},Q:iu,s:ou,S:Ys,u:Zs,U:Ks,V:Qs,w:Js,W:$s,x:null,X:null,y:tu,Y:eu,Z:nu,"%":ru},E={a:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.w=v[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.w=g[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=w.exec(e.slice(n));return r?(t.m=x[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=_.exec(e.slice(n));return r?(t.m=b[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return i(t,o,e,n)},d:ps,e:ps,f:_s,H:ms,I:ms,j:ds,L:vs,m:fs,M:gs,p:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.p=d[r[0].toLowerCase()],n+r[0].length):-1},Q:ws,s:xs,S:ys,u:os,U:as,V:ss,w:is,W:us,x:function(t,e,n){return i(t,a,e,n)},X:function(t,e,n){return i(t,s,e,n)},y:cs,Y:ls,Z:hs,"%":bs};return T.x=n(a,T),T.X=n(s,T),T.c=n(o,T),S.x=n(a,S),S.X=n(s,S),S.c=n(o,S),{format:function(t){var e=n(t+="",T);return e.toString=function(){return t},e},parse:function(t){var e=r(t+="",Qa);return e.toString=function(){return t},e},utcFormat:function(t){var e=n(t+="",S);return e.toString=function(){return t},e},utcParse:function(t){var e=r(t,Ja);return e.toString=function(){return t},e}}}(),tw=$b.format,ew=$b.parse,nw=$b.utcFormat,rw=$b.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var lw="%Y-%m-%dT%H:%M:%S.%LZ",cw=(Date.prototype.toISOString||nw(lw),+new Date("2000-01-01T00:00:00.000Z")||rw(lw),function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}),hw=(cw("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),cw("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),cw("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),cw("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")),fw=(a_(Fo(300,.5,0),Fo(-240,.5,1)),a_(Fo(-100,.75,.35),Fo(80,1.5,.8)),a_(Fo(260,.75,.35),Fo(80,1.5,.8)),Fo(),au(cw("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),au(cw("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),au(cw("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),au(cw("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Math,Math,Math,Math,Math,Math,Math,1e-12),pw=Math.PI,dw=2*pw;su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},function(t){(function(e){return new uu(t(e))})._curve=t}(function(t){return new su(t)}),uu.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}},Array,Math.sqrt(1/3),Math.sin(pw/10),Math.sin(7*pw/10);var mw=(Math.sin(dw/10),Math.cos(dw/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});cu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},(function(t){this._context=t}).prototype={areaStart:mw,areaEnd:mw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},(function(t){this._context=t}).prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},hu.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)this._basis.point(this._beta*t[u]+(1-this._beta)*(i+(r=u/n)*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}},function t(e){function n(t){return 1===e?new cu(t):new hu(t,e)}return n.beta=function(e){return t(+e)},n}(.85),pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:fu(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:fu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new pu(t,e)}return n.tension=function(e){return t(+e)},n}(0),du.prototype={areaStart:mw,areaEnd:mw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:fu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new du(t,e)}return n.tension=function(e){return t(+e)},n}(0),mu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:fu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new mu(t,e)}return n.tension=function(e){return t(+e)},n}(0),yu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:gu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new yu(t,e):new pu(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),vu.prototype={areaStart:mw,areaEnd:mw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:gu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new vu(t,e):new du(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),_u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:gu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new _u(t,e):new mu(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),(function(t){this._context=t}).prototype={areaStart:mw,areaEnd:mw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tu(this,this._t0,xu(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Tu(this,xu(this,n=wu(this,t,e)),n);break;default:Tu(this,this._t0,n=wu(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},((function(t){this._context=new Eu(t)}).prototype=Object.create(Su.prototype)).point=function(t,e){Su.prototype.point.call(this,e,t)},Eu.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},(function(t){this._context=t}).prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Mu(t),i=Mu(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},(function(t,e){this._context=t,this._t=e}).prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},Au.prototype={constructor:Au,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Ou(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Pu(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ru(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Ru(this,n),n=(t=n).U),n.C=!1,r.C=!0,Pu(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Ou(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,i.L=t=n.R,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Pu(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ru(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Pu(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Ru(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Pu(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Ru(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var gw,yw,vw,_w,bw,ww=Au,xw=[],Tw=[],Sw=1e-6,Ew=1e-12;Zu.prototype={constructor:Zu,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Fu(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s=n.site,u=-1,l=e[i[o-1]],c=l.left===s?l.right:l.left;++u<o;)a=c,c=(l=e[i[u]]).left===s?l.right:l.left,a&&c&&r<a.index&&r<c.index&&qu(s,a,c)<0&&t.push([s.data,a.data,c.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],l=e-i.site[1],c=u*u+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],l=e-s[1],h=u*u+l*l;h<c&&(c=h,a=s.index)}})}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}},Ku.prototype={constructor:Ku,scale:function(t){return 1===t?this:new Ku(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Ku(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Mw=new Ku(1,0,0);(function(t){return t.__zoom||Mw}).prototype=Ku.prototype;var Aw=function(){function t(){this.svgRoot={},this.scale=1,this.scaleFactor=.2,this.Tx=0,this.Ty=0,this.width=960,this.height=600}return t.prototype.setRoot=function(t){this.svgRoot=cv(t).append("svg").attr("class","svg-canvas").attr("width",this.width).attr("height",this.height)},t.prototype.renderGraph=function(t){function e(t){var e=t.x-t.width/2,n=t.x+t.width/2,r=t.y-t.heigth/2,i=t.y+t.heigth/2;return function(o,a,s,u,l){if(o.point&&o.point!==t){var c=t.x-o.point.x,h=t.y-o.point.y,f=Math.sqrt(c*c+h*h),p=t.width+o.point.radius;f<p&&(t.x-=c*=f=(f-p)/f*.5,t.y-=h*=f,o.point.x+=c,o.point.y+=h)}return a>n||u<e||s>i||l<r}}var n=qa(hw),r=t.links.map(function(t){return t}),i=0,o=t.nodes.map(function(t){i++;var e=Math.floor(i/3);return t.width=80,t.height=40,t.x=100*e,t.y=40,t}),a=this.svgRoot.append("g").attr("class","links-style").selectAll("line").data(r).enter().append("line").attr("stroke-width",function(t){return Math.sqrt(t.value)}),s=this.svgRoot.append("g").attr("class","nodes-style").selectAll(".node-body").data(o).enter().append("g").attr("class","node-body").call(mv().on("start",function(t){tv.active||u.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y}).on("drag",function(t){t.fx=tv.x,t.fy=tv.y}).on("end",function(t){tv.active||u.alphaTarget(0),t.fx=null,t.fy=null}));s.append("rect").attr("width",function(t){return t.width}).attr("height",function(t){return t.height}).attr("fill",function(t){return n(t.group)}),s.append("text").attr("y",20).attr("x",40).attr("text-anchor","middle").attr("font-family","sans-serif").attr("font-size","10px").text(function(t){return t.id});var u=eb().force("x",nb(function(t){return t.x}).strength(4)).force("collide",J_(22)).force("center",X_(this.width/2,this.height/2));u.nodes(o).on("tick",function(){for(var t=ga().addAll(o),n=0,r=o.length;++n<r;)t.visit(e(o[n]));a.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),s.attr("transform",function(t){return Qu(t.x-t.width/2,t.y-t.height/2)})})},t.prototype.renderDiagram=function(t,e,n,r){function i(t){var e=t.x-t.width/2,n=t.x+t.width/2,r=t.y-t.heigth/2,i=t.y+t.heigth/2;return function(o,a,s,u,l){if(o.point&&o.point!==t){var c=t.x-o.point.x,h=t.y-o.point.y,f=Math.sqrt(c*c+h*h),p=t.width+o.point.radius;f<p&&(t.x-=c*=f=(f-p)/f*.5,t.y-=h*=f,o.point.x+=c,o.point.y+=h)}return a>n||u<e||s>i||l<r}}var o=this.svgRoot.append("g").attr("class","links-style").selectAll("line").data(n).enter().append("line").attr("stroke-width",function(t){return Math.sqrt(t.value)}),a=this.svgRoot.append("g").attr("class","nodes-style").selectAll(".node-body").data(t).enter().append("g").attr("class","node-body");e&&e(a),a.call(mv().on("start",function(t){tv.active||s.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y}).on("drag",function(t){t.fx=tv.x,t.fy=tv.y}).on("end",function(t){tv.active||s.alphaTarget(0),t.fx=null,t.fy=null}));var s=eb().force("x",nb(function(t){return t.x}).strength(4)).force("collide",J_(22)).force("center",X_(this.width/2,this.height/2));s.nodes(t).on("tick",function(){for(var e=ga().addAll(t),n=0,r=t.length;++n<r;)e.visit(i(t[n]));o.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),a.attr("transform",function(t){return Qu(t.x-t.width/2,t.y-t.height/2)})})},t}(),Cw=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pw=function(t){function e(e){var n=t.call(this,e)||this;return n.color=qa(hw),n}return Cw(e,t),e.prototype.localGeom=function(t){return t.append("rect").attr("width",function(t){return t.width}).attr("height",function(t){return t.height}).attr("fill",function(t){return this.color(t.group)}).append("text").attr("class","text-style"),t.attr("y",function(t){return t.height/2}).attr("x",function(t){return t.width/2}).attr("text-anchor","middle").attr("font-family","sans-serif").attr("font-size","10px").text(function(t){return t.text+t.myGuid}),t},e}(qh),Rw=function(){function t(){this.nodeDef=new Pw({id:"steve",group:1,width:80,height:40,text:"hello"})}return t.prototype.doGeom=function(t){var e=t.append("rect").attr("width",function(t){return t.width}).attr("height",function(t){return t.height}).attr("fill",function(t){return qa(hw)(t.group)}).append("text").attr("class","text-style");return t.attr("y",function(t){return t.height/2}).attr("x",function(t){return t.width/2}).attr("text-anchor","middle").attr("font-family","sans-serif").attr("font-size","10px").text(function(t){return t.text+t.myGuid}),e},t}();window.dragMoveListener=function(t){var e=t.target,n=(parseFloat(e.getAttribute("data-x"))||0)+t.dx,r=(parseFloat(e.getAttribute("data-y"))||0)+t.dy;e.style.webkitTransform=e.style.transform="translate("+n+"px, "+r+"px)",e.setAttribute("data-x",n),e.setAttribute("data-y",r)};var Ow=function(){function t(t,e){this.vcr=t,this.service=e,this.myDiagram=new Aw,this.myModel=new Rw}return t.prototype.scaleOut=function(){},t.prototype.scaleIn=function(){},t.prototype.ngOnInit=function(){this.myDiagram.setRoot(this.vcr.element.nativeElement),this.myDiagram.renderGraph({nodes:[{id:"Myriel",group:1},{id:"Napoleon",group:1},{id:"Mlle.Baptistine",group:1},{id:"Fameuil",group:3}],links:[{source:"Napoleon",target:"Myriel",value:1}]});for(var t=[],e=this.myModel.nodeDef,n=0;n<2;n++){var r=e.newInstance({index:n,id:function(){return"Hello all "+this.myGuid}});t.push(r)}console.log(t)},t}(),Lw=function(){function t(t){this.http=t}return t.prototype.getModel=function(){return new dg.a(function(t){setTimeout(function(){t.next(21)},1e3),setTimeout(function(){t.next(22)},2e3),setTimeout(function(){t.complete()},3e3)})},t.prototype.extractData=function(t){return t.json()||{}},t.prototype.handleError=function(t){var e;if(t instanceof Cg){var n=t.json()||"",r=n.error||JSON.stringify(n);e=t.status+" - "+(t.statusText||"")+" "+r}else e=t.message?t.message:t.toString();console.error(e);var i={title:"Dockerecosystem Service",message:e};return xh.get("SHOWERROR").emit(i),dg.a.throw(e)},t.prototype.getEcosystem=function(){return this.http.get("dockerecosystem.json")},t}(),kw=_h["\u0275crt"]({encapsulation:0,styles:[["#outer-dropzone[_ngcontent-%COMP%]{height:140px}#inner-dropzone[_ngcontent-%COMP%]{height:80px}.dropzone[_ngcontent-%COMP%]{background-color:#ccc;border:4px dashed transparent;border-radius:4px;margin:10px auto 30px;padding:10px;width:80%;transition:background-color .3s}.drop-active[_ngcontent-%COMP%]{border-color:#aaa}.drop-target[_ngcontent-%COMP%]{background-color:#29e;border-color:#fff;border-style:solid}.drag-drop[_ngcontent-%COMP%]{display:inline-block;min-width:40px;padding:2em .5em;color:#fff;background-color:#29e;border:2px solid #fff;-webkit-transform:translate(0);transform:translate(0);transition:background-color .3s}.drag-drop.can-drop[_ngcontent-%COMP%]{color:#000;background-color:#4e4}"]],data:{}}),Nw=function(){function t(t,e){this.http=t,this.vcr=e,this.graph={}}return t.prototype.ngOnInit=function(){function t(t){tv.active||a.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y}function e(t){t.fx=tv.x,t.fy=tv.y}function n(t){tv.active||a.alphaTarget(0),t.fx=null,t.fy=null}var r=this,i=cv(this.vcr.element.nativeElement).append("svg").attr("class","svg-canvas").attr("width",1e3).attr("height",600),o=qa(hw),a=eb().force("link",function(t){function e(e){for(var n=0,r=t.length;n<p;++n)for(var i,s,u,c,h,f,d,m=0;m<r;++m)c=(u=(i=t[m]).target).x+u.vx-(s=i.source).x-s.vx||Y_(),h=u.y+u.vy-s.y-s.vy||Y_(),h*=f=((f=Math.sqrt(c*c+h*h))-a[m])/f*e*o[m],u.vx-=(c*=f)*(d=l[m]),u.vy-=h*d,s.vx+=c*(d=1-d),s.vy+=h*d}function n(){if(s){var e,n,h=s.length,f=t.length,p=D_(s,c);for(e=0,u=new Array(h);e<f;++e)(n=t[e]).index=e,"object"!=typeof n.source&&(n.source=xa(p,n.source)),"object"!=typeof n.target&&(n.target=xa(p,n.target)),u[n.source.index]=(u[n.source.index]||0)+1,u[n.target.index]=(u[n.target.index]||0)+1;for(e=0,l=new Array(f);e<f;++e)l[e]=u[(n=t[e]).source.index]/(u[n.source.index]+u[n.target.index]);o=new Array(f),r(),a=new Array(f),i()}}function r(){if(s)for(var e=0,n=t.length;e<n;++e)o[e]=+h(t[e],e,t)}function i(){if(s)for(var e=0,n=t.length;e<n;++e)a[e]=+f(t[e],e,t)}var o,a,s,u,l,c=wa,h=function(t){return 1/Math.min(u[t.source.index],u[t.target.index])},f=q_(30),p=1;return null==t&&(t=[]),e.initialize=function(t){s=t,n()},e.links=function(r){return arguments.length?(t=r,n(),e):t},e.id=function(t){return arguments.length?(c=t,e):c},e.iterations=function(t){return arguments.length?(p=+t,e):p},e.strength=function(t){return arguments.length?(h="function"==typeof t?t:q_(+t),r(),e):h},e.distance=function(t){return arguments.length?(f="function"==typeof t?t:q_(+t),i(),e):f},e}().id(function(t){return t.id})).force("charge",function(){function t(t){var e,s=i.length,u=ga(i,Ta,Sa).visitAfter(n);for(a=t,e=0;e<s;++e)o=i[e],u.visit(r)}function e(){if(i){var t,e,n=i.length;for(s=new Array(n),t=0;t<n;++t)e=i[t],s[e.index]=+u(e,t,i)}}function n(t){var e,n,r,i,o,a=0,u=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(a+=e.value,u+=n,r+=n*e.x,i+=n*e.y);t.x=r/u,t.y=i/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=s[e.data.index]}while(e=e.next)}t.value=a}function r(t,e,n,r){if(!t.value)return!0;var i=t.x-o.x,u=t.y-o.y,f=r-e,p=i*i+u*u;if(f*f/h<p)return p<c&&(0===i&&(i=Y_(),p+=i*i),0===u&&(u=Y_(),p+=u*u),p<l&&(p=Math.sqrt(l*p)),o.vx+=i*t.value*a/p,o.vy+=u*t.value*a/p),!0;if(!(t.length||p>=c)){(t.data!==o||t.next)&&(0===i&&(i=Y_(),p+=i*i),0===u&&(u=Y_(),p+=u*u),p<l&&(p=Math.sqrt(l*p)));do{t.data!==o&&(o.vx+=i*(f=s[t.data.index]*a/p),o.vy+=u*f)}while(t=t.next)}}var i,o,a,s,u=q_(-30),l=1,c=1/0,h=.81;return t.initialize=function(t){i=t,e()},t.strength=function(n){return arguments.length?(u="function"==typeof n?n:q_(+n),e(),t):u},t.distanceMin=function(e){return arguments.length?(l=e*e,t):Math.sqrt(l)},t.distanceMax=function(e){return arguments.length?(c=e*e,t):Math.sqrt(c)},t.theta=function(e){return arguments.length?(h=e*e,t):Math.sqrt(h)},t}()).force("center",X_(500,300));this.http.get("miserables.json").subscribe(function(s){r.graph=s.json();var u=i.append("g").attr("class","links-style").selectAll("line").data(r.graph.links).enter().append("line").attr("stroke-width",function(t){return Math.sqrt(t.value)}),l=i.append("g").attr("class","nodes-style").selectAll("circle").data(r.graph.nodes).enter().append("circle").attr("r",5).attr("fill",function(t){return o(t.group)}).call(mv().on("start",t).on("drag",e).on("end",n));l.append("title").text(function(t){return t.id}),a.nodes(r.graph.nodes).on("tick",function(){u.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y})}),a.force("link").links(r.graph.links)})},t}(),Iw=_h["\u0275crt"]({encapsulation:0,styles:[[".svg-canvas[_ngcontent-%COMP%]{border:#00008b;border-style:solid}"]],data:{}}),Dw=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Uw=_h["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}}),Fw=_h["\u0275ccf"]("foundry-networkview",Dw,function(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,0,null,null,1,"foundry-networkview",[],null,null,null,tl,Uw)),_h["\u0275did"](1,114688,null,0,Dw,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),jw=n("TO51"),Bw=n("Upor"),zw=function(t){function e(e){t.call(this),this._value=e}return Object(pg.b)(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Bw.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(jw.Subject),Vw=n("Oryw"),Gw=Vw.a.of,Hw=n("wP3s"),Ww=n("1j/l"),Xw=n("kQVV"),qw=n("mHG6"),Yw=n("xIGM"),Zw=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return Object(pg.b)(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,r=this.scheduler;if(null==r)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){Yw.a.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return r.schedule(rl,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(r.schedule(rl,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(r.schedule(il,0,{err:e,subscriber:t}))}).then(null,function(t){Yw.a.setTimeout(function(){throw t})})},e}(dg.a),Kw=n("X3fp"),Qw=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=function(t){var e=t[Kw.a];if(!e&&"string"==typeof t)return new Jw(t);if(!e&&void 0!==t.length)return new $w(t);if(!e)throw new TypeError("object is not iterable");return t[Kw.a]()}(e)}return Object(pg.b)(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.iterator,r=t.subscriber;if(t.hasError)r.error(t.error);else{var i=n.next();i.done?r.complete():(r.next(i.value),t.index=e+1,r.closed?"function"==typeof n.return&&n.return():this.schedule(t))}},e.prototype._subscribe=function(t){var n=this.iterator,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{index:0,iterator:n,subscriber:t});for(;;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed){"function"==typeof n.return&&n.return();break}}},e}(dg.a),Jw=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[Kw.a]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),$w=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=function(e){var n=+t.length;return isNaN(n)?0:0!==n&&"number"==typeof n&&Yw.a.isFinite(n)?(n=function(t){var e=+n;return 0===e?e:isNaN(e)?e:e<0?-1:1}()*Math.floor(Math.abs(n)))<=0?0:n>tx?tx:n:n}()),this.arr=t,this.idx=e,this.len=n}return t.prototype[Kw.a]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),tx=Math.pow(2,53)-1,ex=n("8Ut3"),nx=n("Ecq+"),rx=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return Object(pg.b)(e,t),e.create=function(t,n){var r=t.length;return 0===r?new nx.a:1===r?new ex.a(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,r=t.subscriber;r.closed||(n>=t.length?r.complete():(r.next(e[n]),t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.arrayLike,r=this.scheduler,i=n.length;if(r)return r.schedule(e.dispatch,0,{arrayLike:n,index:0,length:i,subscriber:t});for(var o=0;o<i&&!t.closed;o++)t.next(n[o]);t.complete()},e}(dg.a),ix=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return dg.a.of(this.value);case"E":return dg.a.throw(this.error);case"C":return dg.a.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return"undefined"!=typeof e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),ox=function(t){function e(e,n,r){void 0===r&&(r=0),t.call(this,e),this.scheduler=n,this.delay=r}return Object(pg.b)(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new ax(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(ix.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(ix.createError(t))},e.prototype._complete=function(){this.scheduleMessage(ix.createComplete())},e}(ty.a),ax=function(t,e){this.notification=t,this.destination=e},sx=n("mz3w"),ux=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return Object(pg.b)(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[sx.a])return t instanceof dg.a&&!n?t:new e(t,n);if(Object(Ww.a)(t))return new Vw.a(t,n);if(Object(qw.a)(t))return new Zw(t,n);if("function"==typeof t[Kw.a]||"string"==typeof t)return new Qw(t,n);if(Object(Xw.a)(t))return new rx(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[sx.a]().subscribe(t):e[sx.a]().subscribe(new ox(t,n,0))},e}(dg.a).create,lx=n("bywS"),cx=n("l+DM"),hx=n("Ry8D"),fx=Zw.create,px=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new dx(t,this.predicate,this.thisArg,this.source))},t}(),dx=function(t){function e(e,n,r,i){t.call(this,e),this.predicate=n,this.thisArg=r,this.source=i,this.index=0,this.thisArg=r||this}return Object(pg.b)(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ty.a),mx=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new gx(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),gx=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,"undefined"!=typeof i&&(this.lastValue=i,this.hasValue=!0)}return Object(pg.b)(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new hx.a)},e}(ty.a),yx=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new vx(t,this.accumulator,this.seed,this.hasSeed))},t}(),vx=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this._seed=r,this.hasSeed=i,this.index=0}return Object(pg.b)(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(ty.a),_x=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return Object(pg.b)(e,t),e}(Error),bx=function(){function t(t){if(this.total=t,this.total<0)throw new _x}return t.prototype.call=function(t,e){return e.subscribe(new wx(t,this.total))},t}(),wx=function(t){function e(e,n){t.call(this,e),this.total=n,this.ring=new Array,this.count=0}return Object(pg.b)(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(ty.a),xx=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new Tx(t,this.defaultValue))},t}(),Tx=function(t){function e(e,n){t.call(this,e),this.defaultValue=n,this.isEmpty=!0}return Object(pg.b)(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(ty.a),Sx=n("ExCY"),Ex=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Mx(t,this.predicate,this.thisArg))},t}(),Mx=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.thisArg=r,this.count=0}return Object(pg.b)(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(ty.a),Ax=function(t,e){this.id=t,this.url=e},Cx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pg.b)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(Ax),Px=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return Object(pg.b)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(Ax),Rx=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return Object(pg.b)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(Ax),Ox=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return Object(pg.b)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(Ax),Lx=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(pg.b)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ax),kx=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(pg.b)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ax),Nx=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return Object(pg.b)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(Ax),Ix=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(pg.b)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ax),Dx=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(pg.b)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ax),Ux=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Fx=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),jx=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Bx=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),zx=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Vx=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Gx="primary",Hx=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}(),Wx="ngNavigationCancelingError",Xx=function(t,e){this.routes=t,this.module=e},qx=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=fl(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Jx.serialize(this)},t}(),Yx=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,vl(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Al(this)},t}(),Zx=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=fl(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Ol(this)},t}(),Kx=function(){},Qx=function(){function t(){}return t.prototype.parse=function(t){var e=new nT(t);return new qx(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){return"/"+Cl(t.root,!0)+function(t){var e=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return Pl(e)+"="+Pl(t)}).join("&"):Pl(e)+"="+Pl(n)});return e.length?"?"+e.join("&"):""}(t.queryParams)+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Jx=new Qx,$x=/^[^\/()?;=&#]+/,tT=/^[^=?&#]+/,eT=/^[^?&#]+/,nT=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yx([],{}):new Yx([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURI(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Gx]=new Yx(t,e)),n},t.prototype.parseSegment=function(){var t=Ll(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new Zx(Rl(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=Ll(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Ll(this.remaining);r&&this.capture(n=r)}t[Rl(e)]=Rl(n)}},t.prototype.parseQueryParam=function(t){var e=function(t){var e=t.match(tT);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(eT);return e?e[0]:""}(this.remaining);r&&this.capture(n=r)}var i=Rl(e),o=Rl(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(t[i]=a=[a]),a.push(o)}else t[i]=o}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Ll(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Gx);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Gx]:new Yx([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),rT=function(t){this.segmentGroup=t||null},iT=function(t){this.urlTree=t},oT=function(){function t(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(_h.NgModuleRef)}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Gx),n=zi.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return Bi.call(n,function(e){if(e instanceof iT)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof rT)throw t.noMatchError(e);throw e})},t.prototype.match=function(t){var e=this,n=this.expandSegmentGroup(this.ngModule,this.config,t.root,Gx),r=zi.call(n,function(n){return e.createUrlTree(n,t.queryParams,t.fragment)});return Bi.call(r,function(t){if(t instanceof rT)throw e.noMatchError(t);throw t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r=t.segments.length>0?new Yx([],(i={},i[Gx]=t,i)):t;return new qx(r,e,n);var i},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?zi.call(this.expandChildren(t,e,n),function(t){return new Yx([],t)}):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Gw({});var o=[],a=[],s={};vl(n,function(n,i){var u=zi.call(r.expandSegmentGroup(t,e,n,i),function(t){return s[i]=t});i===Gx?o.push(u):a.push(u)});var u=ol.call(Gw.apply(void 0,o.concat(a))),l=sl.call(u);return zi.call(l,function(){return s})}(n.children)},t.prototype.expandSegment=function(t,e,n,r,i,o){var a=this,s=Gw.apply(void 0,n),u=zi.call(s,function(s){var u=a.expandSegmentAgainstRoute(t,e,n,s,r,i,o);return Bi.call(u,function(t){if(t instanceof rT)return Gw(null);throw t})}),l=ol.call(u),c=cx.a.call(l,function(t){return!!t});return Bi.call(c,function(t,n){if(t instanceof hx.a){if(a.noLeftoversInUrl(e,r,i))return Gw(new Yx([],{}));throw new rT(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return jl(r)!==o?kl(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):kl(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Nl(o):nl.call(this.lineralizeSegments(n,o),function(n){var o=new Yx(n,{});return i.expandSegment(t,o,e,n,r,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,s=Dl(e,r,i),u=s.consumedSegments,l=s.lastChild,c=s.positionalParamSegments;if(!s.matched)return kl(e);var h=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?Nl(h):nl.call(this.lineralizeSegments(r,h),function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?zi.call(this.configLoader.load(t.injector,n),function(t){return n._loadedConfig=t,new Yx(r,{})}):Gw(new Yx(r,{}));var o=Dl(e,n,r),a=o.consumedSegments,s=o.lastChild;if(!o.matched)return kl(e);var u=r.slice(s),l=this.getChildConfig(t,n);return nl.call(l,function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(function(n){return Fl(t,e,n)&&jl(n)!==Gx})}(t,n)?{segmentGroup:Ul(new Yx(e,function(t,e){var n={};n[Gx]=e;for(var r=0,i=t;r<i.length;r++){var o=i[r];""===o.path&&jl(o)!==Gx&&(n[jl(o)]=new Yx([],{}))}return n}(r,new Yx(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(function(n){return Fl(t,e,n)})}(t,n)?{segmentGroup:Ul(new Yx(t.segments,function(t,e,n,i){for(var o={},a=0,s=r;a<s.length;a++){var u=s[a];Fl(t,e,u)&&!i[jl(u)]&&(o[jl(u)]=new Yx([],{}))}return Object(pg.a)({},i,o)}(t,n,0,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,u,r),s=o.segmentGroup,l=o.slicedSegments;if(0===l.length&&s.hasChildren()){var c=i.expandChildren(n,r,s);return zi.call(c,function(t){return new Yx(a,t)})}if(0===r.length&&0===l.length)return Gw(new Yx(a,{}));var h=i.expandSegment(n,s,r,l,Gx,!0);return zi.call(h,function(t){return new Yx(a.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?Gw(new Xx(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Gw(e._loadedConfig):nl.call(function(t,e){var n=e.canLoad;return n&&0!==n.length?_l(zi.call(ux(n),function(n){var r=t.get(n);return bl(r.canLoad?r.canLoad(e):r(e))})):Gw(!0)}(t.injector,e),function(r){return r?zi.call(n.configLoader.load(t.injector,e),function(t){return e._loadedConfig=t,t}):function(t){return new dg.a(function(e){return e.error(function(t){var e=Error("NavigationCancelingError: "+t);return e[Wx]=!0,e}("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}(e)}):Gw(new Xx([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Gw(n);if(r.numberOfChildren>1||!r.children[Gx])return Il(t.redirectTo);r=r.children[Gx]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new qx(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return vl(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return vl(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new Yx(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){for(var n=0,r=0,i=e;r<i.length;r++){var o=i[r];if(o.path===t.path)return e.splice(n),o;n++}return t},t}(),aT=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=Bl(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=Bl(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=zl(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return zl(t,this._root).map(function(t){return t.value})},t}(),sT=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}(),uT=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,Wl(r,e),r}return Object(pg.b)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(aT),lT=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=zi.call(this.params,function(t){return fl(t)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=zi.call(this.queryParams,function(t){return fl(t)})),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}(),cT=function(){function t(t,e,n,r,i,o,a,s,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=fl(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=fl(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),hT=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,Wl(r,n),r}return Object(pg.b)(e,t),e.prototype.toString=function(){return Xl(this._root)},e}(aT),fT=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ql(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==yl(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),pT=function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n},dT=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),t}(),mT=function(t,e){this.component=t,this.route=e},gT=function(){function t(t,e,n,r){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=r,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.initialize=function(t){var e=this.future._root;this.setupChildRouteGuards(e,this.curr?this.curr._root:null,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(!this.isDeactivating()&&!this.isActivating())return Gw(!0);var e=this.runCanDeactivateChecks();return nl.call(e,function(e){return e?t.runCanActivateChecks():Gw(!1)})},t.prototype.resolveData=function(){var t=this;if(!this.isActivating())return Gw(null);var e=ux(this.canActivateChecks),n=el.call(e,function(e){return t.runResolve(e.route)});return(function(t,e){return arguments.length>=2?hl(t,e)(this):hl(t)(this)}).call(n,function(t,e){return t})},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.setupChildRouteGuards=function(t,e,n,r){var i=this,o=Vl(e);t.children.forEach(function(t){i.setupRouteGuards(t,o[t.value.outlet],n,r.concat([t.value])),delete o[t.value.outlet]}),vl(o,function(t,e){return i.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.setupRouteGuards=function(t,e,n,r){var i=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){var s=this.shouldRunGuardsAndResolvers(o,i,i.routeConfig.runGuardsAndResolvers);s?this.canActivateChecks.push(new dT(r)):(i.data=o.data,i._resolvedData=o._resolvedData),i.component?this.setupChildRouteGuards(t,e,a?a.children:null,r):this.setupChildRouteGuards(t,e,n,r),s&&this.canDeactivateChecks.push(new mT(a.outlet.component,o))}else o&&this.deactivateRouteAndItsChildren(e,a),this.canActivateChecks.push(new dT(r)),i.component?this.setupChildRouteGuards(t,null,a?a.children:null,r):this.setupChildRouteGuards(t,null,n,r)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!Yl(t,e)||!ml(t.queryParams,e.queryParams);case"paramsChange":default:return!Yl(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,r=Vl(t),i=t.value;vl(r,function(t,r){i.component?e?n.deactivateRouteAndItsChildren(t,e.children.getContext(r)):n.deactivateRouteAndItsChildren(t,null):n.deactivateRouteAndItsChildren(t,e)}),this.canDeactivateChecks.push(i.component&&e&&e.outlet&&e.outlet.isActivated?new mT(e.outlet.component,i):new mT(null,i))},t.prototype.runCanDeactivateChecks=function(){var t=this,e=ux(this.canDeactivateChecks),n=nl.call(e,function(e){return t.runCanDeactivate(e.component,e.route)});return al.call(n,function(t){return!0===t})},t.prototype.runCanActivateChecks=function(){var t=this,e=ux(this.canActivateChecks),n=el.call(e,function(e){return _l(ux([t.fireChildActivationStart(e.route.parent),t.fireActivationStart(e.route),t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))});return al.call(n,function(t){return!0===t})},t.prototype.fireActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new zx(t)),Gw(!0)},t.prototype.fireChildActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new jx(t)),Gw(!0)},t.prototype.runCanActivate=function(t){var e=this,n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?_l(zi.call(ux(n),function(n){var r,i=e.getToken(n,t);return r=bl(i.canActivate?i.canActivate(t,e.future):i(t,e.future)),cx.a.call(r)})):Gw(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return _l(zi.call(ux(r),function(t){return _l(zi.call(ux(t.guards),function(r){var i,o=e.getToken(r,t.node);return i=bl(o.canActivateChild?o.canActivateChild(n,e.future):o(n,e.future)),cx.a.call(i)}))}))},t.prototype.extractCanActivateChild=function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!r||0===r.length)return Gw(!0);var i=nl.call(ux(r),function(r){var i,o=n.getToken(r,e);return i=bl(o.canDeactivate?o.canDeactivate(t,e,n.curr,n.future):o(t,e,n.curr,n.future)),cx.a.call(i)});return al.call(i,function(t){return!0===t})},t.prototype.runResolve=function(t){return zi.call(this.resolveNode(t._resolve,t),function(e){return t._resolvedData=e,t.data=Object(pg.a)({},t.data,Hl(t).resolve),null})},t.prototype.resolveNode=function(t,e){var n=this,r=Object.keys(t);if(0===r.length)return Gw({});if(1===r.length){var i=r[0];return zi.call(this.getResolver(t[i],e),function(t){return e={},e[i]=t,e;var e})}var o={},a=nl.call(ux(r),function(r){return zi.call(n.getResolver(t[r],e),function(t){return o[r]=t,t})});return zi.call(sl.call(a),function(){return o})},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return bl(n.resolve?n.resolve(e,this.future):n(e,this.future))},t.prototype.getToken=function(t,e){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),yT=function(){},vT=function(){function t(t,e,n,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r}return t.prototype.recognize=function(){try{var t=sc(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,Gx),n=new cT([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},Gx,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new sT(n,e),i=new hT(this.url,r);return this.inheritParamsAndData(i._root),Gw(i)}catch(t){return new dg.a(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=Hl(n);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n=this,r=Ml(e,function(e,r){return n.processSegmentGroup(t,e,r)});return function(t){var e={};r.forEach(function(t){var n=e[t.value.outlet];if(n){var r=n.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}e[t.value.outlet]=t.value})}(),r.sort(function(t,e){return t.value.outlet===Gx?-1:e.value.outlet===Gx?1:t.value.outlet.localeCompare(e.value.outlet)}),r},t.prototype.processSegment=function(t,e,n,r){for(var i=0,o=t;i<o.length;i++){var a=o[i];try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(t){if(!(t instanceof yT))throw t}}if(this.noLeftoversInUrl(e,n,r))return[];throw new yT},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new yT;if((t.outlet||Gx)!==r)throw new yT;if("**"===t.path){var i=n.length>0?yl(n).parameters:{},o=new cT(n,i,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,cc(t),r,t.component,t,oc(e),ac(e)+n.length,hc(t));return[new sT(o,[])]}var a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new yT;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||pl)(n,t,e);if(!r)throw new yT;var i={};vl(r.posParams,function(t,e){i[e]=t.path});var o=r.consumed.length>0?Object(pg.a)({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n),s=a.consumedSegments,u=a.parameters,l=n.slice(a.lastChild),c=t.children?t.children:t.loadChildren?t._loadedConfig.routes:[],h=sc(e,s,l,c),f=h.segmentGroup,p=h.slicedSegments,d=new cT(s,u,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,cc(t),r,t.component,t,oc(e),ac(e)+s.length,hc(t));if(0===p.length&&f.hasChildren()){var m=this.processChildren(c,f);return[new sT(d,m)]}if(0===c.length&&0===p.length)return[new sT(d,[])];var g=this.processSegment(c,f,p,Gx);return[new sT(d,g)]},t}(),_T=function(){},bT=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),wT=new _h.InjectionToken("ROUTES"),xT=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren);return zi.call(r,function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Xx(gl(i.injector.get(wT)),i)})},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?fx(this.loader.load(t)):nl.call(bl(t()),function(t){return t instanceof _h.NgModuleFactory?Gw(t):fx(e.compiler.compileModuleAsync(t))})},t}(),TT=function(){},ST=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}(),ET=function(){function t(t,e,n,r,i,o,a,s){var u=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=s,this.navigations=new zw(null),this.navigationId=0,this.events=new jw.Subject,this.errorHandler=fc,this.navigated=!1,this.hooks={beforePreactivation:pc,afterPreactivation:pc},this.urlHandlingStrategy=new ST,this.routeReuseStrategy=new bT,this.onSameUrlNavigation="ignore",this.ngModule=i.get(_h.NgModuleRef),this.resetConfig(s),this.currentUrlTree=new qx(new Yx([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new xT(o,a,function(t){return u.triggerEvent(new Ux(t))},function(t){return u.triggerEvent(new Fx(t))}),this.routerState=Gl(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(e){var n=t.urlSerializer.parse(e.url),r="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(n,r,{replaceUrl:!0})},0)})))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){dl(t),this.config=t,this.navigated=!1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,r=e.queryParams,i=e.fragment,o=e.preserveQueryParams,a=e.queryParamsHandling,s=e.preserveFragment;Object(_h.isDevMode)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,l=s?this.currentUrlTree.fragment:i,c=null;if(a)switch(a){case"merge":c=Object(pg.a)({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Jl(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new fT(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return vl(r.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:o}])}if(r.segmentPath)return t.concat([r.segmentPath])}return"string"!=typeof r?t.concat([r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):t.concat([r])},[]);return new fT(n,e,r)}(n);if(o.toRoot())return Jl(e.root,new Yx([],{}),e,r,i);var a=function(t,n,r){if(t.isAbsolute)return new pT(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new pT(r.snapshot._urlSegment,!0,0);var i=Ql(t.commands[0])?0:1;return function(e,n,o){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+i,u=t.numberOfDoubleDots;u>s;){if(u-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new pT(a,!1,s-u)}()}(o,0,t),s=a.processChildren?nc(a.segmentGroup,a.index,o.commands):ec(a.segmentGroup,a.index,o.commands);return Jl(a.segmentGroup,s,e,r,i)}(u,this.currentUrlTree,t,c,l)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof qx?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof qx)return wl(this.currentUrlTree,t,e);var n=this.urlSerializer.parse(t);return wl(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;el.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):Gw(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n){var r=this.navigations.value;if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);var i=null,o=null,a=new Promise(function(t,e){i=t,o=e}),s=++this.navigationId;return this.navigations.next({id:s,source:e,rawUrl:t,extras:n,resolve:i,reject:o,promise:a}),a.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,i=t.extras,o=t.resolve,a=t.reject,s=this.urlHandlingStrategy.extract(r),u=!this.navigated||s.toString()!==this.currentUrlTree.toString();("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(r)?(this.events.next(new Cx(n,this.serializeUrl(s))),Promise.resolve().then(function(t){return e.runNavigate(s,r,!!i.skipLocationChange,!!i.replaceUrl,n,null)}).then(o,a)):u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new Cx(n,this.serializeUrl(s))),Promise.resolve().then(function(t){return e.runNavigate(s,r,!1,!1,n,Gl(s,e.rootComponentType).snapshot)}).then(o,a)):(this.rawUrlTree=r,o(null))},t.prototype.runNavigate=function(t,e,n,r,i,o){var a=this;return i!==this.navigationId?(this.events.next(new Rx(i,this.serializeUrl(t),"Navigation ID "+i+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(s,u){var l;if(o)l=Gw({appliedUrl:t,snapshot:o});else{var c=new oT(a.ngModule.injector,a.configLoader,a.urlSerializer,t,a.config).apply();l=nl.call(c,function(e){return zi.call(function(t,e,n,r){return new vT(t,e,n,r).recognize()}(a.rootComponentType,a.config,e,a.serializeUrl(e)),function(n){return a.events.next(new Lx(i,a.serializeUrl(t),a.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}})})}var h,f,p=nl.call(l,function(t){return zi.call(a.hooks.beforePreactivation(t.snapshot),function(){return t})}),d=zi.call(p,function(t){var e=t.appliedUrl,n=t.snapshot;return(h=new gT(n,a.routerState.snapshot,a.ngModule.injector,function(t){return a.triggerEvent(t)})).initialize(a.rootContexts),{appliedUrl:e,snapshot:n}}),m=nl.call(d,function(e){var n=e.appliedUrl,r=e.snapshot;return a.navigationId!==i?Gw(!1):(a.triggerEvent(new kx(i,a.serializeUrl(t),n,r)),zi.call(h.checkGuards(),function(e){return a.triggerEvent(new Nx(i,a.serializeUrl(t),n,r,e)),{appliedUrl:n,snapshot:r,shouldActivate:e}}))}),g=nl.call(m,function(e){return a.navigationId!==i?Gw(!1):e.shouldActivate&&h.isActivating()?(a.triggerEvent(new Ix(i,a.serializeUrl(t),e.appliedUrl,e.snapshot)),zi.call(h.resolveData(),function(){return a.triggerEvent(new Dx(i,a.serializeUrl(t),e.appliedUrl,e.snapshot)),e})):Gw(e)}),y=nl.call(g,function(t){return zi.call(a.hooks.afterPreactivation(t.snapshot),function(){return t})}),v=zi.call(y,function(t){var e=t.appliedUrl,n=t.shouldActivate;return n?{appliedUrl:e,state:function(t,e,n){var r=Zl(a.routeReuseStrategy,e._root,n?n._root:void 0);return new uT(r,e)}(0,t.snapshot,a.routerState),shouldActivate:n}:{appliedUrl:e,state:null,shouldActivate:n}}),_=a.routerState,b=a.currentUrlTree;v.forEach(function(t){var o=t.state;if(t.shouldActivate&&i===a.navigationId){if(a.currentUrlTree=t.appliedUrl,a.rawUrlTree=a.urlHandlingStrategy.merge(a.currentUrlTree,e),a.routerState=o,!n){var s=a.urlSerializer.serialize(a.rawUrlTree);a.location.isCurrentPathEqualTo(s)||r?a.location.replaceState(s):a.location.go(s)}new MT(a.routeReuseStrategy,o,_,function(t){return a.triggerEvent(t)}).activate(a.rootContexts),f=!0}else f=!1}).then(function(){f?(a.navigated=!0,a.events.next(new Px(i,a.serializeUrl(t),a.serializeUrl(a.currentUrlTree))),s(!0)):(a.resetUrlToCurrentUrlTree(),a.events.next(new Rx(i,a.serializeUrl(t),"")),s(!1))},function(n){if(n&&n[Wx])a.resetUrlToCurrentUrlTree(),a.navigated=!0,a.events.next(new Rx(i,a.serializeUrl(t),n.message)),s(!1);else{a.events.next(new Ox(i,a.serializeUrl(t),n));try{s(a.errorHandler(n))}catch(t){u(t)}}a.routerState=_,a.currentUrlTree=b,a.rawUrlTree=a.urlHandlingStrategy.merge(a.currentUrlTree,e),a.resetUrlToCurrentUrlTree()})})},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree))},t}(),MT=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ql(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=Vl(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),vl(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Vl(t),o=t.value.component?r.children:e;vl(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=Vl(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new Vx(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Bx(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(ql(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(o=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),dc(a.route)}else{var s=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=s?s.module.componentFactoryResolver:null;o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}(),AT=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof Px&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(_h.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:mc(this.skipLocationChange),replaceUrl:mc(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:mc(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:mc(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}(),CT=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new PT,this.attachRef=null}}(),PT=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new CT,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),RT=function(){function t(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new _h.EventEmitter,this.deactivateEvents=new _h.EventEmitter,this.name=r||Gx,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new OT(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),OT=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===lT?this.route:t===PT?this.childContexts:this.parent.get(t,e)},t}(),LT=function(){},kT=function(){function t(){}return t.prototype.preload=function(t,e){return Bi.call(e(),function(){return Gw(null)})},t}(),NT=function(){function t(){}return t.prototype.preload=function(t,e){return Gw(null)},t}(),IT=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new xT(e,n,function(e){return t.triggerEvent(new Ux(e))},function(e){return t.triggerEvent(new Fx(e))})}return t.prototype.setUpPreloading=function(){var t=this,e=(function(t,e){return function(t,e){return function(n){return n.lift(new Ex(t,e))}}(t,e)(this)}).call(this.router.events,function(t){return t instanceof Px});this.subscription=el.call(e,function(){return t.preload()}).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(_h.NgModuleRef);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;n.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?n.push(this.preloadConfig(t,o)):o.children&&n.push(this.processRoutes(t,o.children))}return ul.call(ux(n))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){var r=n.loader.load(t.injector,e);return nl.call(r,function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})})},t}(),DT=new _h.InjectionToken("ROUTER_CONFIGURATION"),UT=new _h.InjectionToken("ROUTER_FORROOT_GUARD"),FT=[Eh.Location,{provide:Kx,useClass:Qx},{provide:ET,useFactory:bc,deps:[_h.ApplicationRef,Kx,PT,Eh.Location,_h.Injector,_h.NgModuleFactoryLoader,_h.Compiler,wT,DT,[TT,new _h.Optional],[_T,new _h.Optional]]},PT,{provide:lT,useFactory:wc,deps:[ET]},{provide:_h.NgModuleFactoryLoader,useClass:_h.SystemJsNgModuleLoader},IT,NT,kT,{provide:DT,useValue:{enableTracing:!1}}],jT=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[FT,_c(e),{provide:UT,useFactory:vc,deps:[[ET,new _h.Optional,new _h.SkipSelf]]},{provide:DT,useValue:n||{}},{provide:Eh.LocationStrategy,useFactory:yc,deps:[Eh.PlatformLocation,[new _h.Inject(Eh.APP_BASE_HREF),new _h.Optional],DT]},{provide:LT,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:NT},{provide:_h.NgProbeToken,multi:!0,useFactory:gc},[BT,{provide:_h.APP_INITIALIZER,multi:!0,useFactory:xc,deps:[BT]},{provide:zT,useFactory:Tc,deps:[BT]},{provide:_h.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:zT}]]}},t.forChild=function(e){return{ngModule:t,providers:[_c(e)]}},t}(),BT=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new jw.Subject}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(Eh.LOCATION_INITIALIZED,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(ET),i=t.injector.get(DT);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Gw(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(DT),n=this.injector.get(IT),r=this.injector.get(ET),i=this.injector.get(_h.ApplicationRef);t===i.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}(),zT=new _h.InjectionToken("Router Initializer"),VT=n("/kLR"),GT=_h["\u0275crt"]({encapsulation:0,styles:[[".content[_ngcontent-%COMP%], .greeting[_ngcontent-%COMP%]{padding:30px 15px}"]],data:{}}),HT=_h["\u0275ccf"]("foundry-root",Sh,function(t){return _h["\u0275vid"](0,[(t()(),_h["\u0275eld"](0,16777216,null,null,1,"foundry-root",[],null,null,null,Sc,GT)),_h["\u0275did"](1,114688,null,0,Sh,[VT.ToastsManager,Ch.ToastOptions,_h.ViewContainerRef],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),WT=function(){},XT="*",qT=function(){function t(){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=0}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.init=function(){},t.prototype.play=function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0},t.prototype.triggerMicrotask=function(){var t=this;Ac(function(){return t._onFinish()})},t.prototype._onStart=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},t.prototype.pause=function(){},t.prototype.restart=function(){},t.prototype.finish=function(){this._onFinish()},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){},t.prototype.setPosition=function(t){},t.prototype.getPosition=function(){return 0},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),YT=function(){function t(t){var e=this;this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var n=0,r=0,i=0,o=this.players.length;0==o?Ac(function(){return e._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++n>=o&&e._onFinish()}),t.onDestroy(function(){++r>=o&&e._onDestroy()}),t.onStart(function(){++i>=o&&e._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this.players.forEach(function(t){return t.init()})},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype._onStart=function(){this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})},t.prototype.pause=function(){this.players.forEach(function(t){return t.pause()})},t.prototype.restart=function(){this.players.forEach(function(t){return t.restart()})},t.prototype.finish=function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})},t.prototype.destroy=function(){this._onDestroy()},t.prototype._onDestroy=function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype.setPosition=function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})},t.prototype.getPosition=function(){var t=0;return this.players.forEach(function(e){var n=e.getPosition();t=Math.min(n,t)}),t},t.prototype.beforeDestroy=function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),ZT="!",KT=function(t,e){return!1},QT=function(t,e){return!1},JT=function(t,e,n){return[]};if("undefined"!=typeof Element){if(KT=function(t,e){return t.contains(e)},Element.prototype.matches)QT=function(t,e){return t.matches(e)};else{var $T=Element.prototype,tS=$T.matchesSelector||$T.mozMatchesSelector||$T.msMatchesSelector||$T.oMatchesSelector||$T.webkitMatchesSelector;tS&&(QT=function(t,e){return tS.apply(t,[e])})}JT=function(t,e,n){var r=[];if(n)r.push.apply(r,t.querySelectorAll(e));else{var i=t.querySelector(e);i&&r.push(i)}return r}}var eS=null,nS=QT,rS=KT,iS=JT,oS=function(){function t(){}return t.prototype.validateStyleProperty=function(t){return Ic(t)},t.prototype.matchesElement=function(t,e){return nS(t,e)},t.prototype.containsElement=function(t,e){return rS(t,e)},t.prototype.query=function(t,e,n){return iS(t,e,n)},t.prototype.computeStyle=function(t,e,n){return n||""},t.prototype.animate=function(t,e,n,r,i,o){return void 0===o&&(o=[]),new qT},t}(),aS=function(){function t(){}return t.NOOP=new oS,t}(),sS=1e3,uS="ng-trigger",lS=".ng-trigger",cS=".ng-animating",hS=new RegExp("{{\\s*(.+?)\\s*}}","g"),fS=/-+([a-z0-9])/g,pS="*",dS=new Set,mS=new Set,gS=new RegExp("s*:selfs*,?","g"),yS=function(){function t(t){this._driver=t}return t.prototype.build=function(t,e){var n=new vS(e);return this._resetContextStyleTimingState(n),Zc(this,Hc(t),n)},t.prototype._resetContextStyleTimingState=function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0},t.prototype.visitTrigger=function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.split(/\s*,\s*/).forEach(function(t){s.name=t,o.push(n.visitState(s,e))}),s.name=u}else if(1==t.type){var l=n.visitTransition(t,e);r+=l.queryCount,i+=l.depCount,a.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}},t.prototype.visitState=function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach(function(t){if(Jc(t)){var e=t;Object.keys(e).forEach(function(t){Wc(e[t]).forEach(function(t){o.hasOwnProperty(t)||i.add(t)})})}}),i.size){var a=qc(i.values());e.errors.push('state("'+t.name+'", ...) must define default values for all the following style substitutions: '+a.join(", "))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}},t.prototype.visitTransition=function(t,e){e.queryCount=0,e.depCount=0;var n=Zc(this,Hc(t.animation),e);return{type:1,matchers:function(t,e){var n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'+t+'" is not supported'),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'+t+'" is not supported'),e;var o=i[1],a=i[2],s=i[3];e.push(Kc(o,s)),"<"!=a[0]||o==pS&&s==pS||e.push(Kc(s,o))}(t,n,e)}):n.push(t),n}(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:$c(t.options)}},t.prototype.visitSequence=function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return Zc(n,t,e)}),options:$c(t.options)}},t.prototype.visitGroup=function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map(function(t){e.currentTime=r;var o=Zc(n,t,e);return i=Math.max(i,e.currentTime),o});return e.currentTime=i,{type:3,steps:o,options:$c(t.options)}},t.prototype.visitAnimate=function(t,e){var n=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return th(jc(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var i=th(0,0,"");return i.dynamic=!0,i.strValue=r,i}return n=n||jc(r,e),th(n.duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;var r,i=t.styles?t.styles:Mc({});if(5==i.type)r=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};n.easing&&(s.easing=n.easing),o=Mc(s)}e.currentTime+=n.duration+n.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,r=u}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}},t.prototype.visitStyle=function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n},t.prototype._makeStyleAst=function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?t==XT?n.push(t):e.errors.push("The provided style string value "+t+" is not allowed."):n.push(t)}):n.push(t.styles);var r=!1,i=null;return n.forEach(function(t){if(Jc(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}},t.prototype._validateStyleAst=function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(r){if(n._driver.validateStyleProperty(r)){var a=e.collectedStyles[e.currentQuerySelector],s=a[r],u=!0;s&&(o!=i&&o>=s.startTime&&i<=s.endTime&&(e.errors.push('The CSS property "'+r+'" that exists between the times of "'+s.startTime+'ms" and "'+s.endTime+'ms" is also being animated in a parallel animation between the times of "'+o+'ms" and "'+i+'ms"'),u=!1),o=s.startTime),u&&(a[r]={startTime:o,endTime:i}),e.options&&function(n,i,o){var a=e.options.params||{},s=Wc(t[r]);s.length&&s.forEach(function(t){a.hasOwnProperty(t)||o.push("Unable to resolve the local animation param "+t+" in the given list of values")})}(0,0,e.errors)}else e.errors.push('The provided animation property "'+r+'" is not a supported CSS property for animations')})})},t.prototype.visitKeyframes=function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,l=t.steps.map(function(t){var r=n._makeStyleAst(t,e),l=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(Jc(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(Jc(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),c=0;return null!=l&&(i++,c=r.offset=l),s=s||c<0||c>1,a=a||c<u,u=c,o.push(c),r});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var c=t.steps.length,h=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(c-1));var f=c-1,p=e.currentTime,d=e.currentAnimateTimings,m=d.duration;return l.forEach(function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*m;e.currentTime=p+d.delay+s,d.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)}),r},t.prototype.visitReference=function(t,e){return{type:8,animation:Zc(this,Hc(t.animation),e),options:$c(t.options)}},t.prototype.visitAnimateChild=function(t,e){return e.depCount++,{type:9,options:$c(t.options)}},t.prototype.visitAnimateRef=function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:$c(t.options)}},t.prototype.visitQuery=function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace(gS,"")),t=t.replace(/@\*/g,lS).replace(/@\w+/g,function(t){return lS+"-"+t.substr(1)}).replace(/:animating/g,cS),[t,e]}(t.selector),o=i[0],a=i[1];e.currentQuerySelector=n.length?n+" "+o:o,kc(e.collectedStyles,e.currentQuerySelector,{});var s=Zc(this,Hc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:$c(t.options)}},t.prototype.visitStagger=function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:jc(t.timings,e.errors,!0);return{type:12,animation:Zc(this,Hc(t.animation),e),timings:n,options:null}},t}(),vS=function(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null},_S=function(){function t(){this._map=new Map}return t.prototype.consume=function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e},t.prototype.append=function(t,e){var n=this._map.get(t);n||this._map.set(t,n=[]),n.push.apply(n,e)},t.prototype.has=function(t){return this._map.has(t)},t.prototype.clear=function(){this._map.clear()},t}(),bS=new RegExp(":enter","g"),wS=new RegExp(":leave","g"),xS=function(){function t(){}return t.prototype.buildKeyframes=function(t,e,n,r,i,o,a,s,u,l){void 0===l&&(l=[]),u=u||new _S;var c=new SS(t,e,u,r,i,l,[]);c.options=s,c.currentTimeline.setStyles([o],null,c.errors,s),Zc(this,n,c);var h=c.timelines.filter(function(t){return t.containsAnimation()});if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,c.errors,s)}return h.length?h.map(function(t){return t.buildKeyframes()}):[eh(e,[],[],[],0,0,"",!1)]},t.prototype.visitTrigger=function(t,e){},t.prototype.visitState=function(t,e){},t.prototype.visitTransition=function(t,e){},t.prototype.visitAnimateChild=function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t},t.prototype.visitAnimateRef=function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t},t.prototype._visitSubInstructions=function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?Uc(n.duration):null,o=null!=n.delay?Uc(n.delay):null;return 0!==i&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r},t.prototype.visitReference=function(t,e){e.updateOptions(t.options,!0),Zc(this,t.animation,e),e.previousNode=t},t.prototype.visitSequence=function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=TS);var a=Uc(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach(function(t){return Zc(n,t,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t},t.prototype.visitGroup=function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Uc(t.options.delay):0;t.steps.forEach(function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),Zc(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(i),e.previousNode=t},t.prototype._visitTiming=function(t,e){if(t.dynamic){var n=t.strValue;return jc(e.params?Xc(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}},t.prototype.visitAnimate=function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t},t.prototype.visitStyle=function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t},t.prototype.visitKeyframes=function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t},t.prototype.visitQuery=function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Uc(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=TS);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),Zc(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe();var l=s.currentTimeline.currentTime;a=Math.max(a,l)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t},t.prototype.visitStagger=function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o*(e.currentQueryTotal-1)-a;break;case"full":a=n.currentStaggerTime}var s=e.currentTimeline;a&&s.delayNextStep(a);var u=s.currentTime;Zc(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)},t}(),TS={},SS=function(){function t(t,e,n,r,i,o,a,s){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=TS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=s||new ES(this._driver,e,0),a.push(this.currentTimeline)}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.updateOptions=function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=Uc(r.duration)),null!=r.delay&&(i.delay=Uc(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(t){e&&a.hasOwnProperty(t)||(a[t]=Xc(o[t],a,n.errors))})}}},t.prototype._copyOptions=function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t},t.prototype.createSubContext=function(e,n,r){void 0===e&&(e=null);var i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o},t.prototype.transformIntoNewTimeline=function(t){return this.previousNode=TS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline},t.prototype.appendInstructionToTimeline=function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new MS(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r},t.prototype.incrementTime=function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)},t.prototype.delayNextStep=function(t){t>0&&this.currentTimeline.delayNextStep(t)},t.prototype.invokeQuery=function(t,e,n,r,i,o){var a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(bS,"."+this._enterClassName)).replace(wS,"."+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,s)}return i||0!=a.length||o.push('`query("'+e+'")` returned zero elements. (Use `query("'+e+'", { optional: true })` if you wish to allow this.)'),a},t}(),ES=function(){function t(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return t.prototype.containsAnimation=function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}},t.prototype.getCurrentStyleProperties=function(){return Object.keys(this._currentKeyframe)},Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),t.prototype.delayNextStep=function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t},t.prototype.fork=function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)},t.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},t.prototype.forwardFrame=function(){this.duration+=1,this._loadKeyframe()},t.prototype.forwardTime=function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()},t.prototype._updateStyle=function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}},t.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},t.prototype.applyEmptyStep=function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||XT,e._currentKeyframe[t]=XT}),this._currentEmptyStepKeyframe=this._currentKeyframe},t.prototype.setStyles=function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(e,n){var r,i={};return t.forEach(function(t){"*"===t?(r=r||Object.keys(n)).forEach(function(t){i[t]=XT}):zc(t,!1,i)}),i}(0,this._globalTimelineStyles);Object.keys(a).forEach(function(t){var e=Xc(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:XT),i._updateStyle(t,e)})},t.prototype.applyStylesToKeyframe=function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))},t.prototype.snapshotCurrentStyles=function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})},t.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(t.prototype,"properties",{get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t},enumerable:!0,configurable:!0}),t.prototype.mergeTimelineCollectedStyles=function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)})},t.prototype.buildKeyframes=function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(o,a){var s=zc(o,!0);Object.keys(s).forEach(function(t){var r=s[t];r==ZT?e.add(t):r==XT&&n.add(t)}),r||(s.offset=a/t.duration),i.push(s)});var o=e.size?qc(e.values()):[],a=n.size?qc(n.values()):[];if(r){var s=i[0],u=Bc(s);s.offset=0,u.offset=1,i=[s,u]}return eh(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)},t}(),MS=function(t){function e(e,n,r,i,o,a,s){void 0===s&&(s=!1);var u=t.call(this,e,n,a.delay)||this;return u.element=n,u.keyframes=r,u.preStyleProps=i,u.postStyleProps=o,u._stretchStartingKeyframe=s,u.timings={duration:a.duration,delay:a.delay,easing:a.easing},u}return Object(pg.b)(e,t),e.prototype.containsAnimation=function(){return this.keyframes.length>1},e.prototype.buildKeyframes=function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=zc(t[0],!1);u.offset=0,o.push(u);var l=zc(t[0],!1);l.offset=rh(s),o.push(l);for(var c=t.length-1,h=1;h<=c;h++){var f=zc(t[h],!1);f.offset=rh((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return eh(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)},e}(ES),AS=function(){},CS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(pg.b)(e,t),e.prototype.normalizePropertyName=function(t,e){return Yc(t)},e.prototype.normalizeStyleValue=function(t,e,n,r){var i="",o=n.toString().trim();if(PS[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for "+t+":"+n)}return o+i},e}(AS),PS=function(t){var e={};return"width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",").forEach(function(t){return e[t]=!0}),e}(),RS={},OS=function(){function t(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}return t.prototype.match=function(t,e){return function(t,e,n){return t.some(function(t){return t(e,n)})}(this.ast.matchers,t,e)},t.prototype.buildStyles=function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o},t.prototype.build=function(t,e,n,r,i,o,a,s,u){var l=[],c=this.ast.options&&this.ast.options.params||RS,h=this.buildStyles(n,a&&a.params||RS,l),f=s&&s.params||RS,p=this.buildStyles(r,f,l),d=new Set,m=new Map,g=new Map,y="void"===r,v={params:Object(pg.a)({},c,f)},_=nh(t,e,this.ast.animation,i,o,h,p,v,u,l);if(l.length)return ih(e,this._triggerName,n,r,y,h,p,[],[],m,g,l);_.forEach(function(t){var n=t.element,r=kc(m,n,{});t.preStyleProps.forEach(function(t){return r[t]=!0});var i=kc(g,n,{});t.postStyleProps.forEach(function(t){return i[t]=!0}),n!==e&&d.add(n)});var b=qc(d.values());return ih(e,this._triggerName,n,r,y,h,p,_,b,m,g)},t}(),LS=function(){function t(t,e){this.styles=t,this.defaultParams=e}return t.prototype.buildStyles=function(t,e){var n={},r=Bc(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach(function(t){var o=i[t];o.length>1&&(o=Xc(o,r,e)),n[t]=o})}}),n},t}(),kS=function(){function t(t,e){var n=this;this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(function(t){n.states[t.name]=new LS(t.style,t.options&&t.options.params||{})}),oh(this.states,"true","1"),oh(this.states,"false","0"),e.transitions.forEach(function(e){n.transitionFactories.push(new OS(t,e,n.states))}),this.fallbackTransition=function(e,n){return new OS(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},n)}(0,this.states)}return Object.defineProperty(t.prototype,"containsQueries",{get:function(){return this.ast.queryCount>0},enumerable:!0,configurable:!0}),t.prototype.matchTransition=function(t,e){return this.transitionFactories.find(function(n){return n.match(t,e)})||null},t.prototype.matchStyles=function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)},t}(),NS=new _S,IS=function(){function t(t,e){this._driver=t,this._normalizer=e,this._animations={},this._playersById={},this.players=[]}return t.prototype.register=function(t,e){var n=[],r=Qc(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r},t.prototype._buildPlayer=function(t,e,n){var r=t.element,i=Pc(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[])},t.prototype.create=function(t,e,n){var r=this;void 0===n&&(n={});var i,o=[],a=this._animations[t],s=new Map;if(a?(i=nh(this._driver,e,a,"ng-enter","ng-leave",{},{},n,NS,o)).forEach(function(t){var e=kc(s,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),i=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=r._driver.computeStyle(e,n,XT)})});var u=Cc(i.map(function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)}));return this._playersById[t]=u,u.onDestroy(function(){return r.destroy(t)}),this.players.push(u),u},t.prototype.destroy=function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)},t.prototype._getPlayer=function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e},t.prototype.listen=function(t,e,n,r){var i=Lc(e,"","","");return Rc(this._getPlayer(t),n,i,r),function(){}},t.prototype.command=function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])},t}(),DS="ng-animate-disabled",US=".ng-animate-disabled",FS=[],jS={namespaceId:"",setForRemoval:null,hasAnimation:!1,removedBeforeQueried:!1},BS={namespaceId:"",setForRemoval:null,hasAnimation:!1,removedBeforeQueried:!0},zS="__ng_removed",VS=function(){function t(t,e){void 0===e&&(e=""),this.namespaceId=e;var n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){var r=Bc(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.absorbOptions=function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}},t}(),GS=new VS("void"),HS=new VS("DELETED"),WS=function(){function t(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ch(e,this._hostClassName)}return t.prototype.listen=function(t,e,n,r){var i=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'+n+'" because the animation trigger "'+e+"\" doesn't exist!");if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'+e+'" because the provided event is undefined!');if("start"!=n&&"done"!=n)throw new Error('The provided animation trigger event "'+n+'" for the animation trigger "'+e+'" is not supported!');var o=kc(this._elementListeners,t,[]),a={name:e,phase:n,callback:r};o.push(a);var s=kc(this._engine.statesByElement,t,{});return s.hasOwnProperty(e)||(ch(t,uS),ch(t,uS+"-"+e),s[e]=GS),function(){i._engine.afterFlush(function(){var t=o.indexOf(a);t>=0&&o.splice(t,1),i._triggers[e]||delete s[e]})}},t.prototype.register=function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)},t.prototype._getTrigger=function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'+t+'" has not been registered!');return e},t.prototype.trigger=function(t,e,n,r){var i=this;void 0===r&&(r=!0);var o=this._getTrigger(e),a=new qS(this.id,e,t),s=this._engine.statesByElement.get(t);s||(ch(t,uS),ch(t,uS+"-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],l=new VS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),s[e]=l,u){if(u===HS)return a}else u=GS;if("void"===l.value||u.value!==l.value){var c=kc(this._engine.playersByElement,t,[]);c.forEach(function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()});var h=o.matchTransition(u.value,l.value),f=!1;if(!h){if(!r)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:l,player:a,isFallbackTransition:f}),f||(ch(t,"ng-animate-queued"),a.onStart(function(){hh(t,"ng-animate-queued")})),a.onDone(function(){var e=i.players.indexOf(a);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}}),this.players.push(a),c.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,l.params)){var p=[],d=o.matchStyles(u.value,u.params,p),m=o.matchStyles(l.value,l.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(function(){Gc(t,d),Vc(t,m)})}},t.prototype.deregister=function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,r){e._elementListeners.set(r,n.filter(function(e){return e.name!=t}))})},t.prototype.clearElementCache=function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))},t.prototype._signalRemovalForInnerTriggers=function(t,e,n){var r=this;void 0===n&&(n=!1),this._engine.driver.query(t,lS,!0).forEach(function(t){var n=r._engine.fetchNamespacesByElement(t);n.size?n.forEach(function(n){n.triggerLeaveAnimation(t,e,!1,!0)}):r.clearElementCache(t)})},t.prototype.triggerLeaveAnimation=function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Cc(a).onDone(function(){return i._engine.processLeaveNode(t)}),!0}return!1},t.prototype.prepareLeaveAnimationListeners=function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach(function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,a=e._engine.statesByElement.get(t)[i]||GS,s=new VS("void"),u=new qS(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}})}},t.prototype.removeNode=function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}this.prepareLeaveAnimationListeners(t),i?r.markElementAsRemoved(this.id,t,!1,e):(r.afterFlush(function(){return n.clearElementCache(t)}),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}},t.prototype.insertNode=function(t,e){ch(t,this._hostClassName)},t.prototype.drainQueuedTransitions=function(t){var e=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach(function(e){if(e.name==r.triggerName){var n=Lc(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,Rc(r.player,e.phase,n,e.callback)}}),i.markedForDestroy?e._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1})},t.prototype.destroy=function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)},t.prototype.elementContainsData=function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(function(e){return e.element===t})||e},t}(),XS=function(){function t(t,e){this.driver=t,this._normalizer=e,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return t.prototype._onRemovalComplete=function(t,e){this.onRemovalComplete(t,e)},Object.defineProperty(t.prototype,"queuedPlayers",{get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t},enumerable:!0,configurable:!0}),t.prototype.createNamespace=function(t,e){var n=new WS(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n},t.prototype._balanceNamespaceList=function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t},t.prototype.register=function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n},t.prototype.registerTrigger=function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++},t.prototype.destroy=function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(e)})}},t.prototype._fetchNamespace=function(t){return this._namespaceLookup[t]},t.prototype.fetchNamespacesByElement=function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e},t.prototype.trigger=function(t,e,n,r){return!!ah(e)&&(this._fetchNamespace(t).trigger(e,n,r),!0)},t.prototype.insertNode=function(t,e,n,r){if(ah(e)){var i=e[zS];i&&i.setForRemoval&&(i.setForRemoval=!1),t&&this._fetchNamespace(t).insertNode(e,n),r&&this.collectEnterElement(e)}},t.prototype.collectEnterElement=function(t){this.collectedEnterElements.push(t)},t.prototype.markElementAsDisabled=function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ch(t,DS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),hh(t,DS))},t.prototype.removeNode=function(t,e,n){if(ah(e)){var r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n)}else this._onRemovalComplete(e,n)},t.prototype.markElementAsRemoved=function(t,e,n,r){this.collectedLeaveElements.push(e),e[zS]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}},t.prototype.listen=function(t,e,n,r,i){return ah(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}},t.prototype._buildInstruction=function(t,e,n,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e)},t.prototype.destroyInnerAnimations=function(t){var e=this,n=this.driver.query(t,lS,!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,cS,!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})},t.prototype.destroyActiveAnimationsForElement=function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()});var n=this.statesByElement.get(t);n&&Object.keys(n).forEach(function(t){return n[t]=HS})},t.prototype.finishActiveQueriedAnimationOnElement=function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})},t.prototype.whenRenderingDone=function(){var t=this;return new Promise(function(e){if(t.players.length)return Cc(t.players).onDone(function(){return e()});e()})},t.prototype.processLeaveNode=function(t){var e=this,n=t[zS];if(n&&n.setForRemoval){if(t[zS]=jS,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,US)&&this.markElementAsDisabled(t,!1),this.driver.query(t,US,!0).forEach(function(n){e.markElementAsDisabled(t,!1)})},t.prototype.flush=function(t){var e=this;void 0===t&&(t=-1);var n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)ch(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(r=0;r<i.length;r++)i[r]()}}else for(r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var o=this._whenQuietFns;this._whenQuietFns=[],n.length?Cc(n).onDone(function(){o.forEach(function(t){return t()})}):o.forEach(function(t){return t()})}},t.prototype.reportError=function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))},t.prototype._flushAnimations=function(t,e){var n=this,r=new _S,i=[],o=new Map,a=[],s=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(function(t){c.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)c.add(e[r])});var h=Dc(),f=Array.from(this.statesByElement.keys()),p=lh(f,this.collectedEnterElements),d=new Map,m=0;p.forEach(function(t,e){var n="ng-enter"+m++;d.set(e,n),t.forEach(function(t){return ch(t,n)})});for(var g=[],y=new Set,v=new Set,_=0;_<this.collectedLeaveElements.length;_++)(D=(I=this.collectedLeaveElements[_])[zS])&&D.setForRemoval&&(g.push(I),y.add(I),D.hasAnimation?this.driver.query(I,".ng-star-inserted",!0).forEach(function(t){return y.add(t)}):v.add(I));var b=new Map,w=lh(f,Array.from(y));w.forEach(function(t,e){var n="ng-leave"+m++;b.set(e,n),t.forEach(function(t){return ch(t,n)})}),t.push(function(){p.forEach(function(t,e){var n=d.get(e);t.forEach(function(t){return hh(t,n)})}),w.forEach(function(t,e){var n=b.get(e);t.forEach(function(t){return hh(t,n)})}),g.forEach(function(t){n.processLeaveNode(t)})});for(var x=[],T=[],S=this._namespaceList.length-1;S>=0;S--)this._namespaceList[S].drainQueuedTransitions(e).forEach(function(t){var e=t.player;x.push(e);var o=t.element;if(h&&n.driver.containsElement(h,o)){var c=b.get(o),f=d.get(o),p=n._buildInstruction(t,r,f,c);if(p.errors&&p.errors.length)T.push(p);else{if(t.isFallbackTransition)return e.onStart(function(){return Gc(o,p.fromStyles)}),e.onDestroy(function(){return Vc(o,p.toStyles)}),void i.push(e);p.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),r.append(o,p.timelines),a.push({instruction:p,player:e,element:o}),p.queriedElements.forEach(function(t){return kc(s,t,[]).push(e)}),p.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var r=u.get(e);r||u.set(e,r=new Set),n.forEach(function(t){return r.add(t)})}}),p.postStyleProps.forEach(function(t,e){var n=Object.keys(t),r=l.get(e);r||l.set(e,r=new Set),n.forEach(function(t){return r.add(t)})})}}else e.destroy()});if(T.length){var E=[];T.forEach(function(t){E.push("@"+t.triggerName+" has failed due to:\n"),t.errors.forEach(function(t){return E.push("- "+t+"\n")})}),x.forEach(function(t){return t.destroy()}),this.reportError(E)}var M=new Map,A=new Map;a.forEach(function(t){var e=t.element;r.has(e)&&(A.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,M))}),i.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){kc(M,e,[]).push(t),t.destroy()})});var C=g.filter(function(t){return ph(t,u,l)}),P=new Map;uh(P,this.driver,v,l,XT).forEach(function(t){ph(t,u,l)&&C.push(t)});var R=new Map;p.forEach(function(t,e){uh(R,n.driver,new Set(t),u,ZT)}),C.forEach(function(t){var e=P.get(t),n=R.get(t);P.set(t,Object(pg.a)({},e,n))});var O=[],L=[],k={};a.forEach(function(t){var e=t.element,a=t.player,s=t.instruction;if(r.has(e)){if(c.has(e))return a.onDestroy(function(){return Vc(e,s.toStyles)}),void i.push(a);var u=k;if(A.size>1){for(var l=e,h=[];l=l.parentNode;){var f=A.get(l);if(f){u=f;break}h.push(l)}h.forEach(function(t){return A.set(t,u)})}var p=n._buildAnimation(a.namespaceId,s,M,o,R,P);if(a.setRealPlayer(p),u===k)O.push(a);else{var d=n.playersByElement.get(u);d&&d.length&&(a.parentPlayer=Cc(d)),i.push(a)}}else Gc(e,s.fromStyles),a.onDestroy(function(){return Vc(e,s.toStyles)}),L.push(a),c.has(e)&&i.push(a)}),L.forEach(function(t){var e=o.get(t.element);if(e&&e.length){var n=Cc(e);t.setRealPlayer(n)}}),i.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var N=0;N<g.length;N++){var I,D=(I=g[N])[zS];if(hh(I,"ng-leave"),!D||!D.hasAnimation){var U=[];if(s.size){var F=s.get(I);F&&F.length&&U.push.apply(U,F);for(var j=this.driver.query(I,cS,!0),B=0;B<j.length;B++){var z=s.get(j[B]);z&&z.length&&U.push.apply(U,z)}}var V=U.filter(function(t){return!t.destroyed});V.length?function(t,e,n){Cc(V).onDone(function(){return t.processLeaveNode(e)})}(this,I):this.processLeaveNode(I)}}return g.length=0,O.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),O},t.prototype.elementContainsData=function(t,e){var n=!1,r=e[zS];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n},t.prototype.afterFlush=function(t){this._flushFns.push(t)},t.prototype.afterFlushAnimationsDone=function(t){this._whenQuietFns.push(t)},t.prototype._getPreviousPlayers=function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach(function(t){t.queued||(u||t.triggerName==r)&&o.push(t)})}}return(n||r)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)})),o},t.prototype._beforeAnimationBuild=function(t,e,n){for(var r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName,a=function(t){var a=t.element,u=a!==r,l=kc(n,a,[]);s._getPreviousPlayers(a,u,i,o,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})},s=this,u=0,l=e.timelines;u<l.length;u++)a(l[u]);Gc(r,e.fromStyles)},t.prototype._buildAnimation=function(t,e,n,r,i,o){var a=this,s=e.triggerName,u=e.element,l=[],c=new Set,h=new Set,f=e.timelines.map(function(e){var f=e.element;c.add(f);var p=f[zS];if(p&&p.removedBeforeQueried)return new qT;var d=f!==u,m=function(t){var e=[];return fh((n.get(f)||FS).map(function(t){return t.getRealPlayer()}),e),e}().filter(function(t){return!!t.element&&t.element===f}),g=i.get(f),y=o.get(f),v=Pc(0,a._normalizer,0,e.keyframes,g,y),_=a._buildPlayer(e,v,m);if(e.subTimeline&&r&&h.add(f),d){var b=new qS(t,s,f);b.setRealPlayer(_),l.push(b)}return _});l.forEach(function(t){kc(a.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else(r=t[e])&&(r.length&&(i=r.indexOf(n),r.splice(i,1)),0==r.length&&delete t[e]);return r}(a.playersByQueriedElement,t.element,t)})}),c.forEach(function(t){return ch(t,"ng-animating")});var p=Cc(f);return p.onDestroy(function(){c.forEach(function(t){return hh(t,"ng-animating")}),Vc(u,e.toStyles)}),h.forEach(function(t){kc(r,t,[]).push(p)}),p},t.prototype._buildPlayer=function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new qT},t}(),qS=function(){function t(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new qT,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1}return Object.defineProperty(t.prototype,"queued",{get:function(){return 0==this._containsRealPlayer},enumerable:!0,configurable:!0}),t.prototype.setRealPlayer=function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return Rc(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0)},t.prototype.getRealPlayer=function(){return this._player},t.prototype.syncPlayerEvents=function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})},t.prototype._queueEvent=function(t,e){kc(this._queuedCallbacks,t,[]).push(e)},t.prototype.onDone=function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)},t.prototype.onStart=function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)},t.prototype.onDestroy=function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)},t.prototype.init=function(){this._player.init()},t.prototype.hasStarted=function(){return!this.queued&&this._player.hasStarted()},t.prototype.play=function(){!this.queued&&this._player.play()},t.prototype.pause=function(){!this.queued&&this._player.pause()},t.prototype.restart=function(){!this.queued&&this._player.restart()},t.prototype.finish=function(){this._player.finish()},t.prototype.destroy=function(){this.destroyed=!0,this._player.destroy()},t.prototype.reset=function(){!this.queued&&this._player.reset()},t.prototype.setPosition=function(t){this.queued||this._player.setPosition(t)},t.prototype.getPosition=function(){return this.queued?0:this._player.getPosition()},Object.defineProperty(t.prototype,"totalTime",{get:function(){return this._player.totalTime},enumerable:!0,configurable:!0}),t.prototype.triggerCallback=function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)},t}(),YS="$$classes",ZS=function(){function t(t,e){var n=this;this._driver=t,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new XS(t,e),this._timelineEngine=new IS(t,e),this._transitionEngine.onRemovalComplete=function(t,e){return n.onRemovalComplete(t,e)}}return t.prototype.registerTrigger=function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=Qc(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'+r+'" has failed to build due to the following errors:\n - '+s.join("\n - "));a=new kS(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)},t.prototype.register=function(t,e){this._transitionEngine.register(t,e)},t.prototype.destroy=function(t,e){this._transitionEngine.destroy(t,e)},t.prototype.onInsert=function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)},t.prototype.onRemove=function(t,e,n){this._transitionEngine.removeNode(t,e,n)},t.prototype.disableAnimations=function(t,e){this._transitionEngine.markElementAsDisabled(t,e)},t.prototype.process=function(t,e,n,r){if("@"==n.charAt(0)){var i=Nc(n);this._timelineEngine.command(i[0],e,i[1],r)}else this._transitionEngine.trigger(t,e,n,r)},t.prototype.listen=function(t,e,n,r,i){if("@"==n.charAt(0)){var o=Nc(n);return this._timelineEngine.listen(o[0],e,o[1],i)}return this._transitionEngine.listen(t,e,n,r,i)},t.prototype.flush=function(t){void 0===t&&(t=-1),this._transitionEngine.flush(t)},Object.defineProperty(t.prototype,"players",{get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)},enumerable:!0,configurable:!0}),t.prototype.whenRenderingDone=function(){return this._transitionEngine.whenRenderingDone()},t}(),KS=function(){function t(t,e,n,r){void 0===r&&(r=[]);var i=this;this.element=t,this.keyframes=e,this.options=n,this.previousPlayers=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.previousStyles={},this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay,function(t,e){return 0===t||0===e}(this._duration,this._delay)&&r.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return i.previousStyles[t]=e[t]})})}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this._buildPlayer(),this._preparePlayerBeforeStart()},t.prototype._buildPlayer=function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes.map(function(t){return zc(t,!1)}),n=Object.keys(this.previousStyles);if(n.length){var r=e[0],i=[];if(n.forEach(function(e){r.hasOwnProperty(e)||i.push(e),r[e]=t.previousStyles[e]}),i.length)for(var o=this,a=function(){var t=e[s];i.forEach(function(e){t[e]=dh(o.element,e)})},s=1;s<e.length;s++)a()}this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}},t.prototype._preparePlayerBeforeStart=function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()},t.prototype._triggerWebAnimation=function(t,e,n){return t.animate(e,n)},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.play=function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0),this.domPlayer.play()},t.prototype.pause=function(){this.init(),this.domPlayer.pause()},t.prototype.finish=function(){this.init(),this._onFinish(),this.domPlayer.finish()},t.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype._resetDomPlayerState=function(){this.domPlayer&&this.domPlayer.cancel()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.hasStarted=function(){return this._started},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.setPosition=function(t){this.domPlayer.currentTime=t*this.time},t.prototype.getPosition=function(){return this.domPlayer.currentTime/this.time},Object.defineProperty(t.prototype,"totalTime",{get:function(){return this._delay+this._duration},enumerable:!0,configurable:!0}),t.prototype.beforeDestroy=function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:dh(t.element,n))}),this.currentSnapshot=e},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),QS=function(){function t(){}return t.prototype.validateStyleProperty=function(t){return Ic(t)},t.prototype.matchesElement=function(t,e){return nS(t,e)},t.prototype.containsElement=function(t,e){return rS(t,e)},t.prototype.query=function(t,e,n){return iS(t,e,n)},t.prototype.computeStyle=function(t,e,n){return window.getComputedStyle(t)[e]},t.prototype.animate=function(t,e,n,r,i,o){void 0===o&&(o=[]);var a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);var s=o.filter(function(t){return t instanceof KS});return new KS(t,e,a,s)},t}(),JS=function(t){function e(e,n){var r=t.call(this)||this;return r._nextAnimationId=0,r._renderer=e.createRenderer(n.body,{id:"0",encapsulation:_h.ViewEncapsulation.None,styles:[],data:{animation:[]}}),r}return Object(pg.b)(e,t),e.prototype.build=function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Ec(t):t;return mh(this._renderer,null,e,"register",[n]),new $S(e,this._renderer)},e}(WT),$S=function(t){function e(e,n){var r=t.call(this)||this;return r._id=e,r._renderer=n,r}return Object(pg.b)(e,t),e.prototype.create=function(t,e){return new tE(this._id,t,e||{},this._renderer)},e}(function(){}),tE=function(){function t(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}return t.prototype._listen=function(t,e){return this._renderer.listen(this.element,"@@"+this.id+":"+t,e)},t.prototype._command=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return mh(this._renderer,this.element,this.id,t,e)},t.prototype.onDone=function(t){this._listen("done",t)},t.prototype.onStart=function(t){this._listen("start",t)},t.prototype.onDestroy=function(t){this._listen("destroy",t)},t.prototype.init=function(){this._command("init")},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this._command("play"),this._started=!0},t.prototype.pause=function(){this._command("pause")},t.prototype.restart=function(){this._command("restart")},t.prototype.finish=function(){this._command("finish")},t.prototype.destroy=function(){this._command("destroy")},t.prototype.reset=function(){this._command("reset")},t.prototype.setPosition=function(t){this._command("setPosition",t)},t.prototype.getPosition=function(){return 0},t}(),eE=function(){function t(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return t.prototype.createRenderer=function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new nE("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach(function(e){return n.engine.registerTrigger(o,a,t,e.name,e)}),new rE(this,a,r,this.engine)},t.prototype.begin=function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()},t.prototype._scheduleCountTask=function(){var t=this;Zone.current.scheduleMicroTask("incremenet the animation microtask",function(){return t._microtaskId++})},t.prototype.scheduleListenerCallback=function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return e(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(t){(0,t[0])(t[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))},t.prototype.end=function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.engine.whenRenderingDone()},t}(),nE=function(){function t(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(t){return e.destroyNode(t)}:null}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()},t.prototype.createElement=function(t,e){return this.delegate.createElement(t,e)},t.prototype.createComment=function(t){return this.delegate.createComment(t)},t.prototype.createText=function(t){return this.delegate.createText(t)},t.prototype.appendChild=function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)},t.prototype.insertBefore=function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)},t.prototype.removeChild=function(t,e){this.engine.onRemove(this.namespaceId,e,this.delegate)},t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setAttribute=function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)},t.prototype.setValue=function(t,e){this.delegate.setValue(t,e)},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.disableAnimations=function(t,e){this.engine.disableAnimations(t,e)},t}(),rE=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.factory=e,o.namespaceId=n,o}return Object(pg.b)(e,t),e.prototype.setProperty=function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)},e.prototype.listen=function(t,e,n){var r=this;if("@"==e.charAt(0)){var i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),o=e.substr(1),a="";return"@"!=o.charAt(0)&&(o=(s=function(t){var e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(o))[0],a=s[1]),this.engine.listen(this.namespaceId,i,o,a,function(t){r.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n);var s},e}(nE),iE=function(t){function e(e,n){return t.call(this,e,n)||this}return Object(pg.b)(e,t),e}(ZS),oE=function(){},aE=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),sE=function(){},uE=function(){},lE=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t}(),cE=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[hm]}},t}(),hE=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Xd]}},t}(),fE=n("8bfK"),pE=function(){},dE=_h["\u0275cmf"](wh,[Sh],function(t){return _h["\u0275mod"]([_h["\u0275mpd"](512,_h.ComponentFactoryResolver,_h["\u0275CodegenComponentFactoryResolver"],[[8,[Rh,ef,Hd,Hg,sy,py,cy,vy,wy,zy,Fw,HT]],[3,_h.ComponentFactoryResolver],_h.NgModuleRef]),_h["\u0275mpd"](5120,_h.LOCALE_ID,_h["\u0275m"],[[3,_h.LOCALE_ID]]),_h["\u0275mpd"](4608,Eh.NgLocalization,Eh.NgLocaleLocalization,[_h.LOCALE_ID,[2,Eh["\u0275a"]]]),_h["\u0275mpd"](5120,_h.APP_ID,_h["\u0275f"],[]),_h["\u0275mpd"](5120,_h.IterableDiffers,_h["\u0275k"],[]),_h["\u0275mpd"](5120,_h.KeyValueDiffers,_h["\u0275l"],[]),_h["\u0275mpd"](4608,Ah.DomSanitizer,Ah["\u0275e"],[Eh.DOCUMENT]),_h["\u0275mpd"](6144,_h.Sanitizer,null,[Ah.DomSanitizer]),_h["\u0275mpd"](4608,Ah.HAMMER_GESTURE_CONFIG,Ah.HammerGestureConfig,[]),_h["\u0275mpd"](5120,Ah.EVENT_MANAGER_PLUGINS,function(t,e,n,r,i){return[new Ah["\u0275DomEventsPlugin"](t,e),new Ah["\u0275KeyEventsPlugin"](n),new Ah["\u0275HammerGesturesPlugin"](r,i)]},[Eh.DOCUMENT,_h.NgZone,Eh.DOCUMENT,Eh.DOCUMENT,Ah.HAMMER_GESTURE_CONFIG]),_h["\u0275mpd"](4608,Ah.EventManager,Ah.EventManager,[Ah.EVENT_MANAGER_PLUGINS,_h.NgZone]),_h["\u0275mpd"](135680,Ah["\u0275DomSharedStylesHost"],Ah["\u0275DomSharedStylesHost"],[Eh.DOCUMENT]),_h["\u0275mpd"](4608,Ah["\u0275DomRendererFactory2"],Ah["\u0275DomRendererFactory2"],[Ah.EventManager,Ah["\u0275DomSharedStylesHost"]]),_h["\u0275mpd"](5120,aS,gh,[]),_h["\u0275mpd"](5120,AS,yh,[]),_h["\u0275mpd"](4608,ZS,iE,[aS,AS]),_h["\u0275mpd"](5120,_h.RendererFactory2,vh,[Ah["\u0275DomRendererFactory2"],ZS,_h.NgZone]),_h["\u0275mpd"](6144,Ah["\u0275SharedStylesHost"],null,[Ah["\u0275DomSharedStylesHost"]]),_h["\u0275mpd"](4608,_h.Testability,_h.Testability,[_h.NgZone]),_h["\u0275mpd"](4608,Ah.Meta,Ah.Meta,[Eh.DOCUMENT]),_h["\u0275mpd"](4608,Ah.Title,Ah.Title,[Eh.DOCUMENT]),_h["\u0275mpd"](4608,WT,JS,[_h.RendererFactory2,Ah.DOCUMENT]),_h["\u0275mpd"](4608,aE,aE,[]),_h["\u0275mpd"](4608,mg,mg,[]),_h["\u0275mpd"](4608,wg,xg,[]),_h["\u0275mpd"](5120,Tg,xi,[]),_h["\u0275mpd"](4608,Lg,Lg,[mg,wg,Tg]),_h["\u0275mpd"](4608,kg,Ng,[]),_h["\u0275mpd"](5120,zg,Ti,[Lg,kg]),_h["\u0275mpd"](5120,lT,wc,[ET]),_h["\u0275mpd"](4608,NT,NT,[]),_h["\u0275mpd"](6144,LT,null,[NT]),_h["\u0275mpd"](135680,IT,IT,[ET,_h.NgModuleFactoryLoader,_h.Compiler,_h.Injector,LT]),_h["\u0275mpd"](4608,kT,kT,[]),_h["\u0275mpd"](5120,zT,Tc,[BT]),_h["\u0275mpd"](5120,_h.APP_BOOTSTRAP_LISTENER,function(t){return[t]},[zT]),_h["\u0275mpd"](4608,hm,hm,[]),_h["\u0275mpd"](4608,Xd,Xd,[]),_h["\u0275mpd"](4608,Ch.ToastOptions,Ch.ToastOptions,[]),_h["\u0275mpd"](4608,VT.ToastsManager,VT.ToastsManager,[_h.ComponentFactoryResolver,_h.NgZone,_h.ApplicationRef,Ch.ToastOptions]),_h["\u0275mpd"](4608,Lw,Lw,[zg]),_h["\u0275mpd"](4608,jy,jy,[zg]),_h["\u0275mpd"](4608,$h,$h,[]),_h["\u0275mpd"](512,Eh.CommonModule,Eh.CommonModule,[]),_h["\u0275mpd"](1024,_h.ErrorHandler,Ah["\u0275a"],[]),_h["\u0275mpd"](1024,_h.NgProbeToken,function(){return[gc()]},[]),_h["\u0275mpd"](512,BT,BT,[_h.Injector]),_h["\u0275mpd"](1024,_h.APP_INITIALIZER,function(t,e){return[Ah["\u0275h"](t),xc(e)]},[[2,_h.NgProbeToken],BT]),_h["\u0275mpd"](512,_h.ApplicationInitStatus,_h.ApplicationInitStatus,[[2,_h.APP_INITIALIZER]]),_h["\u0275mpd"](131584,_h.ApplicationRef,_h.ApplicationRef,[_h.NgZone,_h["\u0275Console"],_h.Injector,_h.ErrorHandler,_h.ComponentFactoryResolver,_h.ApplicationInitStatus]),_h["\u0275mpd"](512,_h.ApplicationModule,_h.ApplicationModule,[_h.ApplicationRef]),_h["\u0275mpd"](512,Ah.BrowserModule,Ah.BrowserModule,[[3,Ah.BrowserModule]]),_h["\u0275mpd"](512,oE,oE,[]),_h["\u0275mpd"](512,lE,lE,[]),_h["\u0275mpd"](512,cE,cE,[]),_h["\u0275mpd"](512,hE,hE,[]),_h["\u0275mpd"](512,fE.ToastModule,fE.ToastModule,[]),_h["\u0275mpd"](512,sE,sE,[]),_h["\u0275mpd"](512,uE,uE,[]),_h["\u0275mpd"](512,Vg,Vg,[]),_h["\u0275mpd"](1024,UT,vc,[[3,ET]]),_h["\u0275mpd"](512,Kx,Qx,[]),_h["\u0275mpd"](512,PT,PT,[]),_h["\u0275mpd"](256,DT,{},[]),_h["\u0275mpd"](1024,Eh.LocationStrategy,yc,[Eh.PlatformLocation,[2,Eh.APP_BASE_HREF],DT]),_h["\u0275mpd"](512,Eh.Location,Eh.Location,[Eh.LocationStrategy]),_h["\u0275mpd"](512,_h.Compiler,_h.Compiler,[]),_h["\u0275mpd"](512,_h.NgModuleFactoryLoader,_h.SystemJsNgModuleLoader,[_h.Compiler,[2,_h.SystemJsNgModuleLoaderConfig]]),_h["\u0275mpd"](1024,wT,function(){return[[{path:"",pathMatch:"full",redirectTo:"welcome"},{path:"welcome",component:Qh},{path:"webgl",component:Vd},{path:"canvas",component:fg},{path:"test",component:oy},{path:"svg",component:hy},{path:"circle",component:uy},{path:"tree",component:gy},{path:"list",component:_y},{path:"swim",component:Ly},{path:"network",component:Dw}]]},[]),_h["\u0275mpd"](1024,ET,bc,[_h.ApplicationRef,Kx,PT,Eh.Location,_h.Injector,_h.NgModuleFactoryLoader,_h.Compiler,wT,DT,[2,TT],[2,_T]]),_h["\u0275mpd"](512,jT,jT,[[2,UT],[2,ET]]),_h["\u0275mpd"](512,pE,pE,[]),_h["\u0275mpd"](512,wh,wh,[])])});bh.production&&Object(_h.enableProdMode)(),Ah.platformBrowser().bootstrapModuleFactory(dE)},dJzE:function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);l.call(this,t),c.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||a(o,this)}function o(t){t.end()}var a=n("1Rb4"),s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=r;var u=n("VIKU");u.inherits=n("lDCR");var l=n("INGy"),c=n("6QZ3");u.inherits(r,l);for(var h=s(c.prototype),f=0;f<h.length;f++){var p=h[f];r.prototype[p]||(r.prototype[p]=c.prototype[p])}Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),r.prototype._destroy=function(t,e){this.push(null),this.end(),a(e,t)}},fRUx:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},grVA:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},iAGO:function(t,e,n){"use strict";function r(t,e){t.emit("error",e)}var i=n("1Rb4");t.exports={destroy:function(t,e){var n=this;this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i(r,this,t):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(i(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},iw1t:function(t,e,n){"use strict";(function(e){function r(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function i(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}function o(t){return Object.prototype.toString.call(t)}function a(t){return!i(t)&&"function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer)))}function s(t){if(y.isFunction(t)){if(b)return t.name;var e=t.toString().match(x);return e&&e[1]}}function u(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function l(t){if(b||!y.isFunction(t))return y.inspect(t);var e=s(t);return"[Function"+(e?": "+e:"")+"]"}function c(t,e,n,r,i){throw new w.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function h(t,e){t||c(t,!0,e,"==",w.ok)}function f(t,e,n,s){if(t===e)return!0;if(i(t)&&i(e))return 0===r(t,e);if(y.isDate(t)&&y.isDate(e))return t.getTime()===e.getTime();if(y.isRegExp(t)&&y.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(a(t)&&a(e)&&o(t)===o(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;var u=(s=s||{actual:[],expected:[]}).actual.indexOf(t);return-1!==u&&u===s.expected.indexOf(e)||(s.actual.push(t),s.expected.push(e),function(t,e,n,r){if(null===t||void 0===t||null===e||void 0===e)return!1;if(y.isPrimitive(t)||y.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=p(t),o=p(e);if(i&&!o||!i&&o)return!1;if(i)return t=_.call(t),e=_.call(e),f(t,e,n);var a,s,u=T(t),l=T(e);if(u.length!==l.length)return!1;for(u.sort(),l.sort(),s=u.length-1;s>=0;s--)if(u[s]!==l[s])return!1;for(s=u.length-1;s>=0;s--)if(a=u[s],!f(t[a],e[a],n,r))return!1;return!0}(t,e,n,s))}return n?t===e:t==e}function p(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function d(t,e,n){f(t,e,!0)&&c(t,e,n,"notDeepStrictEqual",d)}function m(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function g(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&c(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!t&&y.isError(i),s=!t&&i&&!n;if((a&&o&&m(i,n)||s)&&c(i,n,"Got unwanted exception"+r),t&&i&&n&&!m(i,n)||!t&&i)throw i}var y=n("N+n4"),v=Object.prototype.hasOwnProperty,_=Array.prototype.slice,b="foo"===(function(){}).name,w=t.exports=h,x=/\s*function\s+([^\(\s]*)\s*/;w.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return u(l(t.actual),128)+" "+t.operator+" "+u(l(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||c;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=s(e),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},y.inherits(w.AssertionError,Error),w.fail=c,w.ok=h,w.equal=function(t,e,n){t!=e&&c(t,e,n,"==",w.equal)},w.notEqual=function(t,e,n){t==e&&c(t,e,n,"!=",w.notEqual)},w.deepEqual=function(t,e,n){f(t,e,!1)||c(t,e,n,"deepEqual",w.deepEqual)},w.deepStrictEqual=function(t,e,n){f(t,e,!0)||c(t,e,n,"deepStrictEqual",w.deepStrictEqual)},w.notDeepEqual=function(t,e,n){f(t,e,!1)&&c(t,e,n,"notDeepEqual",w.notDeepEqual)},w.notDeepStrictEqual=d,w.strictEqual=function(t,e,n){t!==e&&c(t,e,n,"===",w.strictEqual)},w.notStrictEqual=function(t,e,n){t===e&&c(t,e,n,"!==",w.notStrictEqual)},w.throws=function(t,e,n){g(!0,t,e,n)},w.doesNotThrow=function(t,e,n){g(!1,t,e,n)},w.ifError=function(t){if(t)throw t};var T=Object.keys||function(t){var e=[];for(var n in t)v.call(t,n)&&e.push(n);return e}}).call(e,n("fRUx"))},jxpy:function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return a[t>>18&63]+a[t>>12&63]+a[t>>6&63]+a[63&t]}function o(t,e,n){for(var r=[],o=e;o<n;o+=3)r.push(i((t[o]<<16)+(t[o+1]<<8)+t[o+2]));return r.join("")}e.byteLength=function(t){return 3*t.length/4-r(t)},e.toByteArray=function(t){var e,n,i,o,a,l=t.length;o=r(t),a=new u(3*l/4-o),n=o>0?l-4:l;var c=0;for(e=0;e<n;e+=4)i=s[t.charCodeAt(e)]<<18|s[t.charCodeAt(e+1)]<<12|s[t.charCodeAt(e+2)]<<6|s[t.charCodeAt(e+3)],a[c++]=i>>16&255,a[c++]=i>>8&255,a[c++]=255&i;return 2===o?(i=s[t.charCodeAt(e)]<<2|s[t.charCodeAt(e+1)]>>4,a[c++]=255&i):1===o&&(i=s[t.charCodeAt(e)]<<10|s[t.charCodeAt(e+1)]<<4|s[t.charCodeAt(e+2)]>>2,a[c++]=i>>8&255,a[c++]=255&i),a},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,i="",s=[],u=0,l=n-r;u<l;u+=16383)s.push(o(t,u,u+16383>l?l:u+16383));return 1===r?(i+=a[(e=t[n-1])>>2],i+=a[e<<4&63],i+="=="):2===r&&(i+=a[(e=(t[n-2]<<8)+t[n-1])>>10],i+=a[e>>4&63],i+=a[e<<2&63],i+="="),s.push(i),s.join("")};for(var a=[],s=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,h=l.length;c<h;++c)a[c]=l[c],s[l.charCodeAt(c)]=c;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},kQVV:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length}},kpwx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Base64EncodedHubProtocol=class{constructor(t){this.wrappedProtocol=t,this.name=this.wrappedProtocol.name,this.type=1}parseMessages(t){let e=t.indexOf(":");if(-1==e||";"!=t[t.length-1])throw new Error("Invalid payload.");let n=t.substring(0,e);if(!/^[0-9]+$/.test(n))throw new Error(`Invalid length: '${n}'`);if(parseInt(n,10)!=t.length-e-2)throw new Error("Invalid message size.");let r=t.substring(e+1,t.length-1),i=atob(r),o=new Uint8Array(i.length);for(let a=0;a<o.length;a++)o[a]=i.charCodeAt(a);return this.wrappedProtocol.parseMessages(o.buffer)}writeMessage(t){let e=new Uint8Array(this.wrappedProtocol.writeMessage(t)),n="";for(let i=0;i<e.byteLength;i++)n+=String.fromCharCode(e[i]);let r=btoa(n);return`${r.length.toString()}:${r};`}}},"l+DM":function(t,e,n){"use strict";var r=n("6Xbx"),i=n("E9/g"),o=n("Ry8D"),a=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),s=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return Object(r.b)(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){this.resultSelector?this._tryResultSelector(t,e):this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new o.a):(t.next(this.defaultValue),t.complete())},e}(i.a);e.a=function(t,e,n){return function(t,e,n){return function(r){return r.lift(new a(t,e,n,r))}}(t,e,n)(this)}},lDCR:function(t,e){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},lI6h:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6Xbx"),i=function(t){function e(){t.apply(this,arguments)}return Object(r.b)(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("E9/g").a)},mHG6:function(t,e,n){"use strict";e.a=function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},mgOm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("sxf2");class i{log(t,e){}}e.NullLogger=i;class o{constructor(t){this.minimumLogLevel=t}log(t,e){t>=this.minimumLogLevel&&console.log(`${r.LogLevel[t]}: ${e}`)}}e.ConsoleLogger=o,(e.LoggerFactory||(e.LoggerFactory={})).createLogger=function(t){return void 0===t?new o(r.LogLevel.Information):null===t?new i:t.log?t:new o(t)}},mz3w:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){var e,r=n("xIGM").a.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}()},nHik:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpError=class extends Error{constructor(t,e){super(t),this.statusCode=e}}},qLnt:function(t,e,n){"use strict";function r(t){return t.reduce(function(t,e){return t.concat(e instanceof c?e.errors:e)},[])}var i=n("1j/l"),o=n("NGRF"),a=n("B1iP"),s=n("8ofh"),u=n("NePw"),l=n("6Xbx"),c=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return Object(l.b)(e,t),e}(Error);n.d(e,"a",function(){return h});var h=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,l=this._parents,h=this._unsubscribe,f=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,d=l?l.length:0;n;)n.remove(this),n=++p<d&&l[p]||null;if(Object(a.a)(h)&&Object(s.a)(h).call(this)===u.a&&(e=!0,t=t||(u.a.e instanceof c?r(u.a.e.errors):[u.a.e])),Object(i.a)(f))for(p=-1,d=f.length;++p<d;){var m=f[p];if(Object(o.a)(m)&&Object(s.a)(m.unsubscribe).call(m)===u.a){e=!0,t=t||[];var g=u.a.e;g instanceof c?t=t.concat(r(g.errors)):t.push(g)}}if(e)throw new c(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}()},qgI0:function(t,e,n){"use strict";var r=n("xIGM"),i=n("kQVV"),o=n("mHG6"),a=n("NGRF"),s=n("AP4T"),u=n("X3fp"),l=n("6Xbx"),c=function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return Object(l.b)(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("E9/g").a),h=n("mz3w");e.a=function(t,e,n,l){var f=new c(t,n,l);if(f.closed)return null;if(e instanceof s.a)return e._isScalar?(f.next(e.value),f.complete(),null):(f.syncErrorThrowable=!0,e.subscribe(f));if(Object(i.a)(e)){for(var p=0,d=e.length;p<d&&!f.closed;p++)f.next(e[p]);f.closed||f.complete()}else{if(Object(o.a)(e))return e.then(function(t){f.closed||(f.next(t),f.complete())},function(t){return f.error(t)}).then(null,function(t){r.a.setTimeout(function(){throw t})}),f;if(e&&"function"==typeof e[u.a])for(var m=e[u.a]();;){var g=m.next();if(g.done){f.complete();break}if(f.next(g.value),f.closed)break}else if(e&&"function"==typeof e[h.a]){var y=e[h.a]();if("function"==typeof y.subscribe)return y.subscribe(new c(t,n,l));f.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var v="You provided "+(Object(a.a)(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";f.error(new TypeError(v))}}return null}},rOzH:function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,s,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(n=this._events[t],o(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),a=(l=n.slice()).length,u=0;u<a;u++)l[u].apply(this,s);return!0},n.prototype.on=n.prototype.addListener=function(t,e){var a;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},sxf2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Trace=0]="Trace",t[t.Information=1]="Information",t[t.Warning=2]="Warning",t[t.Error=3]="Error",t[t.None=4]="None"}(e.LogLevel||(e.LogLevel={}))},t6g9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("LMZF");e.ToastOptions=function(){function t(){this.positionClass="toast-top-right",this.maxShown=5,this.newestOnTop=!1,this.animate="fade",this.toastLife=5e3,this.enableHTML=!1,this.dismiss="auto",this.messageClass="toast-message",this.titleClass="toast-title",this.showCloseButton=!1}return t.decorators=[{type:r.Injectable}],t}()},v0OU:function(t,e,n){"use strict";(function(t){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=o.prototype:(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return a(this,t,e,n)}function a(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),o.TYPED_ARRAY_SUPPORT?(t=e).__proto__=o.prototype:t=l(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(e,n),a=(t=i(t,r)).write(e,n);return a!==r&&(t=t.slice(0,a)),t}(t,e,n):function(t,e){if(o.isBuffer(e)){var n=0|c(e.length);return 0===(t=i(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?i(t,0):l(t,e);if("Buffer"===e.type&&N(e.data))return l(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e){if(s(e),t=i(t,e<0?0:0|c(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function l(t,e){var n=e.length<0?0:0|c(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function c(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function h(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return P(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return R(t).length;default:if(r)return P(t).length;e=(""+e).toLowerCase(),r=!0}}function f(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function p(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=o.from(e,r)),o.isBuffer(e))return 0===e.length?-1:d(t,e,n,r,i);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):d(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function d(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}var l;if(i){var c=-1;for(l=n;l<s;l++)if(o(t,l)===o(e,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*a}else-1!==c&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var h=!0,f=0;f<u;f++)if(o(t,l+f)!==o(e,f)){h=!1;break}if(h)return l}return-1}function m(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function g(t,e,n,r){return O(P(e,t.length-n),t,n,r)}function y(t,e,n,r){return O(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function v(t,e,n,r){return y(t,e,n,r)}function _(t,e,n,r){return O(R(e),t,n,r)}function b(t,e,n,r){return O(function(t,e){for(var n,r,i=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i.push(n%256),i.push(r);return i}(e,t.length-n),t,n,r)}function w(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,l,c,h;switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(u=t[i+1]))&&(h=(31&o)<<6|63&u)>127&&(a=h);break;case 3:l=t[i+2],128==(192&(u=t[i+1]))&&128==(192&l)&&(h=(15&o)<<12|(63&u)<<6|63&l)>2047&&(h<55296||h>57343)&&(a=h);break;case 4:l=t[i+2],c=t[i+3],128==(192&(u=t[i+1]))&&128==(192&l)&&128==(192&c)&&(h=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&h<1114112&&(a=h)}}null===a?(a=65533,s=1):a>65535&&(r.push((a-=65536)>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return function(t){var e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=I));return n}(r)}function x(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function T(t,e,n,r,i,a){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function S(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function E(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function M(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function A(t,e,n,r,i){return i||M(t,0,n,4),k.write(t,e,n,r,23,4),n+4}function C(t,e,n,r,i){return i||M(t,0,n,8),k.write(t,e,n,r,52,8),n+8}function P(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function R(t){return L.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(D,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function O(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}var L=n("jxpy"),k=n("7WRt"),N=n("CDvF");e.Buffer=o,e.SlowBuffer=function(t){return+t!=t&&(t=0),o.alloc(+t)},e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,n){return a(null,t,e,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,n){return function(t,e,n,r){return s(e),e<=0?i(null,e):void 0!==n?"string"==typeof r?i(null,e).fill(n,r):i(null,e).fill(n):i(null,e)}(0,t,e,n)},o.allocUnsafe=function(t){return u(null,t)},o.allocUnsafeSlow=function(t){return u(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!N(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=o.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=h,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)f(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?w(this,0,t):(function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(t[o]);return i}(this,e,n);case"utf8":case"utf-8":return w(this,e,n);case"ascii":return function(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}(this,e,n);case"latin1":case"binary":return function(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}(this,e,n);case"base64":return function(t,r,i){return L.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}(this);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,r,i){for(var o=t.slice(e,n),a="",s=0;s<o.length;s+=2)a+=String.fromCharCode(o[s]+256*o[s+1]);return a}(this);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}).apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,r,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var a=i-r,s=n-e,u=Math.min(a,s),l=this.slice(r,i),c=t.slice(e,n),h=0;h<u;++h)if(l[h]!==c[h]){a=l[h],s=c[h];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return p(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return p(this,t,e,n,!1)},o.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return g(this,t,e,n);case"ascii":return y(this,t,e,n);case"latin1":case"binary":return v(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(o.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=o.prototype;else{var i=e-t;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+t]}return r},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),k.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),k.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),k.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),k.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||T(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||T(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):S(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):S(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):E(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):E(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);T(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);T(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):S(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):S(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):E(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||T(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):E(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return A(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return A(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return C(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return C(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&n<e&&e<r)for(i=a-1;i>=0;--i)t[i+e]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},o.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var a;if("number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=o.isBuffer(t)?t:P(new o(t,r).toString()),u=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%u]}return this};var D=/[^+\/0-9A-Za-z-_]/g}).call(e,n("fRUx"))},vXqd:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n("wEtH"),o=n("A8hP"),a=n("OgJz"),s=n("XjJb"),u=n("kpwx"),l=n("sxf2"),c=n("mgOm");var h=n("MJpX");e.TransportType=h.TransportType;var f=n("wEtH");e.HttpConnection=f.HttpConnection;var p=n("OgJz");e.JsonHubProtocol=p.JsonHubProtocol;var d=n("sxf2");e.LogLevel=d.LogLevel;var m=n("mgOm");e.ConsoleLogger=m.ConsoleLogger,e.NullLogger=m.NullLogger,e.HubConnection=class{constructor(t,e={}){e=e||{},this.connection="string"==typeof t?new i.HttpConnection(t,e):t,this.logger=c.LoggerFactory.createLogger(e.logging),this.protocol=e.protocol||new a.JsonHubProtocol,this.connection.onreceive=(t=>this.processIncomingData(t)),this.connection.onclose=(t=>this.connectionClosed(t)),this.callbacks=new Map,this.methods=new Map,this.closedCallbacks=[],this.id=0}processIncomingData(t){let e=this.protocol.parseMessages(t);for(var n=0;n<e.length;++n){var r=e[n];switch(r.type){case 1:this.invokeClientMethod(r);break;case 2:case 3:let e=this.callbacks.get(r.invocationId);null!=e&&(3==r.type&&this.callbacks.delete(r.invocationId),e(r));break;default:this.logger.log(l.LogLevel.Warning,"Invalid message type: "+t)}}}invokeClientMethod(t){let e=this.methods.get(t.target.toLowerCase());e?e.forEach(e=>e.apply(this,t.arguments)):this.logger.log(l.LogLevel.Warning,`No client method with the name '${t.target}' found.`)}connectionClosed(t){let e={type:3,invocationId:"-1",error:t?t.message:"Invocation cancelled due to connection being closed."};this.callbacks.forEach(t=>{t(e)}),this.callbacks.clear(),this.closedCallbacks.forEach(e=>e.apply(this,[t]))}start(){return r(this,void 0,void 0,function*(){let t=2===this.protocol.type?2:1;this.connection.features.transferMode=t,yield this.connection.start();var e=this.connection.features.transferMode;yield this.connection.send(s.TextMessageFormat.write(JSON.stringify({protocol:this.protocol.name}))),this.logger.log(l.LogLevel.Information,`Using HubProtocol '${this.protocol.name}'.`),2===t&&1===e&&(this.protocol=new u.Base64EncodedHubProtocol(this.protocol))})}stop(){return this.connection.stop()}stream(t,...e){let n=this.createInvocation(t,e,!1),r=new o.Subject;this.callbacks.set(n.invocationId,t=>{if(3===t.type){let e=t;e.error?r.error(new Error(e.error)):e.result?r.error(new Error("Server provided a result in a completion response to a streamed invocation.")):r.complete()}else r.next(t.item)});let i=this.protocol.writeMessage(n);return this.connection.send(i).catch(t=>{r.error(t),this.callbacks.delete(n.invocationId)}),r}send(t,...e){let n=this.createInvocation(t,e,!0),r=this.protocol.writeMessage(n);return this.connection.send(r)}invoke(t,...e){let n=this.createInvocation(t,e,!1);return new Promise((t,e)=>{this.callbacks.set(n.invocationId,n=>{if(3===n.type){let r=n;r.error?e(new Error(r.error)):t(r.result)}else e(new Error("Streaming methods must be invoked using HubConnection.stream"))});let r=this.protocol.writeMessage(n);this.connection.send(r).catch(t=>{e(t),this.callbacks.delete(n.invocationId)})})}on(t,e){t&&e&&(t=t.toLowerCase(),this.methods.has(t)||this.methods.set(t,[]),this.methods.get(t).push(e))}off(t,e){if(!t||!e)return;t=t.toLowerCase();let n=this.methods.get(t);if(n){var r=n.indexOf(e);-1!=r&&n.splice(r,1)}}onclose(t){t&&this.closedCallbacks.push(t)}createInvocation(t,e,n){let r=this.id;return this.id++,{type:1,invocationId:r.toString(),target:t,arguments:e,nonblocking:n}}}},wEtH:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n("MJpX"),o=n("y9Z8"),a=n("sxf2"),s=n("mgOm");e.HttpConnection=class{constructor(t,e={}){this.features={},this.logger=s.LoggerFactory.createLogger(e.logging),this.url=this.resolveUrl(t),this.httpClient=(e=e||{}).httpClient||new o.HttpClient,this.connectionState=0,this.options=e}start(){return r(this,void 0,void 0,function*(){return 0!=this.connectionState?Promise.reject(new Error("Cannot start a connection that is not in the 'Initial' state.")):(this.connectionState=1,this.startPromise=this.startInternal(),this.startPromise)})}startInternal(){return r(this,void 0,void 0,function*(){try{let t=yield this.httpClient.options(this.url),e=JSON.parse(t);if(this.connectionId=e.connectionId,3==this.connectionState)return;this.url+=(-1==this.url.indexOf("?")?"?":"&")+`id=${this.connectionId}`,this.transport=this.createTransport(this.options.transport,e.availableTransports),this.transport.onreceive=this.onreceive,this.transport.onclose=(t=>this.stopConnection(!0,t)),this.features.transferMode=yield this.transport.connect(this.url,2===this.features.transferMode?2:1),this.changeState(1,2)}catch(t){throw this.logger.log(a.LogLevel.Error,"Failed to start the connection. "+t),this.connectionState=3,this.transport=null,t}})}createTransport(t,e){if(!t&&e.length>0&&(t=i.TransportType[e[0]]),t===i.TransportType.WebSockets&&e.indexOf(i.TransportType[t])>=0)return new i.WebSocketTransport(this.logger);if(t===i.TransportType.ServerSentEvents&&e.indexOf(i.TransportType[t])>=0)return new i.ServerSentEventsTransport(this.httpClient,this.logger);if(t===i.TransportType.LongPolling&&e.indexOf(i.TransportType[t])>=0)return new i.LongPollingTransport(this.httpClient,this.logger);if(this.isITransport(t))return t;throw new Error("No available transports found.")}isITransport(t){return"object"==typeof t&&"connect"in t}changeState(t,e){return this.connectionState==t&&(this.connectionState=e,!0)}send(t){if(2!=this.connectionState)throw new Error("Cannot send data if the connection is not in the 'Connected' State");return this.transport.send(t)}stop(){return r(this,void 0,void 0,function*(){let t=this.connectionState;this.connectionState=3;try{yield this.startPromise}catch(t){}this.stopConnection(2==t)})}stopConnection(t,e){this.transport&&(this.transport.stop(),this.transport=null),this.connectionState=3,t&&this.onclose&&this.onclose(e)}resolveUrl(t){if(0===t.lastIndexOf("https://",0)||0===t.lastIndexOf("http://",0))return t;if("undefined"==typeof window||!window||!window.document)throw new Error(`Cannot resolve '${t}'.`);let e=window.document.createElement("a");e.href=t;let n=e.protocol&&":"!==e.protocol?`${e.protocol}//${e.host}`:`${window.document.location.protocol}//${e.host||window.document.location.host}`;t&&"/"==t[0]||(t="/"+t);let r=n+t;return this.logger.log(a.LogLevel.Information,`Normalizing '${t}' to '${r}'`),r}}},wHgO:function(t,e,n){t.exports=n("rOzH").EventEmitter},wP3s:function(t,e,n){"use strict";e.a=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return"number"==typeof e&&(n=e,e=null),r.lift(new a(t,e,n))}};var r=n("6Xbx"),i=n("qgI0"),o=n("lI6h"),a=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.resultSelector,this.concurrent))},t}(),s=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return Object(r.b)(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(Object(i.a)(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},"x+2D":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toast=function(t,e,n,r){this.type=t,this.message=e,this.title=n,this.data=r,this.config={dismiss:"auto",enableHTML:!1,titleClass:"",messageClass:"",toastLife:3e3,showCloseButton:!1}}},xIGM:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});var r="undefined"!=typeof window&&window,i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=r||"undefined"!=typeof t&&t||i}).call(e,n("fRUx"))},xxyt:function(t,e,n){"use strict";function r(t,e){var n;return n=i.allocUnsafe(5),n[0]=202,n.writeFloatBE(t,1),(e||Math.abs(t-n.readFloatBE(1))>a)&&((n=i.allocUnsafe(9))[0]=203,n.writeDoubleBE(t,1)),n}var i=n("zOKz").Buffer,o=n("2iE6"),a=.1;t.exports=function(t,e,n){function a(s,u){var l,c;if(void 0===s)throw new Error("undefined is not encodable in msgpack!");if(null===s)(l=i.allocUnsafe(1))[0]=192;else if(!0===s)(l=i.allocUnsafe(1))[0]=195;else if(!1===s)(l=i.allocUnsafe(1))[0]=194;else if("string"==typeof s)(c=i.byteLength(s))<32?((l=i.allocUnsafe(1+c))[0]=160|c,c>0&&l.write(s,1)):c<=255&&!n?((l=i.allocUnsafe(2+c))[0]=217,l[1]=c,l.write(s,2)):c<=65535?((l=i.allocUnsafe(3+c))[0]=218,l.writeUInt16BE(c,1),l.write(s,3)):((l=i.allocUnsafe(5+c))[0]=219,l.writeUInt32BE(c,1),l.write(s,5));else if(s&&(s.readUInt32LE||s instanceof Uint8Array))s instanceof Uint8Array&&(s=i.from(s)),s.length<=255?((l=i.allocUnsafe(2))[0]=196,l[1]=s.length):s.length<=65535?((l=i.allocUnsafe(3))[0]=197,l.writeUInt16BE(s.length,1)):((l=i.allocUnsafe(5))[0]=198,l.writeUInt32BE(s.length,1)),l=o([l,s]);else if(Array.isArray(s))s.length<16?(l=i.allocUnsafe(1))[0]=144|s.length:s.length<65536?((l=i.allocUnsafe(3))[0]=220,l.writeUInt16BE(s.length,1)):((l=i.allocUnsafe(5))[0]=221,l.writeUInt32BE(s.length,1)),l=s.reduce(function(t,e){return t.append(a(e,!0)),t},o().append(l));else if("object"==typeof s)l=function(e){var n,r,a=-1,s=[];for(n=0;n<t.length;n++)if(t[n].check(e)){r=t[n].encode(e);break}return r?(1==(a=r.length-1)?s.push(212):2===a?s.push(213):4===a?s.push(214):8===a?s.push(215):16===a?s.push(216):a<256?(s.push(199),s.push(a)):a<65536?(s.push(200),s.push(a>>8),s.push(255&a)):(s.push(201),s.push(a>>24),s.push(a>>16&255),s.push(a>>8&255),s.push(255&a)),o().append(i.from(s)).append(r)):null}(s)||function(t){var e,n,r=[],s=0;for(e in t)t.hasOwnProperty(e)&&void 0!==t[e]&&"function"!=typeof t[e]&&(++s,r.push(a(e,!0)),r.push(a(t[e],!0)));return s<16?(n=i.allocUnsafe(1))[0]=128|s:((n=i.allocUnsafe(3))[0]=222,n.writeUInt16BE(s,1)),r.unshift(n),r.reduce(function(t,e){return t.append(e)},o())}(s);else if("number"==typeof s){if(function(t){return t!==Math.floor(t)}(s))return r(s,e);if(s>=0)if(s<128)(l=i.allocUnsafe(1))[0]=s;else if(s<256)(l=i.allocUnsafe(2))[0]=204,l[1]=s;else if(s<65536)(l=i.allocUnsafe(3))[0]=205,l.writeUInt16BE(s,1);else if(s<=4294967295)(l=i.allocUnsafe(5))[0]=206,l.writeUInt32BE(s,1);else{if(!(s<=9007199254740991))return r(s,!0);(l=i.allocUnsafe(9))[0]=207,function(t,e){for(var n=7;n>=0;n--)t[n+1]=255&e,e/=256}(l,s)}else if(s>=-32)(l=i.allocUnsafe(1))[0]=256+s;else if(s>=-128)(l=i.allocUnsafe(2))[0]=208,l.writeInt8(s,1);else if(s>=-32768)(l=i.allocUnsafe(3))[0]=209,l.writeInt16BE(s,1);else if(s>-214748365)(l=i.allocUnsafe(5))[0]=210,l.writeInt32BE(s,1);else{if(!(s>=-9007199254740991))return r(s,!0);(l=i.allocUnsafe(9))[0]=211,function(t,e,n){var r=n<0;r&&(n=Math.abs(n));var i=n%4294967296,o=n/4294967296;if(t.writeUInt32BE(Math.floor(o),1),t.writeUInt32BE(i,5),r)for(var a=1,s=8;s>=1;s--){var u=(255^t[s])+a;t[s]=255&u,a=u>>8}}(l,0,s)}}if(!l)throw new Error("not implemented yet");return u?l:l.slice()}return a}},y9Z8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n("nHik");e.HttpClient=class{get(t,e){return this.xhr("GET",t,e)}options(t,e){return this.xhr("OPTIONS",t,e)}post(t,e,n){return this.xhr("POST",t,n,e)}xhr(t,e,n,i){return new Promise((o,a)=>{let s=new XMLHttpRequest;s.open(t,e,!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),n&&n.forEach((t,e)=>s.setRequestHeader(e,t)),s.send(i),s.onload=(()=>{s.status>=200&&s.status<300?o(s.response||s.responseText):a(new r.HttpError(s.statusText,s.status))}),s.onerror=(()=>{a(new r.HttpError(s.statusText,s.status))})})}}},yY5i:function(t,e,n){"use strict";function r(t,e,n){t.copy(e,n)}var i=n("zOKz").Buffer;t.exports=function(){function t(){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e=i.allocUnsafe(t>>>0),n=this.head,o=0;n;)r(n.data,e,o),o+=n.data.length,n=n.next;return e},t}()},zOKz:function(t,e,n){function r(t,e){for(var n in t)e[n]=t[n]}function i(t,e,n){return a(t,e,n)}var o=n("v0OU"),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=o:(r(o,e),e.Buffer=i),r(a,i),i.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return a(t,e,n)},i.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=a(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}}},[0]);